(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15000d50"],{"1c59":function(t,e,n){"use strict";var i=n("6d61"),s=n("6566");i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},"2eff":function(t,e,n){"use strict";n("c03b")},"498b":function(t,e,n){},"4fad":function(t,e,n){var i=n("d039"),s=n("861d"),a=n("c6b6"),r=n("d86b"),o=Object.isExtensible,c=i((function(){o(1)}));t.exports=c||r?function(t){return!!s(t)&&((!r||"ArrayBuffer"!=a(t))&&(!o||o(t)))}:o},6062:function(t,e,n){n("1c59")},"60d7":function(t){t.exports=JSON.parse('["蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","横刀断浪","绝代天骄","天鹅坪","破阵子","飞龙在天","青梅煮酒"]')},6566:function(t,e,n){"use strict";var i=n("7c73"),s=n("edd0"),a=n("6964"),r=n("0366"),o=n("19aa"),c=n("7234"),u=n("2266"),d=n("c6d2"),l=n("4754"),f=n("2626"),v=n("83ab"),h=n("f183").fastKey,p=n("69f3"),m=p.set,g=p.getterFor;t.exports={getConstructor:function(t,e,n,d){var l=t((function(t,s){o(t,f),m(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),v||(t.size=0),c(s)||u(s,t[d],{that:t,AS_ENTRIES:n})})),f=l.prototype,p=g(e),b=function(t,e,n){var i,s,a=p(t),r=_(t,e);return r?r.value=n:(a.last=r={index:s=h(e,!0),key:e,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=r),i&&(i.next=r),v?a.size++:t.size++,"F"!==s&&(a.index[s]=r)),t},_=function(t,e){var n,i=p(t),s=h(e);if("F"!==s)return i.index[s];for(n=i.first;n;n=n.next)if(n.key==e)return n};return a(f,{clear:function(){var t=this,e=p(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,v?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),i=_(e,t);if(i){var s=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=s),s&&(s.previous=a),n.first==i&&(n.first=s),n.last==i&&(n.last=a),v?n.size--:e.size--}return!!i},forEach:function(t){var e,n=p(this),i=r(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!_(this,t)}}),a(f,n?{get:function(t){var e=_(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),v&&s(f,"size",{configurable:!0,get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var i=e+" Iterator",s=g(e),a=g(i);d(t,e,(function(t,e){m(this,{type:i,target:t,state:s(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?l("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,l(void 0,!0))}),n?"entries":"values",!n,!0),f(e)}}},"6d61":function(t,e,n){"use strict";var i=n("23e7"),s=n("da84"),a=n("e330"),r=n("94ca"),o=n("cb2d"),c=n("f183"),u=n("2266"),d=n("19aa"),l=n("1626"),f=n("7234"),v=n("861d"),h=n("d039"),p=n("1c7e"),m=n("d44e"),g=n("7156");t.exports=function(t,e,n){var b=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),y=b?"set":"add",A=s[t],x=A&&A.prototype,w=A,k={},C=function(t){var e=a(x[t]);o(x,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(_&&!v(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return _&&!v(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!v(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},Y=r(t,!l(A)||!(_||x.forEach&&!h((function(){(new A).entries().next()}))));if(Y)w=n.getConstructor(e,t,b,y),c.enable();else if(r(t,!0)){var D=new w,S=D[y](_?{}:-0,1)!=D,j=h((function(){D.has(1)})),O=p((function(t){new A(t)})),M=!_&&h((function(){var t=new A,e=5;while(e--)t[y](e,e);return!t.has(-0)}));O||(w=e((function(t,e){d(t,x);var n=g(new A,t,w);return f(e)||u(e,n[y],{that:n,AS_ENTRIES:b}),n})),w.prototype=x,x.constructor=w),(j||M)&&(C("delete"),C("has"),b&&C("get")),(M||S)&&C(y),_&&x.clear&&delete x.clear}return k[t]=w,i({global:!0,constructor:!0,forced:w!=A},k),m(w,t),_||n.setStrong(w,t,b),w}},"85b5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return t.id?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"p-adventure-single"},[e("div",{staticClass:"m-adventure-navigation"},[e("el-button",{staticClass:"u-goback",attrs:{size:"medium",plain:""},on:{click:t.goBack}},[t._v("返回列表")])],1),e("div",{staticClass:"m-adventure-header"},[e("span",{staticClass:"m-adventure-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"m-trigger-links"},[e("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achieve_id),target:"_blank"}},[e("i",{staticClass:"el-icon-trophy"}),t._v(" 成就信息 ")])])]),e("div",{staticClass:"m-adventure-content"},[e("task",{attrs:{id:t.id,info:t.data}})],1),e("pvx-user",{attrs:{id:t.achieve_id,name:"奇遇",type:"achievement"}},[e("template",{slot:"serendipity"},[e("div",{staticClass:"m-adventure-serendipity"},[e("Serendipity",{attrs:{title:t.title}})],1)])],2)],1):t._e()},s=[],a=(n("14d9"),n("d3b7"),n("ac1f"),n("841c"),n("85e4")),r=n("bed2"),o=n("11a3"),c=function(){var t=this,e=t._self._c;return t.task?e("div",{staticClass:"m-adventure-task"},[e("img",{staticClass:"u-prefix",attrs:{src:n("bb64")}}),e("img",{staticClass:"u-suffix",attrs:{src:n("bb64")}}),e("div",{staticClass:"u-content",attrs:{id:"task-box"}},[e("div",{staticClass:"u-item u-task-name"},[e("img",{attrs:{src:t.getImg()}}),e("div",{staticClass:"u-info-box"},[e("span",{staticClass:"u-title"},[t._v(t._s(t.info.szName))])])]),t._l(t.task,(function(n,i){return e("div",{key:i,staticClass:"u-item"},[e("img",{attrs:{src:t.imgUrl(n.imgurl)}}),e("div",{staticClass:"u-info-box u-desc-box"},[e("div",{staticClass:"u-title"},[t._v(t._s(n.szGoalMsg))]),e("div",{staticClass:"u-desc"},[t._v(t._s(t.getText(n.szDescribe)))]),e("div",{staticClass:"u-desc"},[t._v(t._s(t.getText(n.szFinishDescribe)))])])])}))],2),e("div",{staticClass:"u-btn"},[e("span",{class:t.isDisabled("task-box",1,t.isUpdate),on:{click:function(e){return t.crosswiseScrool(e,"task-box",1,600)}}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("span",{class:t.isDisabled("task-box",-1,t.isUpdate),on:{click:function(e){return t.crosswiseScrool(e,"task-box",-1,600)}}},[t._v("继续 "),e("i",{staticClass:"el-icon-arrow-right"})])])]):t._e()},u=[],d=n("2909"),l=(n("4de4"),n("99af"),n("466d"),n("5319"),n("159b"),n("6062"),n("3ca3"),n("ddb0"),n("ed08")),f=n("5a0c"),v=n.n(f),h={name:"task",props:["id","info"],inject:["__imgRoot"],components:{},data:function(){return{task:[],isUpdate:!1,school:"2"}},computed:{client:function(){return this.$store.state.client},camp:function(){return v()().date()%2?1:2}},methods:{toSpecial:function(t){var e=t.szRewardType,n=t.szOpenRewardPath,i=t.szOpenRewardPath.split("\\").filter(Boolean).pop();return"school"==e&&(n="reward/open/".concat(i,"/school_").concat(this.school,"_open")),console.log(),"camp"==e&&(n="reward/open/".concat(i,"/camp_").concat(this.camp,"_open")),this.imgUrl(n)},imgNameTga:function(t){return t.match(/(\S*)Adventure\/(\S*)\.tga/)[2]},imgUrl:function(t){return this.__imgRoot+"adventure/".concat(this.client,"/").concat(t,".png")},getImg:function(){var t=this.info,e=t.szRewardType;if("school"===e||"camp"===e)return this.toSpecial(t);var n,i=(null===(n=t.szOpenRewardPath)||void 0===n?void 0:n.toLowerCase().match(/.*[\/,\\]adventure(.*?).tga/))||"",s="";return i[1]&&(s=i[1].replace(/\\/g,"/")),this.imgUrl(s)},getText:function(t){var e=Object(a["extractTextContent"])(t),n="";return e.forEach((function(t){n+=t.text})),n},loadData:function(){var t=this;Object(r["b"])(this.id).then((function(e){var n=[];e.data.forEach((function(e){if(e.szFramePath){var i,s=null===(i=e.szFramePath)||void 0===i?void 0:i.replace(/\\/g,"/");e.imgurl=t.imgNameTga(s),n.push(e)}})),t.task=Object(d["a"])(new Set(n))}))},isDisabled:function(t,e){var n=document.getElementById(t);if(n)return 0==n.scrollLeft&&1==e||0!=n.scrollLeft&&n.scrollWidth<=n.scrollLeft+n.clientWidth&&-1==e?"u-disabled":""},crosswiseScrool:function(t,e,n,i){if(!Object(l["b"])()){t.preventDefault();var s=document.getElementById(e),a=s.scrollWidth;if((0!=s.scrollLeft||1!=n)&&!(a<=s.scrollLeft+s.clientWidth&&-1==n)){var r=(i||200)/100,o=0,c=this;u()}}function u(){o+=r,o<i?(1==n?s.scrollLeft-=r:s.scrollLeft+=r,setTimeout(u,1)):c.isUpdate=!c.isUpdate}}},filters:{},created:function(){},mounted:function(){this.loadData()}},p=h,m=n("2877"),g=Object(m["a"])(p,c,u,!1,null,null,null),b=g.exports,_=(n("b0c0"),function(){var t=this,e=t._self._c;return t.title?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-serendipity"},[e("div",{staticClass:"u-title"},[e("span",{staticClass:"u-label"},[e("i",{staticClass:"el-icon-present"}),t._v(" 触发记录 "),e("el-select",{staticClass:"u-server",attrs:{placeholder:"区服",size:"small"},on:{change:t.changeServer},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},t._l(t.servers,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("a",{staticClass:"u-more",attrs:{href:"https://j3cx.com/serendipity",target:"_blank"}},[t._v("查看更多 »")])]),t.list&&t.list.length>0?e("ul",{staticClass:"u-list"},[t._m(0),t._l(t.list,(function(n,i){return e("li",{key:i},[e("span",{staticClass:"u-date"},[t._v(t._s(t._f("showDate")(n.date_str)))]),e("span",{staticClass:"u-time"},[t._v(t._s(t._f("wikiDate")(n.dwTime)))]),e("span",{staticClass:"u-server"},[t._v(t._s(n.region)+"-"+t._s(n.server))]),e("span",{staticClass:"u-name"},[t._v(t._s(n.name||"匿名"))])])}))],2):e("el-alert",{staticClass:"u-alert",attrs:{title:"无记录",type:"info",center:"",closable:!1}})],1):t._e()}),y=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"u-header"},[e("span",{staticClass:"u-date"},[t._v("日期")]),e("span",{staticClass:"u-time"},[t._v("激活时间")]),e("span",{staticClass:"u-server"},[t._v("服务器")]),e("span",{staticClass:"u-name"},[t._v("玩家")])])}],A=n("60d7"),x=n("41cb");function w(){return Object(x["a"])().get("/api/cms/user/my/info")}function k(t){var e="https://pull.j3cx.com/";return x["g"].get("/api/serendipity",{baseURL:e,params:t})}var C=n("8f09"),Y=n("c9d2"),D={name:"serendipity",props:["title"],components:{},data:function(){return{servers:A,server:"长安城",list:[],loading:!1}},computed:{params:function(){return{server:this.server,serendipity:this.title,start:0,pageIndex:1,pageSize:10}}},methods:{loadSerendipity:function(){var t=this;this.loading=!0,k(this.params).then((function(e){t.list=e.data.data.data})).finally((function(){t.loading=!1}))},changeServer:function(){this.loadSerendipity()}},filters:{wikiDate:function(t){return Object(C["b"])(1e3*t)},showDate:function(t){return Object(C["a"])(t)}},mounted:function(){var t=this;Y["a"].isLogin()?w().then((function(e){t.server=e.data.data.jx3_server||"长安城"})).then((function(){t.loadSerendipity()})):this.loadSerendipity()}},S=D,j=(n("ef52"),Object(m["a"])(S,_,y,!1,null,null,null)),O=j.exports,M=n("9616"),z={name:"adventureSingle",props:[],components:{task:b,Serendipity:O,PvxUser:o["a"]},data:function(){return{type:"adventure",achieve_id:"",data:"",task:[],isPet:!0,loading:!1,search:""}},computed:{id:function(){return this.$route.params.id},title:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.szName}},watch:{id:{immediate:!0,handler:function(t){t&&this.getData()}}},methods:{getLink:a["getLink"],goBack:function(){this.$router.push({name:"list"})},getData:function(){var t=this;this.loading=!0,Object(r["a"])(this.id).then((function(e){t.isPet=!1,t.data=e.data})).finally((function(){t.loading=!1,Object(M["b"])(t.type,t.id)})),Object(r["d"])(this.id).then((function(e){t.achieve_id=e.data.achievement_id}))},goSearch:function(){this.$router.push({name:"list",params:{search:this.search}})}},mounted:function(){}},L=z,P=(n("2eff"),Object(m["a"])(L,i,s,!1,null,null,null));e["default"]=P.exports},"8f09":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o}));var i=n("c1df"),s=n.n(i);function a(t){return s()(t).fromNow()}function r(t){return s()(t).format("YYYY-MM-DD")}function o(t){return s()(t).format("YYYY-MM-DD HH:mm:ss")}s.a.locale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY年MM月DD日",LLL:"YYYY年MM月DD日Ah点mm分",LLLL:"YYYY年MM月DD日ddddAh点mm分",l:"YYYY-M-D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"下午"===e||"晚上"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})},bb2f:function(t,e,n){var i=n("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bb64:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAFeCAYAAACFPT+zAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJqSURBVHgB7Z3dSisxFIX3zimHc1nhPMC5Pk/hI/kGfU1BRLwQQShaxJ/SmjgzTm3V8cJmFXdda4GYqfFrMsk02dk7qRlQi8XdJBlUybDAnMHAhC6hoUtoZsEbBV7ljK5ysvCNYnT3UK0cEEjYbUzAcMCMHlMSfNTbg46d0Y1i6EYxthKuoDDBq2xG18rGByRslB1UOb6tF994jD7qtZIVUClZAQzAXbSy30xPz0p/7c1Pm/bXRP+H8nI5lKds8Nx9PCppfmjr/1v/9s2c6+SneRr9/vX3aHRw8P/cQJrPZzd6luuJbEume1BCTThR0LhAmWYA7YGTS/ewmmfxrVF1m2rJJ1Wv8DPYjO42Kf4ntgxwAQMAd+AopJtj432jRreoS+h5JARmxSzVK755G346B59wtiJbc8Ab4PGNR/n1AgJ1DymA2heAUPQqE3YbAQX8smQv1wvvbOUzfHZSwtHDw+U/e2yu/vSvrtJDr9kn172eFk9jn14dn60Cm4bkya3k0oYndVlKH6nk7qXRm6gl9zQ2pG5nF5PYTwqjAS6ggNtIUQQCbiHCbqMhQMDvB+bwy30pvJMLfg/xVUaXMP4Oa3wJZQUQAPF+PVOjCCiggAIKiJLsZYTIrADGEhpdvE18wyd+iBGh8agw/noRHnFmAgq4HYytYzOePs03puCD5CkP3PbZ9fmkg+cXO+NDju6Rf58eVin5cLRc3vezpmRLy4Nds5v3te+WN7jpTYZO7m5QXU9PggdB4YHarIFiRgYybieh26KoY4TrhV+qCg/UkeA4KExaIuAAEn7tDp8lZXTuj1YC/nhgQ3sGkJ/e3G/NEdMAAAAASUVORK5CYII="},bed2:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o}));var i=n("41cb");n("65c2");function s(t){return Object(i["d"])().get("/serendipities",{params:t})}function a(t){return Object(i["d"])().get("/serendipity/".concat(t))}function r(t){return Object(i["d"])().get("/serendipity/".concat(t,"/task"))}function o(t){return Object(i["d"])().get("/serendipity/".concat(t,"/achievement"))}},c03b:function(t,e,n){},d86b:function(t,e,n){var i=n("d039");t.exports=i((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));n("d3b7"),n("25f0"),n("caad"),n("ac1f"),n("466d");function i(t){if("[object Object]"===Object.prototype.toString.call(t)){for(var e in t)[void 0,null,""].includes(t[e])&&delete t[e];return t}return t}function s(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return null!==t}},ef52:function(t,e,n){"use strict";n("498b")},f183:function(t,e,n){var i=n("23e7"),s=n("e330"),a=n("d012"),r=n("861d"),o=n("1a2d"),c=n("9bf2").f,u=n("241c"),d=n("057f"),l=n("4fad"),f=n("90e3"),v=n("bb2f"),h=!1,p=f("meta"),m=0,g=function(t){c(t,p,{value:{objectID:"O"+m++,weakData:{}}})},b=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,p)){if(!l(t))return"F";if(!e)return"E";g(t)}return t[p].objectID},_=function(t,e){if(!o(t,p)){if(!l(t))return!0;if(!e)return!1;g(t)}return t[p].weakData},y=function(t){return v&&h&&l(t)&&!o(t,p)&&g(t),t},A=function(){x.enable=function(){},h=!0;var t=u.f,e=s([].splice),n={};n[p]=1,t(n).length&&(u.f=function(n){for(var i=t(n),s=0,a=i.length;s<a;s++)if(i[s]===p){e(i,s,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},x=t.exports={enable:A,fastKey:b,getWeakData:_,onFreeze:y};a[p]=!0}}]);
//# sourceMappingURL=chunk-15000d50.c888bb11.js.map