(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43371556"],{"0295":function(e){e.exports=JSON.parse('{"whole":{"BodyHeight":{"name":"身高","role":null,"tip":null},"HemlineSize":{"name":"裙摆大小","role":"2","tip":"仅对使用新骨骼的外装生效"}},"neck":{"HeadSize":{"name":"头部大小","role":null,"tip":null},"NeckLength":{"name":"脖子长度","role":null,"tip":null},"NeckSize":{"name":"脖子粗细","role":null,"tip":null}},"body":{"ShoulderWidth":{"name":"肩膀宽度","role":null,"tip":null},"ShoulderThick":{"name":"肩膀厚度","role":null,"tip":null},"ChestWidth":{"name":"上身宽度","role":null,"tip":null},"ChestThick":{"name":"上身厚度","role":null,"tip":null},"BreastSize":{"name":"胸部大小","role":"2","tip":null},"BreastAngle":{"name":"胸部角度","role":"2","tip":null},"LoinWidth":{"name":"腰部宽度","role":null,"tip":null},"LoinThick":{"name":"腰部厚度","role":null,"tip":null},"LoinUpDown":{"name":"腰部位置","role":null,"tip":null},"BellyWidth":{"name":"腹部宽度","role":null,"tip":null},"BellyThick":{"name":"腹部厚度","role":null,"tip":null},"HipWidth":{"name":"髋部宽度","role":null,"tip":null},"HipThick":{"name":"髋部厚度","role":null,"tip":null}},"arm":{"ArmSize":{"name":"整体臂长","role":null,"tip":null},"UpperArmSize":{"name":"上臂大小","role":null,"tip":null},"UpperForearmSize":{"name":"前臂上部","role":null,"tip":null},"LowerForearmSize":{"name":"前臂下部","role":null,"tip":null},"HandSize":{"name":"手掌大小","role":null,"tip":null},"FingerLength":{"name":"手指长度","role":null,"tip":null},"FingerSize":{"name":"手指粗细","role":null,"tip":null}},"leg":{"LegSize":{"name":"整体腿长","role":null,"tip":null},"UpperThighSize":{"name":"大腿上部","role":null,"tip":null},"LowerThighSize":{"name":"大腿下部","role":null,"tip":null},"CalfSize":{"name":"小腿大小","role":null,"tip":null},"FootSize":{"name":"脚掌大小","role":null,"tip":null}}}')},"07ac":function(e,t,n){"use strict";var a=n("23e7"),i=n("6f53").values;a({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0dcc":function(e,t,n){"use strict";n("07ac"),n("b0c0");var a=function(){var e=this,t=e._self._c;return e.ready?t("div",{staticClass:"c-facedat"},[t("el-tabs",{staticClass:"c-facedat-preivew",attrs:{type:e.tab_type},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(Object.values(e.group_tabs),(function(n){return t("el-tab-pane",{key:n.value,attrs:{label:n.label,name:n.value}},[t("div",{staticClass:"c-facedat-group"},[t("ul",{staticClass:"u-list"},e._l(e.currentGroup,(function(n,a){return t("li",{key:a},[t("label",[e._v(e._s(n.name))]),t("span",[e._v(e._s(n.value))]),t("el-slider",{staticClass:"u-range",attrs:{min:n.min,max:n.max,disabled:e.lock},model:{value:e.body_data.tBody[n.key],callback:function(t){e.$set(e.body_data.tBody,n.key,t)},expression:"body_data.tBody[item.key]"}})],1)})),0)])])})),1),t("div",{staticClass:"c-facedat-btns"},[t("el-button",{staticClass:"u-btn",attrs:{type:"primary",disabled:!e.body_data,icon:"el-icon-receiving"},on:{click:e.buildData}},[e._v("导出正式服")])],1)],1):e._e()},i=[],l=n("5530"),r=(n("d81d"),n("4de4"),n("d3b7"),n("b64b"),n("25f0"),n("2ef0")),o=n.n(r),s=n("162f"),c=n("21a6"),u=n("aec7"),d=n("0295"),p=n("fb5f"),f=n("bb9e"),b={name:"Bodydat",props:["data","lock","tab_type"],data:function(){return{active:"whole",body_data:"",body_type:"",group_tabs:u,group_fields:d,field_range:f,types:p.bodyMap}},computed:{ready:function(){return!!this.body_data},currentFieldRanges:function(){return f[this.types[this.body_type].value]},currentGroupFields:function(){return this.group_fields[this.active]},currentGroup:function(){var e=this;return Object.keys(this.group_fields[this.active]).filter((function(t){return e.currentFieldRanges[t].use_for_body_type})).map((function(t){return Object(l["a"])(Object(l["a"])(Object(l["a"])({key:t},e.currentGroupFields[t]),e.currentFieldRanges[t]),{},{value:e.body_data.tBody[t]})}))}},watch:{data:{immediate:!0,deep:!0,handler:function(){this.render()}}},methods:{render:function(){if(!this.data)return this.body_data="",void(this.body_type="");try{var e=JSON.parse(this.data);this.body_type=e.nRoleType.toString(),this.body_data=e}catch(t){this.body_data="",this.body_type="",this.$notify.error({title:"错误",message:"体型数据无法解析"})}},buildData:function(){if(this.body_data){var e=Object(s["dump"])(o.a.cloneDeep(this.body_data)),t=new Blob([e],{type:"application/dat;charset=utf-8"});Object(c["saveAs"])(t,Date.now()+".dat")}}},mounted:function(){}},y=b,m=(n("4508"),n("2877")),h=Object(m["a"])(y,a,i,!1,null,null,null);t["a"]=h.exports},"3d3d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-facedata"},[t("div",{staticClass:"m-face-parse",class:{on:e.done}},[t("h1",{staticClass:"m-face-parse-title"},[e._v("体型数据解析器")]),t("Upload",{attrs:{type:"body"},on:{success:e.handleSuccess}}),t("Bodydat",{directives:[{name:"show",rawName:"v-show",value:e.done,expression:"done"}],staticClass:"m-face-parse-preview",attrs:{data:e.json,lock:!1}})],1)])},i=[],l=n("0dcc"),r=n("808d"),o=(n("65c2"),{name:"BodyDataParse",data:function(){return{data:"",done:!1}},computed:{json:function(){return this.data&&this.data.json}},methods:{handleSuccess:function(e){this.data=e,null!==e&&void 0!==e&&e.json?this.done=!0:this.done=!1}},components:{Bodydat:l["a"],Upload:r["a"]}}),s=o,c=(n("41c6"),n("2877")),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"41c6":function(e,t,n){"use strict";n("6193")},4508:function(e,t,n){"use strict";n("8cbe")},"4b16":function(e,t,n){"use strict";n("cb23")},"51eb":function(e,t,n){"use strict";var a=n("825a"),i=n("485a"),l=TypeError;e.exports=function(e){if(a(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw l("Incorrect hint");return i(this,e)}},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("14d9"),n("159b"),n("dbb4");var a=n("ade3");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},6193:function(e,t,n){},"808d":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c-facedat-upload"},[e.support?t("div",{staticClass:"u-upload"},[e.done?[t("div",{staticClass:"u-result"},[t("el-button",{staticClass:"u-reset",attrs:{icon:"el-icon-refresh-left"},on:{click:e.resetData}},[e._v("清空重置")]),t("el-alert",{attrs:{title:"当前文件为："+e.filename,type:"success","show-icon":""}})],1)]:[t("input",{staticClass:"u-input",attrs:{type:"file",id:"face_file",accept:".dat,.jx3dat,.ini"},on:{change:e.uploadData}}),t("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:e.selectData}},[e._v(e._s(e.btnText))]),"face"===e.type?t("a",{staticClass:"u-help",attrs:{href:"/tool/746",target:"_blank"}},[t("i",{staticClass:"el-icon-collection"}),e._v(" 游戏脸型导入导出指南 ")]):e._e()]],2):t("el-alert",{staticClass:"u-notsupport",attrs:{title:"浏览器不支持",type:"warning",description:"你的浏览器太老旧不支持本地读取,请更换chrome或其它现代浏览器","show-icon":""}})],1)},i=[],l=(n("b0c0"),n("e9c4"),n("99af"),n("d3b7"),n("25f0"),n("bda6")),r=n("162f"),o=n("fb5f"),s={name:"Upload",props:{type:{type:String,default:""}},components:{},data:function(){return{support:!0,file:"",json:"",object:"",done:!1,types:o.bodyMap}},computed:{btnText:function(){var e="上传脸型/体型数据";return"face"===this.type&&(e="上传脸型数据"),"body"===this.type&&(e="上传体型数据"),e},filename:function(){return this.file&&this.file.name}},methods:{selectData:function(e){var t=document.getElementById("face_file");t.dispatchEvent(new MouseEvent("click"))},uploadData:function(e){var t=e.target.files[0];this.file=t,this.parseData(t)},parseData:function(e){if(e){var t=this,n=new FileReader;n.onload=function(e){console.log("读取成功...开始执行分析...");try{if(!t.type){var n=Object(l["b"])(e.target.result);n.tBody?t.object=Object(r["load"])(e.target.result):t.object=n}if("face"===t.type&&(t.object=Object(l["b"])(e.target.result),t.object.tBody))return t.$notify.error({title:"错误",message:"请导入脸型数据"});"body"===t.type&&(t.object=Object(r["load"])(e.target.result))}catch(i){return console.log(i),t.$notify.error({title:"错误",message:"无法读取数据"}),void t.$emit("fail",{file:t.file})}if(t.object)try{var a;t.json=JSON.stringify(t.object),t.$notify({title:"成功",message:"".concat((null===(a=t.types[t.object.nRoleType.toString()])||void 0===a?void 0:a.label)||"").concat("face"===t.type?"脸型":"body"===t.type?"体型":"","数据读取成功"),type:"success"}),t.done=!0,t.$emit("success",{file:t.file,json:t.json,object:t.object})}catch(e){t.$notify.error({title:"错误",message:"无法读取数据"}),t.$emit("fail",{file:t.file})}},n.onerror=function(e){t.$notify.error({title:"错误",message:"文件读取异常"})},n.readAsArrayBuffer(e)}},resetData:function(){this.done=!1,this.file="",this.json="",this.object="",this.$emit("success",{file:"",json:"",object:""})}},filters:{},created:function(){},mounted:function(){this.support=!!window.FileReader}},c=s,u=(n("4b16"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=d.exports},8172:function(e,t,n){"use strict";var a=n("e065"),i=n("57b9");a("toPrimitive"),i()},"8cbe":function(e,t,n){},ade3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("53ca");n("8172"),n("efec"),n("a4d3"),n("e01a"),n("d3b7"),n("d9e2"),n("a9e3");function i(e,t){if("object"!==Object(a["a"])(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Object(a["a"])(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){var t=i(e,"string");return"symbol"===Object(a["a"])(t)?t:String(t)}function r(e,t,n){return t=l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},aec7:function(e){e.exports=JSON.parse('{"1":{"value":"whole","label":"整体"},"2":{"value":"neck","label":"头颈"},"3":{"value":"body","label":"躯干"},"4":{"value":"arm","label":"上肢"},"5":{"value":"leg","label":"下肢"}}')},cb23:function(e,t,n){},dbb4:function(e,t,n){"use strict";var a=n("23e7"),i=n("83ab"),l=n("56ef"),r=n("fc6a"),o=n("06cf"),s=n("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,a=r(e),i=o.f,c=l(a),u={},d=0;while(c.length>d)n=i(a,t=c[d++]),void 0!==n&&s(u,t,n);return u}})},e439:function(e,t,n){"use strict";var a=n("23e7"),i=n("d039"),l=n("fc6a"),r=n("06cf").f,o=n("83ab"),s=!o||i((function(){r(1)}));a({target:"Object",stat:!0,forced:s,sham:!o},{getOwnPropertyDescriptor:function(e,t){return r(l(e),t)}})},efec:function(e,t,n){"use strict";var a=n("1a2d"),i=n("cb2d"),l=n("51eb"),r=n("b622"),o=r("toPrimitive"),s=Date.prototype;a(s,o)||i(s,o,l)}}]);
//# sourceMappingURL=chunk-43371556.bfccc7cf.js.map