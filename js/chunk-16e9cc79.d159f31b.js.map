{"version":3,"sources":["webpack:///./src/components/PvxUser.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue","webpack:///node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue?6c0f","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue?3144","webpack:///node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?8ccb","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?210a","webpack:///src/components/PvxUser.vue","webpack:///./src/components/PvxUser.vue?906b","webpack:///./src/components/PvxUser.vue?ee72","webpack:///./src/components/PvxUser.vue?2495","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?0877"],"names":["render","_vm","this","_c","_self","staticClass","wiki_post","post","attrs","slot","class","_v","_s","name","publish_url","concat","type","id","compatible","_e","content","user_name","updated_at","_t","key","source","Name","author_id","authors","client","String","staticRenderFns","directives","rawName","value","loading","expression","comments","length","sourceId","page","total","pageSize","on","handleCurrentChange","reply_form","domProps","$event","target","composing","$set","user_nickname","create_comment","_l","comment","user_id","author_url","parent_id","parent","show","ts2str","updated","children","props","methods","authorLink","form","app","$parent","$message","message","component","data","User","getInfo","computed","location","href","includes","get_comments","_this","filter","outputs","_loop","c","index","map","item","push","wikiComment","list","then","res","code","i","current_page","_this2","arguments","undefined","source_id","finally","components","WikiPanel","Comment","watch","immediate","handler","Article","WikiRevisions","WikiComments","required","default","is_empty","post_id","loadRevision","loadData","$store","state","$route","params","isRevision","_this$wiki_post","_this$wiki_post$post","_this$wiki_post2","_this$wiki_post2$post","_this$wiki_post3","_this$wiki_post3$post","fav_title","_this$wiki_post4","_this$wiki_post4$sour","_this$wiki_post5","_this$wiki_post5$user","_this$wiki_post5$user2","users","user","user_avatar","avatar","display_name","nickname","getLink","wiki","mix","supply","isEmpty","triggerStat","getById","_res$data","publishLink","postStat"],"mappings":"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","file":"js/chunk-16e9cc79.d159f31b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-pvx-user\"},[(_vm.wiki_post && _vm.wiki_post.post)?_c('div',{staticClass:\"m-wiki-post-panel\"},[_c('WikiPanel',{attrs:{\"wiki-post\":_vm.wiki_post}},[_c('template',{slot:\"head-title\"},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z\"}})]),_c('span',{staticClass:\"u-txt\"},[_vm._v(_vm._s(_vm.name)+\"攻略\")])]),_c('template',{slot:\"head-actions\"},[_c('a',{staticClass:\"el-button el-button--primary\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',[_vm._v(\"完善\"+_vm._s(_vm.name)+\"攻略\")])])]),_c('template',{slot:\"body\"},[(_vm.compatible)?_c('div',{staticClass:\"m-wiki-compatible\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 暂无缘起攻略，以下为重制攻略，仅作参考，\"),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_vm._v(\"参与修订\")]),_vm._v(\"。 \")]):_vm._e(),_c('Article',{attrs:{\"content\":_vm.wiki_post.post.content}}),_c('div',{staticClass:\"m-wiki-signature\"},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\" 本次修订由 \"),_c('b',[_vm._v(_vm._s(_vm.user_name))]),_vm._v(\" 提交于\"+_vm._s(_vm.updated_at)+\" \")])],1)],2),_vm._t(\"serendipity\"),_c('WikiRevisions',{attrs:{\"type\":_vm.type,\"source-id\":_vm.id}})],2):_c('div',{staticClass:\"m-wiki-post-empty\"},[_c('i',{staticClass:\"el-icon-s-opportunity\"}),_c('span',[_vm._v(\"暂无攻略，我要\")]),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_vm._v(\"完善攻略\")])]),_c('Thx',{key:_vm.type + '-thx-' + _vm.id,staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":_vm.type,\"postTitle\":_vm.wiki_post.source.Name,\"userId\":_vm.author_id,\"adminBoxcoinEnable\":false,\"userBoxcoinEnable\":false,\"authors\":_vm.authors,\"mode\":\"wiki\",\"client\":_vm.client}}),_c('WikiComments',{attrs:{\"type\":_vm.type,\"source-id\":String(_vm.id)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WikiPanel',{staticClass:\"c-wiki-comments\",attrs:{\"scene\":\"detail\"}},[_c('template',{slot:\"head-title\"},[_c('i',{staticClass:\"el-icon-chat-line-round\"}),_c('span',[_vm._v(\"百科评论\")])]),_c('template',{slot:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-comments-panel\"},[(!_vm.comments || !_vm.comments.length)?_c('div',{staticClass:\"u-empty\"},[(_vm.comments === null)?_c('span',[_vm._v(\"🎉 数据加载中...\")]):_vm._e(),(_vm.comments === false)?_c('span',[_vm._v(\"⚠️ 数据加载异常\")]):_vm._e(),(_vm.comments && !_vm.comments.length)?_c('span',[_vm._v(\"💧 暂无评论\")]):_vm._e()]):_vm._e(),_c('Comment',{attrs:{\"comments\":_vm.comments,\"source-id\":_vm.sourceId}}),_c('el-pagination',{staticClass:\"u-pagination-box\",attrs:{\"background\":\"\",\"hide-on-single-page\":\"\",\"current-page\":_vm.page,\"total\":_vm.total,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, total\"},on:{\"current-change\":_vm.handleCurrentChange}}),_c('div',{staticClass:\"m-reply-form\",attrs:{\"id\":\"m-reply-form\"}},[_c('h4',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"回复\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reply_form.content),expression:\"reply_form.content\"}],staticClass:\"u-reply-content\",domProps:{\"value\":(_vm.reply_form.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.reply_form, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"u-author\"},[_c('span',[_vm._v(\"昵称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reply_form.user_nickname),expression:\"reply_form.user_nickname\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.reply_form.user_nickname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.reply_form, \"user_nickname\", $event.target.value)}}})]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create_comment(_vm.reply_form)}}},[_c('i',{staticClass:\"el-icon-check\"}),_c('span',[_vm._v(\"提交\")])])],1)],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"u-comments\"},_vm._l((_vm.comments),function(comment,key){return _c('li',{key:key,staticClass:\"u-comment-panel\"},[_c('div',{staticClass:\"u-comment\"},[_c('div',{staticClass:\"u-nickname-panel\"},[_c('a',{staticClass:\"u-nickname\",attrs:{\"href\":comment.user_id ? _vm.author_url(comment.user_id) : null,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(comment.user_nickname)}}),(comment.parent_id)?[_c('span',[_vm._v(\" 回复 \")]),_c('a',{staticClass:\"u-nickname\",attrs:{\"href\":comment.parent.user_id\n                                ? _vm.author_url(comment.parent.user_id)\n                                : null,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(comment.parent.user_nickname)}})]:_vm._e()],2),_c('p',{staticClass:\"u-content\",domProps:{\"innerHTML\":_vm._s(comment.content)}}),_c('div',{staticClass:\"m-reply\"},[(comment.reply_form && comment.reply_form.show)?_c('el-button',{staticClass:\"u-reply\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){comment.reply_form.show = !comment.reply_form.show}}},[_c('i',{staticClass:\"el-icon-arrow-up\"}),_c('span',[_vm._v(\"收起\")])]):_c('el-button',{staticClass:\"u-reply\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){comment.reply_form.show = !comment.reply_form.show}}},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"回复\")])]),_c('span',{staticClass:\"u-time\",domProps:{\"textContent\":_vm._s(_vm.ts2str(comment.updated))}})],1),(comment.reply_form && comment.reply_form.show)?_c('div',{staticClass:\"m-reply-form\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.reply_form.content),expression:\"comment.reply_form.content\"}],staticClass:\"u-reply-content\",domProps:{\"value\":(comment.reply_form.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(comment.reply_form, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"u-author\"},[_c('span',[_vm._v(\"昵称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.reply_form.user_nickname),expression:\"comment.reply_form.user_nickname\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(comment.reply_form.user_nickname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(comment.reply_form, \"user_nickname\", $event.target.value)}}})]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create_comment(comment.reply_form, comment.id)}}},[_c('i',{staticClass:\"el-icon-check\"}),_c('span',[_vm._v(\"提交\")])])],1):_vm._e()]),(comment.children.length)?_c('WikiComment',{attrs:{\"comments\":comment.children,\"source-id\":_vm.sourceId}}):_vm._e()],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <ul class=\"u-comments\">\n        <li\n            class=\"u-comment-panel\"\n            v-for=\"(comment, key) in comments\"\n            :key=\"key\"\n        >\n            <div class=\"u-comment\">\n                <!-- 评论内容 -->\n                <div class=\"u-nickname-panel\">\n                    <a\n                        class=\"u-nickname\"\n                        :href=\"\n                            comment.user_id ? author_url(comment.user_id) : null\n                        \"\n                        target=\"_blank\"\n                        v-text=\"comment.user_nickname\"\n                    ></a>\n                    <template v-if=\"comment.parent_id\">\n                        <span>&nbsp;回复&nbsp;</span>\n                        <a\n                            class=\"u-nickname\"\n                            :href=\"\n                                comment.parent.user_id\n                                    ? author_url(comment.parent.user_id)\n                                    : null\n                            \"\n                            target=\"_blank\"\n                            v-text=\"comment.parent.user_nickname\"\n                        ></a>\n                    </template>\n                </div>\n                <p class=\"u-content\" v-html=\"comment.content\"></p>\n                <!-- 其他 -->\n                <div class=\"m-reply\">\n                    <!-- 展开、收起 -->\n                    <el-button\n                        type=\"default\"\n                        v-if=\"comment.reply_form && comment.reply_form.show\"\n                        class=\"u-reply\"\n                        @click=\"\n                            comment.reply_form.show = !comment.reply_form.show\n                        \"\n                    >\n                        <i class=\"el-icon-arrow-up\"></i>\n                        <span>收起</span>\n                    </el-button>\n                    <el-button\n                        type=\"primary\"\n                        plain\n                        v-else\n                        class=\"u-reply\"\n                        @click=\"\n                            comment.reply_form.show = !comment.reply_form.show\n                        \"\n                    >\n                        <i class=\"el-icon-chat-dot-round\"></i>\n                        <span>回复</span>\n                    </el-button>\n                    <!-- 更新时间 -->\n                    <span\n                        class=\"u-time\"\n                        v-text=\"ts2str(comment.updated)\"\n                    ></span>\n                </div>\n                <!-- 评论回复表单 -->\n                <div class=\"m-reply-form\" v-if=\"comment.reply_form && comment.reply_form.show\">\n                    <textarea\n                        class=\"u-reply-content\"\n                        v-model=\"comment.reply_form.content\"\n                    ></textarea>\n                    <div class=\"u-author\">\n                        <span>昵称：</span>\n                        <input\n                            v-model=\"comment.reply_form.user_nickname\"\n                            type=\"text\"\n                        />\n                    </div>\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-submit\"\n                        @click=\"create_comment(comment.reply_form, comment.id)\"\n                    >\n                        <i class=\"el-icon-check\"></i>\n                        <span>提交</span>\n                    </el-button>\n                </div>\n            </div>\n            <WikiComment\n                v-if=\"comment.children.length\"\n                :comments=\"comment.children\"\n                :source-id=\"sourceId\"\n            />\n        </li>\n    </ul>\n</template>\n\n<script>\nimport { authorLink, ts2str } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"WikiComment\",\n    props: [\"comments\", \"sourceId\"],\n    methods: {\n        author_url: authorLink,\n        ts2str,\n        create_comment(form, parent_id) {\n            let app = this.$parent;\n            if (!app.create_comment) app = app.$parent;\n            if (!app.create_comment) {\n                this.$message({\n                    message: \"发布评论异常，请联系管理员\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            app.create_comment(form, parent_id);\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WikiComment.vue?vue&type=template&id=5cfca930&\"\nimport script from \"./WikiComment.vue?vue&type=script&lang=js&\"\nexport * from \"./WikiComment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <WikiPanel class=\"c-wiki-comments\" scene=\"detail\">\n        <template slot=\"head-title\">\n            <i class=\"el-icon-chat-line-round\"></i>\n            <span>百科评论</span>\n        </template>\n        <template slot=\"body\">\n            <div class=\"m-comments-panel\" v-loading=\"loading\">\n                <div class=\"u-empty\" v-if=\"!comments || !comments.length\">\n                    <span v-if=\"comments === null\">🎉 数据加载中...</span>\n                    <span v-if=\"comments === false\">⚠️ 数据加载异常</span>\n                    <span v-if=\"comments && !comments.length\">💧 暂无评论</span>\n                </div>\n                <!-- 递归评论组件 -->\n                <Comment :comments=\"comments\" :source-id=\"sourceId\" />\n                <el-pagination\n                    class=\"u-pagination-box\"\n                    background\n                    hide-on-single-page\n                    :current-page=\"page\"\n                    :total=\"total\"\n                    :page-size=\"pageSize\"\n                    layout=\"prev, pager, next, total\"\n                    @current-change=\"handleCurrentChange\"\n                ></el-pagination>\n                <!-- 回复表单 -->\n                <div id=\"m-reply-form\" class=\"m-reply-form\">\n                    <h4 class=\"u-title\">\n                        <i class=\"el-icon-chat-dot-round\"></i>\n                        <span>回复</span>\n                    </h4>\n                    <textarea\n                        class=\"u-reply-content\"\n                        v-model=\"reply_form.content\"\n                    ></textarea>\n                    <div class=\"u-author\">\n                        <span>昵称：</span>\n                        <input v-model=\"reply_form.user_nickname\" type=\"text\" />\n                    </div>\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-submit\"\n                        @click=\"create_comment(reply_form)\"\n                    >\n                        <i class=\"el-icon-check\"></i>\n                        <span>提交</span>\n                    </el-button>\n                </div>\n            </div>\n        </template>\n    </WikiPanel>\n</template>\n\n<script>\nimport WikiPanel from \"./WikiPanel\";\nimport Comment from \"./WikiComment.vue\";\nimport { wikiComment } from \"@jx3box/jx3box-common/js/wiki\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"WikiComments\",\n    props: [\"type\", \"sourceId\"],\n    data() {\n        return {\n            comments: null,\n            reply_form: {\n                content: \"\",\n                user_nickname: User.getInfo().name,\n            },\n            page: 1,\n            pageSize: 10,\n            total: 0,\n            loading: false,\n        };\n    },\n    computed: {\n        client: function () {\n            return location.href.includes(\"classic\") || location.href.includes(\"origin\") ? \"origin\" : \"std\";\n        },\n    },\n    methods: {\n        get_comments() {\n            if (!this.type || !this.sourceId) return;\n            // WikiComment.list(this.type, this.sourceId, this.client)\n            this.loading = true;\n            wikiComment.list({ type: this.type, id: this.sourceId }, { client: this.client, page: this.page })\n            .then(\n                (res) => {\n                    res = res.data;\n                    if (res.code === 200) {\n                        let comments = res.data.comments;\n                        for (let i = 0; i < comments.length; i++) {\n                            comments[i][\"reply_form\"] = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            };\n                        }\n                        this.page = res.data.current_page;\n                        this.total = res.data.total\n                        this.comments = filter(comments, 0);\n                        // this.comments = comments;\n                        this.loading = false;\n                    }\n                },\n                () => {\n                    this.comments = false;\n                    this.loading = false;\n                }\n            );\n\n            function filter(comments, parent) {\n                let outputs = [];\n                for (let index in comments) {\n                    let c = comments[index];\n                    if (!c) continue;\n                    if (c.parent_id === parent) {\n                        // 递归\n                        let children = filter(c.children, c.id);\n                        c.children = children.map((item) => {\n                            item.parent = {\n                                user_id: c.user_id,\n                                user_nickname: c.user_nickname,\n                                id: c.id,\n                            }\n                            item.reply_form = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            }\n                            return item\n                        });\n                        outputs.push(c);\n                    }\n                }\n                return outputs;\n            }\n        },\n        create_comment(form, parent_id = 0) {\n            // 校验评论内容\n            if (!form.content) {\n                this.$message({\n                    message: \"请先填写评论内容再尝试提交\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            const data = {\n                comment: {\n                    type: this.type,\n                    source_id: this.sourceId,\n                    parent_id: parent_id,\n                    user_nickname: form.user_nickname || User.getInfo().name,\n                    content: form.content,\n                },\n                client: this.client\n            }\n            wikiComment.post({ data }, {})\n                .then(\n                    (res) => {\n                        res = res.data;\n                        if (res.code === 200) {\n                            form.content = \"\";\n                            this.$message({\n                                message: \"提交成功，请等待审核\",\n                                type: \"success\",\n                            });\n                        } else\n                            this.$message({\n                                message: `${res.message}`,\n                                type: \"warning\",\n                            });\n                    },\n                    () => {\n                        this.$message({\n                            message: \"网络异常，提交失败\",\n                            type: \"warning\",\n                        });\n                    }\n                )\n                .finally(() => {\n                    form.show = false;\n                });\n        },\n        handleCurrentChange(page) {\n            this.page = page;\n            this.get_comments();\n        }\n    },\n    components: {\n        WikiPanel,\n        Comment,\n    },\n    watch: {\n        sourceId: {\n            immediate: true,\n            handler() {\n                this.get_comments();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/css/wiki-comments.less\";\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WikiComments.vue?vue&type=template&id=3ac92298&\"\nimport script from \"./WikiComments.vue?vue&type=script&lang=js&\"\nexport * from \"./WikiComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WikiComments.vue?vue&type=style&index=0&id=3ac92298&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <!-- 包含攻略、评论、历史版本、点赞等 -->\n    <div class=\"w-pvx-user\">\n        <!--攻略-->\n        <div class=\"m-wiki-post-panel\" v-if=\"wiki_post && wiki_post.post\">\n            <WikiPanel :wiki-post=\"wiki_post\">\n                <template slot=\"head-title\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z\"/></svg>\n                    <span class=\"u-txt\">{{ name }}攻略</span>\n                </template>\n                <template slot=\"head-actions\">\n                    <a class=\"el-button el-button--primary\" :href=\"publish_url(`${type}/${id}`)\">\n                        <i class=\"el-icon-edit\"></i>\n                        <span>完善{{ name }}攻略</span>\n                    </a>\n                </template>\n                <template slot=\"body\">\n                    <div class=\"m-wiki-compatible\" v-if=\"compatible\">\n                        <i class=\"el-icon-warning-outline\"></i> 暂无缘起攻略，以下为重制攻略，仅作参考，<a\n                            class=\"s-link\"\n                            :href=\"publish_url(`${type}/${id}`)\"\n                            >参与修订</a\n                        >。\n                    </div>\n                    <Article :content=\"wiki_post.post.content\" />\n                    <div class=\"m-wiki-signature\">\n                        <i class=\"el-icon-edit\"></i>\n                        本次修订由 <b>{{ user_name }}</b> 提交于{{ updated_at }}\n                    </div>\n                </template>\n            </WikiPanel>\n\n            <!-- 奇遇触发记录 -->\n            <slot name=\"serendipity\"></slot>\n\n            <!-- 历史版本 -->\n            <WikiRevisions :type=\"type\" :source-id=\"id\" />\n        </div>\n        <div class=\"m-wiki-post-empty\" v-else>\n            <i class=\"el-icon-s-opportunity\"></i>\n            <span>暂无攻略，我要</span>\n            <a class=\"s-link\" :href=\"publish_url(`${type}/${id}`)\">完善攻略</a>\n        </div>\n        <Thx\n            class=\"m-thx\"\n            :postId=\"id\"\n            :postType=\"type\"\n            :postTitle=\"wiki_post.source.Name\"\n            :userId=\"author_id\"\n            :adminBoxcoinEnable=\"false\"\n            :userBoxcoinEnable=\"false\"\n            :authors=\"authors\"\n            mode=\"wiki\"\n            :key=\"type + '-thx-' + id\"\n            :client=\"client\"\n        />\n        <!-- 百科评论 -->\n        <WikiComments :type=\"type\" :source-id=\"String(id)\" />\n    </div>\n</template>\n\n<script>\nimport { postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki.js\";\n\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport WikiPanel from \"@jx3box/jx3box-common-ui/src/wiki/WikiPanel\";\nimport WikiRevisions from \"@jx3box/jx3box-common-ui/src/wiki/WikiRevisions\";\nimport WikiComments from \"@jx3box/jx3box-common-ui/src/wiki/WikiComments\";\n\nimport { publishLink, ts2str, getLink } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"PvxUser\",\n    components: {\n        WikiPanel,\n        Article,\n        WikiRevisions,\n        WikiComments,\n    },\n    props: {\n        id: {\n            required: true,\n        },\n        name: {\n            type: String,\n            default: \"\",\n        },\n        type: {\n            type: String,\n            required: true,\n        },\n    },\n    data() {\n        return {\n            wiki_post: {\n                source: {},\n                post: null,\n            },\n            compatible: false,\n            is_empty: true,\n        };\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler() {\n                if (this.post_id) {\n                    this.loadRevision();\n                } else {\n                    this.loadData();\n                }\n            },\n        },\n        post_id: {\n            handler() {\n                this.loadRevision();\n            },\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        //wiki相关\n        post_id: function () {\n            return this.$route.params.post_id;\n        },\n        isRevision: function () {\n            return !!this.$route.params.post_id;\n        },\n        author_id: function () {\n            return ~~this.wiki_post?.post?.user_id;\n        },\n        user_name: function () {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        updated_at: function () {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        fav_title: function () {\n            return this.wiki_post?.source?.Name;\n        },\n        authors: function () {\n            if (!this.isRevision) {\n                return (\n                    this.wiki_post?.users\n                        ?.filter((user) => user.id)\n                        ?.map((user) => {\n                            return {\n                                user_id: user.id,\n                                user_avatar: user.avatar,\n                                display_name: user.nickname,\n                            };\n                        }) || []\n                );\n            }\n            return [];\n        },\n    },\n    methods: {\n        getLink,\n        //百科相关\n        loadData: function () {\n            // 获取最新攻略\n            if (this.id) {\n                wiki.mix({ type: this.type, id: this.id, client: this.client }, { supply: 1 }).then((res) => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users,\n                    };\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                });\n            }\n            this.triggerStat();\n        },\n        loadRevision: function () {\n            // 获取指定攻略\n            wiki.getById(this.post_id, { type: this.type }).then((res) => {\n                this.wiki_post = res?.data?.data;\n            });\n            this.triggerStat();\n        },\n        publish_url: publishLink,\n        triggerStat: function () {\n            if (this.client == \"origin\") {\n                postStat(`origin_${type}`, this.id);\n            } else {\n                postStat(this.type, this.id);\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.w-pvx-user {\n    & > div {\n        margin-top: 40px !important;\n    }\n    .c-wiki-panel {\n        margin-top: 40px !important;\n    }\n    .m-wiki-signature {\n        text-align: right;\n        color: #999;\n        font-size: 12px;\n        line-height: 2;\n        border-top: 1px dashed #ddd;\n        padding: 5px 0;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PvxUser.vue?vue&type=template&id=078665cf&\"\nimport script from \"./PvxUser.vue?vue&type=script&lang=js&\"\nexport * from \"./PvxUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PvxUser.vue?vue&type=style&index=0&id=078665cf&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=style&index=0&id=078665cf&prod&lang=less&\"","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=style&index=0&id=3ac92298&prod&lang=less&\""],"sourceRoot":""}