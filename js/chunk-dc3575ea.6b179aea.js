(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc3575ea"],{4144:function(t,n,e){"use strict";e("e715")},"635b":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return c})),e.d(n,"c",(function(){return o}));var a=e("41cb");function i(t){var n={type:"share"};return t&&(n=Object.assign(n,t)),Object(a["a"])().get("/api/cms/posts",{params:n})}function c(t){return Object(a["a"])().get("/api/cms/post/".concat(t))}function o(t,n){return Object(a["a"])().put("/api/cms/post/".concat(t,"/setting"),n)}},"8b94":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t._self._c;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-share-single"},[n("div",{staticClass:"m-navigation"},[n("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")])],1),n("div",{staticClass:"m-header"},[n("h2",[t._v(t._s(t.title))]),n("div",{staticClass:"u-info"},[n("div",{staticClass:"u-info-margin"},[n("i",{staticClass:"el-icon-user-solid"}),n("a",{staticClass:"u-name",attrs:{target:"_blank",href:t.author_link}},[t._v(t._s(t.author_name))])]),n("div",{staticClass:"u-info-client u-info-margin"},[n("i",{staticClass:"u-label-client"},[t._v("适用客户端")]),n("span",{staticClass:"u-client",class:t.client},[t._v(t._s(t.showClientLabel(t.client)))])]),n("span",{staticClass:"u-info-margin"},[n("i",{staticClass:"el-icon-date"}),n("time",[t._v(t._s(t.post_date))])]),n("span",{staticClass:"u-info-date u-info-margin"},[n("i",{staticClass:"el-icon-date"}),n("time",[t._v(t._s(t.update_date))])]),n("span",{staticClass:"u-info-margin"},[n("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.views)+" ")]),t.canEdit?n("a",{staticClass:"u-info-margin",attrs:{href:t.edit_link}},[n("i",{staticClass:"u-icon-edit el-icon-edit-outline"}),n("span",[t._v("编辑")])]):t._e()]),n("el-divider",{attrs:{"content-position":"left"}},[t._v("JX3BOX")])],1),t.meta.pics&&t.meta.pics.length?n("div",{staticClass:"m-single-pics"},[n("el-carousel",{staticClass:"m-carousel",attrs:{interval:4e3,type:"card",arrow:"always"}},t._l(t.meta.pics,(function(e,a){return n("el-carousel-item",{key:a},[n("div",{staticClass:"m-face-pic",on:{click:function(n){return t.showOriginImage(a)}}},[n("el-image",{staticClass:"u-pic",attrs:{fit:"contain",src:t.showImage(e.url),"preview-src-list":t.previewSrcList}})],1)])})),1)],1):t._e(),n("div",{staticClass:"u-single-author"},[t._v(" 作者："),n("b",[t._v(t._s(t.origin_author))])]),n("div",{staticClass:"m-single-data"},[n("el-divider",{attrs:{"content-position":"left"}},[t._v(" 独家数据分析 ")]),t.facedata?n("facedata",{attrs:{data:t.facedata}}):t._e()],1),n("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:t.post_type,postTitle:t.title,userId:t.author_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0}}),n("div",[n("el-divider",{attrs:{"content-position":"left"}},[t._v("讨论")]),n("Comment",{attrs:{id:t.id,category:t.post_type}})],1)],1)},i=[],c=e("c7eb"),o=e("1da1"),s=(e("d81d"),e("d3b7"),e("14d9"),e("85e4")),r=e("635b"),u=e("9616"),d=e("e0bb"),l=e("23d8"),f=(e("65c2"),e("e4f1")),p=e("c9d2"),v=e("f0d2"),h={name:"single",components:{facedata:d["a"],Comment:l["a"]},data:function(){return{loading:!1,post:{},stat:{},client_map:{std:"重制",origin:"缘起",all:"双端"}}},computed:{id:function(){return this.$route.params.id},author_id:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.post_author)||0},author_name:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.author)||"匿名"},author_link:function(){var t;return Object(s["authorLink"])(null===(t=this.post)||void 0===t?void 0:t.post_author)},edit_link:function(){var t,n;return Object(s["editLink"])(null===(t=this.post)||void 0===t?void 0:t.post_type,null===(n=this.post)||void 0===n?void 0:n.ID)},origin_author:function(){var t,n;return(null===(t=this.post)||void 0===t||null===(n=t.post_meta)||void 0===n?void 0:n.author)||"匿名"},facedata:function(){var t,n;return(null===(t=this.post)||void 0===t||null===(n=t.post_meta)||void 0===n?void 0:n.data)||""},meta:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.post_meta)||""},post_type:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.post_type)||"share"},title:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.post_title)||"无标题"},canEdit:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.post_author)==p["a"].getInfo().uid||p["a"].isEditor()},client:function(){return this.$store.state.client},post_date:function(){var t;return Object(f["a"])(new Date(null===(t=this.post)||void 0===t?void 0:t.post_date))},update_date:function(){var t;return Object(f["a"])(new Date(null===(t=this.post)||void 0===t?void 0:t.post_modified))},views:function(){var t;return(null===(t=this.stat)||void 0===t?void 0:t.views)||"-"},previewSrcList:function(){var t;return null===(t=this.meta)||void 0===t?void 0:t.pics.map((function(t){return Object(s["resolveImagePath"])(t.url)}))}},methods:{getData:function(){var t=this;this.id&&(this.loading=!0,Object(r["a"])(this.id).then((function(n){t.post=t.$store.state.post=n.data.data,document.title=t.post.post_title})).finally((function(){t.loading=!1})),Object(u["a"])("share",this.id).then((function(n){t.stat=n.data})),Object(u["b"])("share",this.id))},goBack:function(){this.$router.push({name:"list"})},showClientLabel:function(t){return this.client_map[t]},showImage:function(t){return Object(s["resolveImagePath"])(t)},showOriginImage:function(t){console.log(t)}},created:function(){this.getData()},beforeRouteEnter:function(t,n,e){e(function(){var t=Object(o["a"])(Object(c["a"])().mark((function t(n){var e;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["f"])(n.id);case 2:e=t.sent,location.href="/face/"+e.data.data;case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},m=h,_=(e("4144"),e("2877")),g=Object(_["a"])(m,a,i,!1,null,null,null);n["default"]=g.exports},e715:function(t,n,e){},f0d2:function(t,n,e){"use strict";e.d(n,"e",(function(){return i})),e.d(n,"g",(function(){return o})),e.d(n,"n",(function(){return s})),e.d(n,"a",(function(){return r})),e.d(n,"l",(function(){return u})),e.d(n,"k",(function(){return d})),e.d(n,"b",(function(){return l})),e.d(n,"m",(function(){return f})),e.d(n,"j",(function(){return p})),e.d(n,"c",(function(){return v})),e.d(n,"d",(function(){return h})),e.d(n,"h",(function(){return m})),e.d(n,"f",(function(){return c})),e.d(n,"i",(function(){return _}));e("99af");var a=e("41cb");function i(t){return Object(a["d"])().get("/api/face",{params:t})}function c(t){return Object(a["d"])().get("/api/face/old/".concat(t))}function o(t){return Object(a["d"])().get("/api/face/".concat(t))}function s(t){return Object(a["d"])().put("/api/face/".concat(t,"/manager/set/star"))}function r(t){return Object(a["d"])().put("/api/face/".concat(t,"/manager/cancel/star"))}function u(t,n){return n?Object(a["d"])().put("/api/face/".concat(t,"/manager/online")):Object(a["d"])().put("/api/face/".concat(t,"/online"))}function d(t,n){return n?Object(a["d"])().put("/api/face/".concat(t,"/manager/offline")):Object(a["d"])().put("/api/face/".concat(t,"/offline"))}function l(t){return Object(a["d"])().delete("/api/face/".concat(t))}function f(t){return Object(a["f"])().post("/api/buy-licence/article/".concat(t.postType,"/").concat(t.PostId,"/pay/").concat(t.priceType,"/").concat(t.priceCount,"/from/").concat(t.payUserId,"/to/").concat(t.accessUserId),{})}function p(t){return Object(a["f"])().get("/api/buy-licence/result/".concat(t))}function v(t,n){return Object(a["d"])().get("/api/charge_attachment/face/".concat(t),{params:n})}function h(t,n){return Object(a["d"])().get("/api/charge_attachment/download/face/".concat(t,"/").concat(n))}function m(t){return Object(a["d"])().get("/api/face/random",{params:t})}function _(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i={client:n,type:t,source_type:"face"};return e&&(i.per=e),Object(a["a"])({mute:!0}).get("/api/cms/news/v2",{params:i})}}}]);
//# sourceMappingURL=chunk-dc3575ea.6b179aea.js.map