(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d271c59a"],{4259:function(e,t,n){"use strict";n("c338")},6343:function(e,t,n){(function(t){const{hasOwnProperty:n}=Object.prototype,r="undefined"!==typeof t&&"win32"===t.platform?"\r\n":"\n",a=(e,t)=>{const n=[];let o="";"string"===typeof t?t={section:t,whitespace:!1}:(t=t||Object.create(null),t.whitespace=!0===t.whitespace);const s=t.whitespace?" = ":"=";for(const a of Object.keys(e)){const t=e[a];if(t&&Array.isArray(t))for(const e of t)o+=c(a+"[]")+s+c(e)+"\n";else t&&"object"===typeof t?n.push(a):o+=c(a)+s+c(t)+r}t.section&&o.length&&(o="["+c(t.section)+"]"+r+o);for(const c of n){const n=i(c).join("\\."),s=(t.section?t.section+".":"")+n,{whitespace:u}=t,l=a(e[c],{section:s,whitespace:u});o.length&&l.length&&(o+=r),o+=l}return o},i=e=>e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(e=>e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),o=e=>{const t=Object.create(null);let r=t,a=null;const o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,s=e.split(/[\r\n]+/g);for(const i of s){if(!i||i.match(/^\s*[;#]/))continue;const e=i.match(o);if(!e)continue;if(void 0!==e[1]){if(a=u(e[1]),"__proto__"===a){r=Object.create(null);continue}r=t[a]=t[a]||Object.create(null);continue}const s=u(e[2]),c=s.length>2&&"[]"===s.slice(-2),l=c?s.slice(0,-2):s;if("__proto__"===l)continue;const p=!e[3]||u(e[4]),f="true"===p||"false"===p||"null"===p?JSON.parse(p):p;c&&(n.call(r,l)?Array.isArray(r[l])||(r[l]=[r[l]]):r[l]=[]),Array.isArray(r[l])?r[l].push(f):r[l]=f}const c=[];for(const u of Object.keys(t)){if(!n.call(t,u)||"object"!==typeof t[u]||Array.isArray(t[u]))continue;const e=i(u);let r=t;const a=e.pop(),o=a.replace(/\\\./g,".");for(const t of e)"__proto__"!==t&&(n.call(r,t)&&"object"===typeof r[t]||(r[t]=Object.create(null)),r=r[t]);r===t&&o===a||(r[o]=t[u],c.push(u))}for(const n of c)delete t[n];return t},s=e=>'"'===e.charAt(0)&&'"'===e.slice(-1)||"'"===e.charAt(0)&&"'"===e.slice(-1),c=e=>"string"!==typeof e||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&s(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#"),u=(e,t)=>{if(e=(e||"").trim(),!s(e)){let t=!1,n="";for(let r=0,a=e.length;r<a;r++){const a=e.charAt(r);if(t)-1!=="\\;#".indexOf(a)?n+=a:n+="\\"+a,t=!1;else{if(-1!==";#".indexOf(a))break;"\\"===a?t=!0:n+=a}}return t&&(n+="\\"),n.trim()}"'"===e.charAt(0)&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch(n){}return e};e.exports={parse:o,decode:o,stringify:a,encode:a,safe:c,unsafe:u}}).call(this,n("4362"))},"808d":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c-facedat-upload"},[e.support?t("div",{staticClass:"u-upload"},[e.done?[t("div",{staticClass:"u-result"},[t("el-button",{staticClass:"u-reset",attrs:{icon:"el-icon-refresh-left"},on:{click:e.resetData}},[e._v("清空重置")]),t("el-alert",{attrs:{title:"当前文件为："+e.filename,type:"success","show-icon":""}})],1)]:[t("input",{staticClass:"u-input",attrs:{type:"file",id:"face_file",accept:".dat,.jx3dat,.ini"},on:{change:e.uploadData}}),t("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:e.selectData}},[e._v(e._s(e.btnText))]),"face"===e.type?t("a",{staticClass:"u-help",attrs:{href:"/tool/746",target:"_blank"}},[t("i",{staticClass:"el-icon-collection"}),e._v(" 游戏脸型导入导出指南 ")]):e._e()]],2):t("el-alert",{staticClass:"u-notsupport",attrs:{title:"浏览器不支持",type:"warning",description:"你的浏览器太老旧不支持本地读取,请更换chrome或其它现代浏览器","show-icon":""}})],1)},a=[],i=(n("b0c0"),n("2ca0"),n("e9c4"),n("99af"),n("d3b7"),n("25f0"),n("fb5f")),o=n("1218"),s=n("d4f4"),c=n("d9f0"),u=n("6343");function l(e,t,n=0){return parseInt(e["Face"][t])||n}function p(e,t){let n={bUse:!!parseInt(e["CustomDetail"][t+"_valueEnable"]),nShowID:parseInt(e["Decal"][t])||0,nColorID:parseInt(e["Decal"][t+"_color"])||0,fValue1:-1,fValue2:-1,fValue3:-1};return n["bUse"]&&(n["fValue1"]=parseFloat(e["CustomDetail"][t+"_value1"])||0,n["fValue2"]=parseFloat(e["CustomDetail"][t+"_value2"])||0,n["fValue3"]=parseFloat(e["CustomDetail"][t+"_value3"])||0),n}function f(e){return{nRoleType:parseInt(e["Base"]["RoleType"]),nDecorationID:parseInt(e["Base"]["DecorationID"]),tDecal:{BASE:p(e,"FaceBaseTexture"),BROW:p(e,"Brow"),EYE_LIGHT:p(e,"EyeLight"),EYE_LINE:p(e,"EyeLine"),EYE_SHADOW:p(e,"EyeShadow"),EYE_SHADOW1:p(e,"EyeShadow1"),EYE_SHADOW2:p(e,"EyeShadow2"),EYE_SHADOW3:p(e,"EyeShadow3"),EYE_SHADOW4:p(e,"EyeShadow4"),EYE_SHADOW_FLASH1:p(e,"EyeShadowFlash1"),EYE_SHADOW_FLASH2:p(e,"EyeShadowFlash2"),EYE_SHADOW_FLASH3:p(e,"EyeShadowFlash3"),EYE_SHADOW_FLASH4:p(e,"EyeShadowFlash4"),LIP_LIGHT:p(e,"LipLight"),LIP_FLASH:p(e,"LipFlash"),LIP_GLOSS:p(e,"LipGloss"),LIP_OVERLAP:p(e,"LipOverlap"),IRIS_LEFT:p(e,"IrisLeft"),IRIS_RIGHT:p(e,"IrisRight"),BLUSHER_MOUSTACHE:p(e,"BlusherMoustache"),DECAL:p(e,"Decal")},tBone:{NOSE_SIZE:l(e,"noseSize"),UP_LIP_OUT:l(e,"upLipOut"),NOSEBOW_WIDTH:l(e,"nosebowWidth"),MOUTH_OPEN:l(e,"mouthOpen"),CHEEK_Y:l(e,"cheekY"),EYE_OPEN:l(e,"eyeOpen"),FACE_Y:l(e,"faceY"),MOUTH_END_L:l(e,"mouthEndL"),JAW_LENGTH:l(e,"jawLength"),UP_LIP:l(e,"upLip"),EYE_DIST:l(e,"eyeDist"),NOSETOP_POS_Y:l(e,"nosetopPosY"),EYE_DIRC:l(e,"eyeDirc"),EYEBOW_OUT:l(e,"eyebowOut"),MOUTH_OUT:l(e,"mouthOut"),RIDGE_Y:l(e,"ridgeY"),MOUTH_END:l(e,"mouthEnd"),NOSEBOW_BEND:l(e,"nosebowBend"),JAW_WIDTH:l(e,"jawWidth"),LOW_LIP_POS:l(e,"lowLipPos"),PUPIL_DIRC:l(e,"pupilDirc"),NOSETOP_POS_Z:l(e,"nosetopPosZ"),MOUTH_POS:l(e,"mouthPos"),MOUTH_SIZE:l(e,"mouthSize"),LOW_LIP:l(e,"lowLip"),FACE_Z:l(e,"faceZ"),NOSETOP_WIDTH:l(e,"nosetopWidth"),UP_FACE:l(e,"upFace"),UP_LID_POS:l(e,"upLidPos"),EYEBOW_POS:l(e,"eyebowPos"),EYEBOW_DIRC:l(e,"eyebowDirc"),UP_LIP_POS:l(e,"upLipPos"),LOW_LIP_OUT:l(e,"lowLipOut"),MOUTH_ROT:l(e,"mouthRot"),EYE_SIZE:l(e,"eyeSize"),EYE_POS:l(e,"eyePos"),JAW_ROT:l(e,"jawRot"),JAW_END:l(e,"jawEnd"),EYECROW_Y:l(e,"eyecrowY"),NOSETOP_UP:l(e,"nosetopUp"),MOUTH_END_R:l(e,"mouthEndR"),OUT:l(e,"out"),JAW_POS:l(e,"jawPos"),LOW_FACE:l(e,"lowFace"),CHEEK_Z:l(e,"cheekZ"),PUPIL_SIZE:l(e,"pupilSize"),FACE_SCALE:l(e,"faceScale"),NOSE_HEIGHT:l(e,"noseHeight"),LOW_LID_POS:l(e,"lowLidPos")}}}var h=n("d4ae");function d(e){const t=o["b"](e);let n;try{if(n=c["a"].unserialize(t),console.log("数据作为 LuaTable 解析成功"),n.get("tBone"))return console.log("数据为脸型数据"),{type:"face",data:Object(s["parse"])("return "+t)};if(n.get("tBody"))return console.log("数据为体型数据"),{type:"body",data:Object(h["b"])(n)}}catch{try{const e=Object(u["parse"])(t),n=f(e);return console.log("数据作为 INI 解析成功"),{type:"face_ini",data:n}}catch{return null}}}var y={name:"Upload",props:{type:{type:String,default:""}},components:{},data:function(){return{support:!0,parsedType:"",file:"",json:"",object:"",done:!1,types:i.bodyMap}},computed:{btnText:function(){var e="上传脸型/体型数据";return"face"===this.type&&(e="上传脸型数据"),"body"===this.type&&(e="上传体型数据"),e},filename:function(){return this.file&&this.file.name}},methods:{selectData:function(e){var t=document.getElementById("face_file");t.dispatchEvent(new MouseEvent("click"))},uploadData:function(e){var t=e.target.files[0];this.file=t,this.parseData(t)},parseData:function(e){if(e){var t=this,n=new FileReader;n.onload=function(e){console.log("文件读取成功...开始执行分析...");var n=d(e.target.result);if(!n)return t.$notify.error({title:"错误",message:"数据类型解析失败"});if(n.type.startsWith("face")){if(t.type&&"face"!==t.type)return t.$notify.error({title:"错误",message:"请导入脸型数据"});t.parsedType="face",t.object=n.data}else if("body"===n.type){if(t.type&&"body"!==t.type)return t.$notify.error({title:"错误",message:"请导入体型数据"});t.parsedType="body",t.object=n.data}if(t.object)try{var r;t.json=JSON.stringify(t.object),t.$notify({title:"成功",message:"".concat((null===(r=t.types[t.object.nRoleType.toString()])||void 0===r?void 0:r.label)||"").concat("face"===t.parsedType?"脸型":"body"===t.parsedType?"体型":"","数据读取成功"),type:"success"}),t.done=!0,t.$emit("success",{type:t.parsedType,file:t.file,json:t.json,object:t.object})}catch(e){t.$notify.error({title:"错误",message:"无法读取数据"}),t.$emit("fail",{file:t.file})}},n.onerror=function(e){t.$notify.error({title:"错误",message:"文件读取异常"})},n.readAsArrayBuffer(e)}},resetData:function(){this.done=!1,this.file="",this.json="",this.object="",this.$emit("success",{file:"",json:"",object:""})}},filters:{},created:function(){},mounted:function(){this.support=!!window.FileReader}},m=y,b=(n("4259"),n("2877")),v=Object(b["a"])(m,r,a,!1,null,null,null);t["a"]=v.exports},c338:function(e,t,n){},d4f4:function(e,t,n){const{isNull:r,isBoolean:a,isNumber:i,isString:o,isArray:s,isObject:c,isEmpty:u,fromPairs:l,keys:p,map:f,repeat:h}=n("2ef0"),{parse:d}=n("e588"),y=(e,t)=>t?`'${e.replace(/'/g,"\\'")}'`:`"${e.replace(/"/g,'\\"')}"`,m={false:"false",true:"true",null:"nil"},b=(e,t)=>m[e]?`[${m[e]}]`:e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:`[${y(e,t)}]`,v=(e,t={eol:"\n",singleQuote:!0,spaces:2})=>{t=t||{};const n=t.eol=o(t.eol)?t.eol:"\n";t.singleQuote=!a(t.singleQuote)||t.singleQuote,t.spaces=r(t.spaces)||i(t.spaces)||o(t.spaces)?t.spaces:2;const l=(e,f=0)=>{if(r(e))return"nil";if(a(e)||i(e))return e.toString();if(o(e))return y(e,t.singleQuote);if(s(e)){if(u(e))return"{}";if(t.spaces){const r=i(t.spaces)?h(" ",t.spaces*(f+1)):h(t.spaces,f+1),a=i(t.spaces)?h(" ",t.spaces*f):h(t.spaces,f);return`{${n}${e.map(e=>`${r}${l(e,f+1)},`).join(n)}${n}${a}}`}return`{${e.map(e=>l(e,f+1)+",").join("")}}`}if(c(e)){if(u(e))return"{}";if(t.spaces){const r=i(t.spaces)?h(" ",t.spaces*(f+1)):h(t.spaces,f+1),a=i(t.spaces)?h(" ",t.spaces*f):h(t.spaces,f);return`{${n}${p(e).map(n=>`${r}${b(n,t.singleQuote)} = ${l(e[n],f+1)},`).join(n)}${n}${a}}`}return`{${p(e).map(n=>`${b(n,t.singleQuote)}=${l(e[n],f+1)},`).join("")}}`}throw new Error("can't format "+typeof e)};return`return${t.spaces?" ":""}${l(e)}`},E=e=>{if(["NilLiteral","BooleanLiteral","NumericLiteral","StringLiteral"].includes(e.type))return e.value;if("UnaryExpression"===e.type&&"-"===e.operator)return-E(e.argument);if("Identifier"===e.type)return e.name;if(["TableKey","TableKeyString"].includes(e.type))return{__internal_table_key:!0,key:E(e.key),value:E(e.value)};if("TableValue"===e.type)return E(e.value);if("TableConstructorExpression"===e.type){if(e.fields[0]&&e.fields[0].key){const t=l(f(e.fields,e=>{const{key:t,value:n}=E(e);return[t,n]}));return u(t)?[]:t}return f(e.fields,e=>{const t=E(e);return t.__internal_table_key?[t.key,t.value]:t})}if("LocalStatement"===e.type){const t=e.init.map(E);return 1===t.length?t[0]:t}if("ReturnStatement"===e.type){const t=e.arguments.map(E);return 1===t.length?t[0]:t}if("Chunk"===e.type)return E(e.body[0]);throw new Error("can't parse "+e.type)},g=e=>E(d(e,{comments:!1}));e.exports={format:v,parse:g}},e588:function(e,t,n){(function(e,n){var r,a,i;(function(o,s,c){"use strict";var u={function:!0,object:!0},l=u[typeof t]&&t&&!t.nodeType&&t,p=u[typeof e]&&e&&!e.nodeType&&e,f=l&&p&&"object"==typeof n&&n,h=p&&p.exports===l&&l;!f||f.global!==f&&f.window!==f&&f.self,a=[t],r=c,i="function"===typeof r?r.apply(t,a):r,void 0===i||(e.exports=i),l&&h&&c(p.exports)})(0,0,(function(e){"use strict";var t,n,r;e.version="0.2.1";var a=e.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null},i=1,o=2,s=4,c=8,u=16,l=32,p=64,f=128,h=256;e.tokenTypes={EOF:i,StringLiteral:o,Keyword:s,Identifier:c,NumericLiteral:u,Punctuator:l,BooleanLiteral:p,NilLiteral:f,VarargLiteral:h};var d=e.errors={unexpected:"unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",invalidVar:"invalid left-hand side of assignment near '%1'"},y=e.ast={labelStatement:function(e){return{type:"LabelStatement",label:e}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(e){return{type:"GotoStatement",label:e}},returnStatement:function(e){return{type:"ReturnStatement",arguments:e}},ifStatement:function(e){return{type:"IfStatement",clauses:e}},ifClause:function(e,t){return{type:"IfClause",condition:e,body:t}},elseifClause:function(e,t){return{type:"ElseifClause",condition:e,body:t}},elseClause:function(e){return{type:"ElseClause",body:e}},whileStatement:function(e,t){return{type:"WhileStatement",condition:e,body:t}},doStatement:function(e){return{type:"DoStatement",body:e}},repeatStatement:function(e,t){return{type:"RepeatStatement",condition:e,body:t}},localStatement:function(e,t){return{type:"LocalStatement",variables:e,init:t}},assignmentStatement:function(e,t){return{type:"AssignmentStatement",variables:e,init:t}},callStatement:function(e){return{type:"CallStatement",expression:e}},functionStatement:function(e,t,n,r){return{type:"FunctionDeclaration",identifier:e,isLocal:n,parameters:t,body:r}},forNumericStatement:function(e,t,n,r,a){return{type:"ForNumericStatement",variable:e,start:t,end:n,step:r,body:a}},forGenericStatement:function(e,t,n){return{type:"ForGenericStatement",variables:e,iterators:t,body:n}},chunk:function(e){return{type:"Chunk",body:e}},identifier:function(e){return{type:"Identifier",name:e}},literal:function(e,t,n){return e=e===o?"StringLiteral":e===u?"NumericLiteral":e===p?"BooleanLiteral":e===f?"NilLiteral":"VarargLiteral",{type:e,value:t,raw:n}},tableKey:function(e,t){return{type:"TableKey",key:e,value:t}},tableKeyString:function(e,t){return{type:"TableKeyString",key:e,value:t}},tableValue:function(e){return{type:"TableValue",value:e}},tableConstructorExpression:function(e){return{type:"TableConstructorExpression",fields:e}},binaryExpression:function(e,t,n){var r="and"===e||"or"===e?"LogicalExpression":"BinaryExpression";return{type:r,operator:e,left:t,right:n}},unaryExpression:function(e,t){return{type:"UnaryExpression",operator:e,argument:t}},memberExpression:function(e,t,n){return{type:"MemberExpression",indexer:t,identifier:n,base:e}},indexExpression:function(e,t){return{type:"IndexExpression",base:e,index:t}},callExpression:function(e,t){return{type:"CallExpression",base:e,arguments:t}},tableCallExpression:function(e,t){return{type:"TableCallExpression",base:e,arguments:t}},stringCallExpression:function(e,t){return{type:"StringCallExpression",base:e,argument:t}},comment:function(e,t){return{type:"Comment",value:e,raw:t}}};function m(e){if(ye){var t=me.pop();t.complete(),n.locations&&(e.loc=t.loc),n.ranges&&(e.range=t.range)}return n.onCreateNode&&n.onCreateNode(e),e}var b,v,E,g,S,_,w,O,A,C,x,L=Array.prototype.slice,I=(Object.prototype.toString,function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1});function T(e,t,n){for(var r=0,a=e.length;r<a;r++)if(e[r][t]===n)return r;return-1}function k(e){var t=L.call(arguments,1);return e=e.replace(/%(\d)/g,(function(e,n){return""+t[n-1]||""})),e}function D(){for(var e,t,n=L.call(arguments),r={},a=0,i=n.length;a<i;a++)for(t in e=n[a],e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function P(e){var t,n,r=k.apply(null,L.call(arguments,1));throw"undefined"!==typeof e.line?(n=e.range[0]-e.lineStart,t=new SyntaxError(k("[%1:%2] %3",e.line,n,r)),t.line=e.line,t.index=e.range[0],t.column=n):(n=b-O+1,t=new SyntaxError(k("[%1:%2] %3",w,n,r)),t.index=b,t.line=w,t.column=n),t}function j(e,t){P(t,d.expectedToken,e,t.value)}function N(e,t){if("undefined"===typeof t&&(t=g.value),"undefined"!==typeof e.type){var n;switch(e.type){case o:n="string";break;case s:n="keyword";break;case c:n="identifier";break;case u:n="number";break;case l:n="symbol";break;case p:n="boolean";break;case f:return P(e,d.unexpected,"symbol","nil",t)}return P(e,d.unexpected,n,e.value,t)}return P(e,d.unexpected,"symbol",e,t)}function H(){W();while(45===t.charCodeAt(b)&&45===t.charCodeAt(b+1))J(),W();if(b>=r)return{type:i,value:"<eof>",line:w,lineStart:O,range:[b,b]};var e=t.charCodeAt(b),n=t.charCodeAt(b+1);if(_=b,re(e))return F();switch(e){case 39:case 34:return U();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return M();case 46:return te(n)?M():46===n?46===t.charCodeAt(b+2)?Y():R(".."):R(".");case 61:return R(61===n?"==":"=");case 62:return R(61===n?">=":62===n?">>":">");case 60:return R(60===n?"<<":61===n?"<=":"<");case 126:return R(61===n?"~=":"~");case 58:return R(58===n?"::":":");case 91:return 91===n||61===n?B():R("[");case 47:return R(47===n?"//":"/");case 42:case 94:case 37:case 44:case 123:case 124:case 125:case 93:case 40:case 41:case 59:case 38:case 35:case 45:case 43:return R(t.charAt(b))}return N(t.charAt(b))}function $(){var e=t.charCodeAt(b),n=t.charCodeAt(b+1);return!!ee(e)&&(10===e&&13===n&&b++,13===e&&10===n&&b++,w++,O=++b,!0)}function W(){while(b<r){var e=t.charCodeAt(b);if(q(e))b++;else if(!$())break}}function F(){var e,n;while(ae(t.charCodeAt(++b)));return e=t.slice(_,b),ie(e)?n=s:"true"===e||"false"===e?(n=p,e="true"===e):"nil"===e?(n=f,e=null):n=c,{type:n,value:e,line:w,lineStart:O,range:[_,b]}}function R(e){return b+=e.length,{type:l,value:e,line:w,lineStart:O,range:[_,b]}}function Y(){return b+=3,{type:h,value:"...",line:w,lineStart:O,range:[_,b]}}function U(){var e,n=t.charCodeAt(b++),a=b,i="";while(b<r){if(e=t.charCodeAt(b++),n===e)break;92===e?(i+=t.slice(a,b-1)+Z(),a=b):(b>=r||ee(e))&&(i+=t.slice(a,b-1),P({},d.unfinishedString,i+String.fromCharCode(e)))}return i+=t.slice(a,b-1),{type:o,value:i,line:w,lineStart:O,range:[_,b]}}function B(){var e=K();return!1===e&&P(v,d.expected,"[",v.value),{type:o,value:e,line:w,lineStart:O,range:[_,b]}}function M(){var e=t.charAt(b),n=t.charAt(b+1),r="0"===e&&"xX".indexOf(n||null)>=0?V():G();return{type:u,value:r,line:w,lineStart:O,range:[_,b]}}function V(){var e,n,r,a,i=0,o=1,s=1;a=b+=2,ne(t.charCodeAt(b))||P({},d.malformedNumber,t.slice(_,b));while(ne(t.charCodeAt(b)))b++;if(e=parseInt(t.slice(a,b),16),"."===t.charAt(b)){n=++b;while(ne(t.charCodeAt(b)))b++;i=t.slice(n,b),i=n===b?0:parseInt(i,16)/Math.pow(16,b-n)}if("pP".indexOf(t.charAt(b)||null)>=0){b++,"+-".indexOf(t.charAt(b)||null)>=0&&(s="+"===t.charAt(b++)?1:-1),r=b,te(t.charCodeAt(b))||P({},d.malformedNumber,t.slice(_,b));while(te(t.charCodeAt(b)))b++;o=t.slice(r,b),o=Math.pow(2,o*s)}return(e+i)*o}function G(){while(te(t.charCodeAt(b)))b++;if("."===t.charAt(b)){b++;while(te(t.charCodeAt(b)))b++}if("eE".indexOf(t.charAt(b)||null)>=0){b++,"+-".indexOf(t.charAt(b)||null)>=0&&b++,te(t.charCodeAt(b))||P({},d.malformedNumber,t.slice(_,b));while(te(t.charCodeAt(b)))b++}return parseFloat(t.slice(_,b))}function Z(){var e=b;switch(t.charAt(b)){case"n":return b++,"\n";case"r":return b++,"\r";case"t":return b++,"\t";case"v":return b++,"\v";case"b":return b++,"\b";case"f":return b++,"\f";case"z":return b++,W(),"";case"x":return ne(t.charCodeAt(b+1))&&ne(t.charCodeAt(b+2))?(b+=3,"\\"+t.slice(e,b)):"\\"+t.charAt(b++);default:if(te(t.charCodeAt(b))){while(te(t.charCodeAt(++b)));return"\\"+t.slice(e,b)}return t.charAt(b++)}}function J(){_=b,b+=2;var e=t.charAt(b),a="",i=!1,o=b,s=O,c=w;if("["===e&&(a=K(),!1===a?a=e:i=!0),!i){while(b<r){if(ee(t.charCodeAt(b)))break;b++}n.comments&&(a=t.slice(o,b))}if(n.comments){var u=y.comment(a,t.slice(_,b));n.locations&&(u.loc={start:{line:c,column:_-s},end:{line:w,column:b-O}}),n.ranges&&(u.range=[_,b]),n.onCreateNode&&n.onCreateNode(u),S.push(u)}}function K(){var e,n,a=0,i="",o=!1;b++;while("="===t.charAt(b+a))a++;if("["!==t.charAt(b+a))return!1;b+=a+1,ee(t.charCodeAt(b))&&$(),n=b;while(b<r){if(ee(t.charCodeAt(b))&&$(),e=t.charAt(b++),"]"===e){o=!0;for(var s=0;s<a;s++)"="!==t.charAt(b+s)&&(o=!1);"]"!==t.charAt(b+a)&&(o=!1)}if(o)break}return i+=t.slice(n,b-1),b+=a+1,i}function z(){E=v,v=g,g=H()}function Q(e){return e===v.value&&(z(),!0)}function X(e){e===v.value?z():P(v,d.expected,e,v.value)}function q(e){return 9===e||32===e||11===e||12===e}function ee(e){return 10===e||13===e}function te(e){return e>=48&&e<=57}function ne(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function re(e){return e>=65&&e<=90||e>=97&&e<=122||95===e}function ae(e){return e>=65&&e<=90||e>=97&&e<=122||95===e||e>=48&&e<=57}function ie(e){switch(e.length){case 2:return"do"===e||"if"===e||"in"===e||"or"===e;case 3:return"and"===e||"end"===e||"for"===e||"not"===e;case 4:return"else"===e||"goto"===e||"then"===e;case 5:return"break"===e||"local"===e||"until"===e||"while"===e;case 6:return"elseif"===e||"repeat"===e||"return"===e;case 8:return"function"===e}return!1}function oe(e){return l===e.type?"#-~".indexOf(e.value)>=0:s===e.type&&"not"===e.value}function se(e){switch(e.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function ce(e){if(i===e.type)return!0;if(s!==e.type)return!1;switch(e.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function ue(){var e=Array.apply(null,A[C++]);A.push(e),n.onCreateScope&&n.onCreateScope()}function le(){A.pop();C--,n.onDestroyScope&&n.onDestroyScope()}function pe(e){-1===I(A[C],e)&&A[C].push(e)}function fe(e){pe(e.name),he(e,!0)}function he(e,t){t||-1!==T(x,"name",e.name)||x.push(e),e.isLocal=t}function de(e){return-1!==I(A[C],e)}e.lex=H;var ye,me=[];function be(){return new ve(v)}function ve(e){n.locations&&(this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}}),n.ranges&&(this.range=[e.range[0],0])}function Ee(){ye&&me.push(be())}function ge(e){ye&&me.push(e)}function Se(){z(),Ee(),n.scope&&ue();var e=_e();return n.scope&&le(),i!==v.type&&N(v),ye&&!e.length&&(E=v),m(y.chunk(e))}function _e(e){var t,n=[];while(!ce(v)){if("return"===v.value){n.push(we());break}t=we(),t&&n.push(t)}return n}function we(){if(Ee(),s===v.type)switch(v.value){case"local":return z(),Pe();case"if":return z(),ke();case"return":return z(),Te();case"function":z();var e=We();return $e(e);case"while":return z(),Le();case"for":return z(),De();case"repeat":return z(),Ie();case"break":return z(),Ae();case"do":return z(),xe();case"goto":return z(),Ce()}return l===v.type&&Q("::")?Oe():(ye&&me.pop(),Q(";")?void 0:Ne())}function Oe(){var e=v.value,t=He();return n.scope&&(pe("::"+e+"::"),he(t,!0)),X("::"),m(y.labelStatement(t))}function Ae(){return m(y.breakStatement())}function Ce(){v.value;var e=He();return m(y.gotoStatement(e))}function xe(){n.scope&&ue();var e=_e();return n.scope&&le(),X("end"),m(y.doStatement(e))}function Le(){var e=Ye();X("do"),n.scope&&ue();var t=_e();return n.scope&&le(),X("end"),m(y.whileStatement(e,t))}function Ie(){n.scope&&ue();var e=_e();X("until");var t=Ye();return n.scope&&le(),m(y.repeatStatement(t,e))}function Te(){var e=[];if("end"!==v.value){var t=Re();null!=t&&e.push(t);while(Q(","))t=Ye(),e.push(t);Q(";")}return m(y.returnStatement(e))}function ke(){var e,t,r,a=[];ye&&(r=me[me.length-1],me.push(r)),e=Ye(),X("then"),n.scope&&ue(),t=_e(),n.scope&&le(),a.push(m(y.ifClause(e,t))),ye&&(r=be());while(Q("elseif"))ge(r),e=Ye(),X("then"),n.scope&&ue(),t=_e(),n.scope&&le(),a.push(m(y.elseifClause(e,t))),ye&&(r=be());return Q("else")&&(ye&&(r=new ve(E),me.push(r)),n.scope&&ue(),t=_e(),n.scope&&le(),a.push(m(y.elseClause(t)))),X("end"),m(y.ifStatement(a))}function De(){var e,t=He();if(n.scope&&(ue(),fe(t)),Q("=")){var r=Ye();X(",");var a=Ye(),i=Q(",")?Ye():null;return X("do"),e=_e(),X("end"),n.scope&&le(),m(y.forNumericStatement(t,r,a,i,e))}var o=[t];while(Q(","))t=He(),n.scope&&fe(t),o.push(t);X("in");var s=[];do{var c=Ye();s.push(c)}while(Q(","));return X("do"),e=_e(),X("end"),n.scope&&le(),m(y.forGenericStatement(o,s,e))}function Pe(){var e;if(c===v.type){var t=[],r=[];do{e=He(),t.push(e)}while(Q(","));if(Q("="))do{var a=Ye();r.push(a)}while(Q(","));if(n.scope)for(var i=0,o=t.length;i<o;i++)fe(t[i]);return m(y.localStatement(t,r))}if(Q("function"))return e=He(),n.scope&&(fe(e),ue()),$e(e,!0);j("<name>",v)}function je(e){(e.inParens||-1===["Identifier","MemberExpression","IndexExpression"].indexOf(e.type))&&P(v,d.invalidVar,v.value)}function Ne(){var e,t,n=v;if(ye&&(t=be()),e=Me(),null==e)return N(v);if(",=".indexOf(v.value)>=0){var r,a=[e],i=[];je(e);while(Q(","))r=Me(),null==r&&j("<expression>",v),je(r),a.push(r);X("=");do{r=Ye(),i.push(r)}while(Q(","));return ge(t),m(y.assignmentStatement(a,i))}return se(e)?(ge(t),m(y.callStatement(e))):N(n)}function He(){Ee();var e=v.value;return c!==v.type&&j("<name>",v),z(),m(y.identifier(e))}function $e(e,t){var r=[];if(X("("),!Q(")"))while(1)if(c===v.type){var a=He();if(n.scope&&fe(a),r.push(a),Q(","))continue;if(Q(")"))break}else{if(h===v.type){r.push(Ge()),X(")");break}j("<name> or '...'",v)}var i=_e();return X("end"),n.scope&&le(),t=t||!1,m(y.functionStatement(e,r,t,i))}function We(){var e,t,r;ye&&(r=be()),e=He(),n.scope&&(he(e,de(e.name)),ue());while(Q("."))ge(r),t=He(),e=m(y.memberExpression(e,".",t));return Q(":")&&(ge(r),t=He(),e=m(y.memberExpression(e,":",t)),n.scope&&pe("self")),e}function Fe(){var e,t,n=[];while(1){if(Ee(),l===v.type&&Q("["))e=Ye(),X("]"),X("="),t=Ye(),n.push(m(y.tableKey(e,t)));else if(c===v.type)"="===g.value?(e=He(),z(),t=Ye(),n.push(m(y.tableKeyString(e,t)))):(t=Ye(),n.push(m(y.tableValue(t))));else{if(null==(t=Re())){me.pop();break}n.push(m(y.tableValue(t)))}if(!(",;".indexOf(v.value)>=0))break;z()}return X("}"),m(y.tableConstructorExpression(n))}function Re(){var e=Be(0);return e}function Ye(){var e=Re();if(null!=e)return e;j("<expression>",v)}function Ue(e){var t=e.charCodeAt(0),n=e.length;if(1===n)switch(t){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(2===n)switch(t){case 47:return 10;case 46:return 8;case 60:case 62:return"<<"===e||">>"===e?7:3;case 61:case 126:return 3;case 111:return 1}else if(97===t&&"and"===e)return 2;return 0}function Be(e){var t,n,r,a=v.value;if(ye&&(n=be()),oe(v)){Ee(),z();var i=Be(10);null==i&&j("<expression>",v),t=m(y.unaryExpression(a,i))}if(null==t&&(t=Ge(),null==t&&(t=Me())),null==t)return null;while(1){if(a=v.value,r=l===v.type||s===v.type?Ue(a):0,0===r||r<=e)break;"^"!==a&&".."!==a||r--,z();var o=Be(r);null==o&&j("<expression>",v),ye&&me.push(n),t=m(y.binaryExpression(a,t,o))}return t}function Me(){var e,t,r,a,i;if(ye&&(r=be()),c===v.type)t=v.value,e=He(),n.scope&&he(e,de(t));else{if(!Q("("))return null;e=Ye(),X(")"),e.inParens=!0}while(1)if(l===v.type)switch(v.value){case"[":ge(r),z(),a=Ye(),e=m(y.indexExpression(e,a)),X("]");break;case".":ge(r),z(),i=He(),e=m(y.memberExpression(e,".",i));break;case":":ge(r),z(),i=He(),e=m(y.memberExpression(e,":",i)),ge(r),e=Ve(e);break;case"(":case"{":ge(r),e=Ve(e);break;default:return e}else{if(o!==v.type)break;ge(r),e=Ve(e)}return e}function Ve(e){if(l===v.type)switch(v.value){case"(":z();var t=[],n=Re();null!=n&&t.push(n);while(Q(","))n=Ye(),t.push(n);return X(")"),m(y.callExpression(e,t));case"{":Ee(),z();var r=Fe();return m(y.tableCallExpression(e,r))}else if(o===v.type)return m(y.stringCallExpression(e,Ge()));j("function arguments",v)}function Ge(){var e,r=o|u|p|f|h,a=v.value,i=v.type;if(ye&&(e=be()),i&r){ge(e);var c=t.slice(v.range[0],v.range[1]);return z(),m(y.literal(i,a,c))}return s===i&&"function"===a?(ge(e),z(),n.scope&&ue(),$e(null)):Q("{")?(ge(e),Fe()):void 0}function Ze(i,o){return"undefined"===typeof o&&"object"===typeof i&&(o=i,i=void 0),o||(o={}),t=i||"",n=D(a,o),b=0,w=1,O=0,r=t.length,A=[[]],C=0,x=[],me=[],n.comments&&(S=[]),n.wait?e:Ke()}function Je(n){return t+=String(n),r=t.length,e}function Ke(e){"undefined"!==typeof e&&Je(e),t&&"#!"===t.substr(0,2)&&(t=t.replace(/^.*/,(function(e){return e.replace(/./g," ")}))),r=t.length,ye=n.locations||n.ranges,g=H();var a=Se();if(n.comments&&(a.comments=S),n.scope&&(a.globals=x),me.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return a}ve.prototype.complete=function(){n.locations&&(this.loc.end.line=E.line,this.loc.end.column=E.range[1]-E.lineStart),n.ranges&&(this.range[1]=E.range[1])},e.parse=Ze,e.write=Je,e.end=Ke}))}).call(this,n("62e4")(e),n("c8ba"))}}]);
//# sourceMappingURL=chunk-d271c59a.eea7aaef.js.map