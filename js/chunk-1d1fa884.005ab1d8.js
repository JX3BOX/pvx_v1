(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d1fa884"],{"1b7c":function(t,e,n){},6231:function(t,e,n){"use strict";n.r(e);n("7db0"),n("d3b7"),n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"horse-home-wrapper"},[e("PvxSearch",{attrs:{items:t.searchProps},on:{search:function(e){return t.searchEvent(e)}}}),e("div",{staticClass:"list-wrapper"},t._l(t.latelyList,(function(n,i){return e("div",{key:i,staticClass:"list-item-wrapper"},[e("div",{staticClass:"title-header"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.searchProps[0].options.find((function(t){return t.type===i}))?t.searchProps[0].options.find((function(t){return t.type===i})).name:"全部")+" ")]),e("router-link",{attrs:{to:"/list?type=".concat(t.latelyList.length>1?i:t.currentType)}},[t._v("查看全部")])],1),e("horse-cross",{attrs:{list:n},scopedSlots:t._u([{key:"default",fn:function(t){return[e("HorseCard",{attrs:{item:t.item}})]}}],null,!0)})],1)})),0)],1)},s=[],r=(n("fb6a"),n("d81d"),n("3ca3"),n("ddb0"),n("f252")),a=n("d427"),o=n("0d66"),c=n("2efc"),l=n("85e4"),u={name:"HorseHome",components:{PvxSearch:a["a"],HorseCross:o["a"],HorseCard:c["a"]},data:function(){return{loading:!1,query:{page:1,pageSize:20,client:this.client},currentType:"",listAll:[],searchProps:[{key:"type",name:"类型",type:"radio",options:[{type:"",name:"全部"},{type:0,name:"普通坐骑"},{type:1,name:"奇趣坐骑"},{type:2,name:"马具"}]}]}},computed:{client:function(){return this.$store.state.client},latelyList:function(){var t=this.listAll,e=this.currentType;return"number"===typeof e?t.slice(e,e+1):t}},methods:{iconLink:l["iconLink"],getHorses:function(t){var e=this,n=this.query,i=Object.assign({type:t},n);return new Promise((function(t,n){Object(r["d"])(i).then((function(n){var i=n.data.list.map((function(t){return t.MagicAttributes&&t.MagicAttributes.length&&t.MagicAttributes.map((function(t){return t.iconUrl=e.iconLink(t.icon),t})),t}));t(i)})).catch((function(t){n(t)}))}))},searchEvent:function(t){this.currentType=t.type}},mounted:function(){var t=this,e=this.getHorses(0),n=this.getHorses(1),i=this.getHorses(2);this.loading=!0,Promise.all([e,n,i]).then((function(e){t.loading=!1,t.listAll=e})).catch((function(){t.loading=!1}))}},p=u,d=(n("ac1a"),n("2877")),h=Object(d["a"])(p,i,s,!1,null,null,null);e["default"]=h.exports},ac1a:function(t,e,n){"use strict";n("1b7c")}}]);
//# sourceMappingURL=chunk-1d1fa884.005ab1d8.js.map