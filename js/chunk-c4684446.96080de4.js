(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4684446"],{"0724":function(e,t,a){"use strict";a("63c8")},3428:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-pet-list"},[a("div",{staticClass:"v-pet-listGuide flex"},[a("img",{staticClass:"v-pet-bg",attrs:{src:e.getPic("image/pvx/petbg.png")}}),a("div",{staticClass:"v-pet-guideTil flex"},[a("img",{attrs:{src:e.getPic("image/pvx/pettitle.png")}})]),a("div",{staticClass:"v-pet-screen flex"},[a("div",{staticClass:"v-pet-select flex"},[a("el-radio-group",{staticClass:"u-type",model:{value:e.petTypeNum,callback:function(t){e.petTypeNum=t},expression:"petTypeNum"}},e._l(e.petType,(function(t){return a("el-radio",{key:t.type,attrs:{label:t.class}},[e._v(e._s(t.name))])})),1),a("el-select",{staticClass:"u-source",attrs:{placeholder:"获取来源"},model:{value:e.petSourceNum,callback:function(t){e.petSourceNum=t},expression:"petSourceNum"}},e._l(e.petSource,(function(e){return a("el-option",{key:e.source,attrs:{label:e.name,value:e.source}})})),1)],1),a("div",{staticClass:"v-pet-search flex"},[a("el-input",{attrs:{placeholder:"输入宠物名字搜索",clearable:""},model:{value:e.petName,callback:function(t){e.petName=t},expression:"petName"}})],1)])]),e.petList.length>0?a("div",{staticClass:"v-pet-listContent flex"},[e._l(e.petList,(function(e){return a("petLink",{key:e.index,attrs:{petObject:e}})})),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hasNextPage,expression:"hasNextPage"}],staticClass:"m-archive-more",attrs:{type:"primary",loading:e.loading,icon:"el-icon-arrow-down"},on:{click:e.appendPage}},[e._v("加载更多")]),a("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":!0,"page-size":e.per,total:e.total,"current-page":e.page},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],2):a("div",{staticClass:"v-pet-listContent flex"},[e._v("没有找到相关宠物")])])},s=[],i=(a("d3b7"),a("99af"),a("65c2")),r=a("9b7f"),c=a("60f8"),p=a("4649"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-pet-listItemB",on:{click:e.goSingle}},[a("img",{staticClass:"v-pet-petImg",attrs:{src:e.getBgPath(e.petObject.BgPath)}}),a("img",{staticClass:"v-pet-petFrame",attrs:{src:e.getFrame(e.petObject.Quality)}}),a("div",{staticClass:"v-pet-grayStar flex"},e._l(5,(function(e){return a("img",{key:e,attrs:{src:"https://icon.jx3box.com/pvx/pet/misc/newpets-81.png"}})})),0),a("div",{staticClass:"v-pet-goldStar flex"},e._l(e.petObject.Star,(function(e){return a("img",{key:e,attrs:{src:"https://icon.jx3box.com/pvx/pet/misc/newpets-18.png"}})})),0),a("div",{staticClass:"v-pet-score flex"},[e._v(" "+e._s(e.petObject.Score?e.petObject.Score:"？")+" ")]),a("span",[e._v(e._s(e.petObject.Name))])])},l=[],u=(a("ac1f"),a("466d"),{props:{petObject:{}},data:function(){return{}},methods:{getBgPath:function(e){if(e){var t=e.match(/.*\\(.*?).tga/);return"kp_WJ_运输机甲001"==t[1]&&(t[1]="kp_wj_运输机甲001"),"https://icon.jx3box.com/pvx/pet/images/"+t[1]+".png"}},getFrame:function(e){var t="";if(e){switch(e){case 2:t="/greenborder.png";break;case 3:t="/blueborder.png";break;case 4:t="/purpleborder.png";break;case 5:t="/purpleborder.png";break}return"https://icon.jx3box.com/pvx/pet/frame"+t}},goSingle:function(){this.$router.push({name:"single",params:{id:this.petObject.Index}})}}}),m=u,d=(a("0724"),a("2877")),g=Object(d["a"])(m,o,l,!1,null,null,null),f=g.exports,v={name:"PetList",props:[],components:{petLink:f},data:function(){return{loading:!1,petList:[],page:1,total:1,pages:1,per:16,appendMode:!1,petType:c,petSource:p,petTypeNum:"",petSourceNum:"",petName:""}},computed:{params:function(){return{per:this.per,page:this.page||1,Class:this.petTypeNum,Name:this.petName,Source:this.petSourceNum,client:this.client}},resetParams:function(){return[this.Name,this.petTypeNum,this.petSourceNum]},hasNextPage:function(){return this.pages>1&&this.page<this.total},client:function(){return this.$store.state.client}},watch:{resetParams:{handler:function(){this.page=1}},params:{deep:!0,immediate:!0,handler:function(){this.getPetList()}}},methods:{getPic:function(e){return i["__imgPath"]+e},appendPage:function(){this.page++},getPetList:function(){var e=this;this.loading=!0,Object(r["b"])(this.params).then((function(t){for(var a=[],n=0;n<t.data.list.length;n++)t.data.list[n].NameFrame&&a.push(t.data.list[n]);e.appendMode?e.petList=e.petList.concat(a):e.petList=a,e.total=t.data.total,e.pages=t.data.pages})).finally((function(){e.appendMode=!1,e.loading=!1}))}},filters:{},created:function(){},mounted:function(){}},h=v,b=(a("a32f"),Object(d["a"])(h,n,s,!1,null,null,null));t["default"]=b.exports},4649:function(e){e.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"466d":function(e,t,a){"use strict";var n=a("c65b"),s=a("d784"),i=a("825a"),r=a("50c4"),c=a("577e"),p=a("1d80"),o=a("dc4a"),l=a("8aa5"),u=a("14c3");s("match",(function(e,t,a){return[function(t){var a=p(this),s=void 0==t?void 0:o(t,e);return s?n(s,t,a):new RegExp(t)[e](c(a))},function(e){var n=i(this),s=c(e),p=a(t,n,s);if(p.done)return p.value;if(!n.global)return u(n,s);var o=n.unicode;n.lastIndex=0;var m,d=[],g=0;while(null!==(m=u(n,s))){var f=c(m[0]);d[g]=f,""===f&&(n.lastIndex=l(s,r(n.lastIndex),o)),g++}return 0===g?null:d}]}))},"60f8":function(e){e.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},"63c8":function(e,t,a){},"9b7f":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r}));a("99af");var n=a("41cb");function s(e){return Object(n["e"])().get("/pets",{params:e})}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return Object(n["e"])().get("/pet/".concat(e,"?client=").concat(t))}function r(e){var t=e.item_type,a=e.item_id,s=e.client,i=void 0===s?"std":s;return Object(n["e"])().get("/shop",{params:{client:i,itemType:t,itemId:a}})}},a32f:function(e,t,a){"use strict";a("f63e")},f63e:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c4684446.96080de4.js.map