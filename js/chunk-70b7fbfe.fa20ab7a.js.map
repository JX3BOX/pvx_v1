{"version":3,"sources":["webpack:///./src/components/ListCross.vue","webpack:///src/components/ListCross.vue","webpack:///./src/components/ListCross.vue?b66c","webpack:///./src/components/ListCross.vue?ffb6","webpack:///./src/components/book/common/item_icon.vue","webpack:///src/components/book/common/item_icon.vue","webpack:///./src/components/book/common/item_icon.vue?659d","webpack:///./src/components/book/common/item_icon.vue?9c18","webpack:///./src/service/book.js","webpack:///./src/components/book/result/book_item.vue?fa84","webpack:///./src/components/book/result/list_head.vue?bdbd","webpack:///./src/components/ListCross.vue?2d3f","webpack:///./src/views/book/Index.vue?047e","webpack:///./src/components/book/BookCard.vue?7c28","webpack:///./src/components/book/common/item_icon.vue?c9fc","webpack:///./src/components/book/BookCard.vue","webpack:///src/components/book/BookCard.vue","webpack:///./src/components/book/BookCard.vue?74bd","webpack:///./src/components/book/BookCard.vue?a556","webpack:///./src/views/book/Index.vue","webpack:///./src/components/book/result/book_item.vue","webpack:///src/components/book/result/book_item.vue","webpack:///./src/components/book/result/book_item.vue?4191","webpack:///./src/components/book/result/book_item.vue?9b88","webpack:///./src/components/book/result/list_head.vue","webpack:///src/components/book/result/list_head.vue","webpack:///./src/components/book/result/list_head.vue?10df","webpack:///./src/components/book/result/list_head.vue?7212","webpack:///src/views/book/Index.vue","webpack:///./src/views/book/Index.vue?ea96","webpack:///./src/views/book/Index.vue?8ea4"],"names":["render","_vm","this","_c","_self","ref","staticClass","class","concat","type","isShow","isInLeft","style","width","radius","on","$event","stopPropagation","toLeft","apply","arguments","isInRight","toRight","_e","_l","list","item","index","key","id","ID","ItemID","gap","_t","staticRenderFns","name","props","Array","required","Number","default","offset","Object","top","left","right","bottom","String","arrow","data","scrollLeft","methods","e","preventDefault","scroll","_this","length","undefined","$refs","nowLeft","scrollWidth","wrapperWidth","clientWidth","step","timer","setInterval","Math","ceil","clearInterval","floor","mounted","_this2","$nextTick","cWidth","sWidth","component","attrs","slot","background","onlyIcon","is_vertical","vertical","onlyName","size","getLink","source","iconLink","IconID","backgroundImage","item_border","opacity","Quality","item_border_quest","display_amount","_v","_s","Name","real_id","maybeBook","components","Item","item_id","amount","Boolean","get_data","get_item","client","then","res","keys","sessionStorage","setItem","cache_key","JSON","stringify","catch","_e$data","code","IsQuest","__imgPath","computed","$store","state","watch","immediate","handler","_cache","getItem","parse","console","log","$","$node","getList","params","get","getInfo","ExtendProfessionID1","idKey","domProps","Desc","professions","updateToolbar","directives","rawName","value","loading","expression","active","i","label","count","_objectSpread","itemData","handleLoad","scopedSlots","_u","fn","total","proxy","clickTabs","_ref","aggregate","listId","refInFor","typeName","showTypes","random","showType","subList","hasNextPage","appendPage","per","page","changePage","go","getProfessionType","BookName","getOrigin","ItemIcon","bookProfession","find","$router","push","tempId","DoodadTemplateID","ShopNames","drops","quests","Quests","orgin","bookMapInfo","bookMapInfoStd","bookMapInfoOrigin","_m","staticStyle","CardBannerList","CommonToolbar","BookCard","BookItem","ListHead","ListCross","keyword","color","height","pages","appendMode","_list","filter","map","_toConsumableArray","mapState","_params","profession","_this3","isPhone","readingBook","localStorage","deep","loadData","search","unshift","showCount","_this$$refs$listRef","listWidth","listRef","append","cloneDeep","loadList","_this4","omit","forEach","_this5","findIndex","_res$data","finally","recentReadList"],"mappings":"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","file":"js/chunk-70b7fbfe.fa20ab7a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"wrap\",staticClass:\"cross-wrapper\",class:`m-${_vm.type}`},[(_vm.isShow)?[_c('div',{staticClass:\"cross cross-left\",class:!_vm.isInLeft && 'active',style:({\n                width: _vm.width + 'px',\n                'border-top-left-radius': _vm.radius + 'px',\n                'border-bottom-left-radius': _vm.radius + 'px',\n            }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toLeft.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-caret-left\"})]),_c('div',{staticClass:\"cross cross-right\",class:!_vm.isInRight && 'active',style:({\n                width: _vm.width + 'px',\n                'border-top-right-radius': _vm.radius + 'px',\n                'border-bottom-right-radius': _vm.radius + 'px',\n            }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toRight.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-caret-right\"})])]:_vm._e(),_c('div',{ref:\"list\",staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:item.id || item.ID + item.ItemID || index,staticClass:\"item\",style:({ 'margin-right': _vm.gap + 'px' })},[_vm._t(\"default\",null,{\"item\":item})],2)}),0)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"wrap\" class=\"cross-wrapper\" :class=\"`m-${type}`\">\n        <template v-if=\"isShow\">\n            <div\n                class=\"cross cross-left\"\n                :class=\"!isInLeft && 'active'\"\n                :style=\"{\n                    width: width + 'px',\n                    'border-top-left-radius': radius + 'px',\n                    'border-bottom-left-radius': radius + 'px',\n                }\"\n                @click.stop=\"toLeft\"\n            >\n                <i class=\"el-icon-caret-left\"></i>\n            </div>\n            <div\n                class=\"cross cross-right\"\n                :class=\"!isInRight && 'active'\"\n                :style=\"{\n                    width: width + 'px',\n                    'border-top-right-radius': radius + 'px',\n                    'border-bottom-right-radius': radius + 'px',\n                }\"\n                @click.stop=\"toRight\"\n            >\n                <i class=\"el-icon-caret-right\"></i>\n            </div>\n        </template>\n        <div ref=\"list\" class=\"list\">\n            <div\n                class=\"item\"\n                :style=\"{ 'margin-right': gap + 'px' }\"\n                v-for=\"(item, index) in list\"\n                :key=\"item.id || item.ID + item.ItemID || index\"\n            >\n                <slot v-bind:item=\"item\"></slot>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Cross\",\n    props: {\n        list: {\n            type: Array,\n            required: true,\n        },\n        width: {\n            type: Number,\n            default: 60,\n        },\n        gap: {\n            type: Number,\n            default: 20,\n        },\n        radius: {\n            type: Number,\n            default: 10,\n        },\n        offset: {\n            type: Object,\n            default: () => {\n                return {\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                };\n            },\n        },\n        type: {\n            // pvx menus 分类\n            type: String,\n            default: \"rare\",\n        },\n        arrow: {\n            // 每次滚动的系数 默认为1 wrapper宽度的一半\n            type: Number,\n            default: 1,\n        },\n    },\n    data() {\n        return {\n            scrollLeft: 0,\n            isInLeft: true,\n            isInRight: false,\n            isShow: false,\n        };\n    },\n    methods: {\n        toLeft(e) {\n            e.preventDefault();\n            this.isInRight = false;\n            this.scroll(-this.arrow);\n        },\n        toRight(e) {\n            e.preventDefault();\n            this.isInLeft = false;\n            this.scroll(this.arrow);\n        },\n        scroll(arrow = 1) {\n            const list = this.$refs.list;\n            const nowLeft = list.scrollLeft;\n            const width = list.scrollWidth;\n            const wrapperWidth = list.clientWidth;\n            const step = (wrapperWidth / 2) * arrow;\n            let timer = null;\n            timer = setInterval(() => {\n                if (arrow === this.arrow) {\n                    // 向右\n                    if (list.scrollLeft < nowLeft + step) {\n                        list.scrollLeft += Math.ceil(step / 100);\n                    } else {\n                        clearInterval(timer);\n                    }\n                    if (Math.ceil(list.scrollLeft + wrapperWidth) >= width) {\n                        this.isInRight = true;\n                        clearInterval(timer);\n                    }\n                } else if (arrow === -this.arrow) {\n                    // 向左\n                    if (list.scrollLeft > nowLeft + step) {\n                        list.scrollLeft += Math.floor(step / 100);\n                    } else {\n                        clearInterval(timer);\n                    }\n                    if (list.scrollLeft <= 0) {\n                        this.isInLeft = true;\n                        clearInterval(timer);\n                    }\n                }\n            }, 1);\n        },\n    },\n    mounted() {\n        this.$nextTick(() => {\n            const list = this.$refs.list;\n            const cWidth = list.clientWidth;\n            const sWidth = list.scrollWidth;\n            if (sWidth > cWidth) {\n                this.isShow = true;\n            }\n        });\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/cross.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./ListCross.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./ListCross.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListCross.vue?vue&type=template&id=4b035110\"\nimport script from \"./ListCross.vue?vue&type=script&lang=js\"\nexport * from \"./ListCross.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListCross.vue?vue&type=style&index=0&id=4b035110&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-popover',{staticClass:\"u-item\",attrs:{\"placement\":\"right-start\",\"trigger\":\"hover\",\"visible-arrow\":false,\"popper-class\":\"u-item__popup\"}},[_c('template',{slot:\"reference\"},[_c('div',{staticClass:\"u-item__warpper\",class:{ background: !_vm.onlyIcon, is_vertical: _vm.vertical }},[(!_vm.onlyName)?_c('a',{staticClass:\"u-item-icon\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('item', _vm.source.id)}},[_c('img',{staticClass:\"u-item-icon__img\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"src\":_vm.iconLink(_vm.source.IconID)}}),_c('div',{staticClass:\"u-item-icon__quality\",style:({ backgroundImage: _vm.item_border(_vm.source), opacity: _vm.source.Quality == 5 ? 0.9 : 1 })}),_c('div',{staticClass:\"u-item-icon__quest\",style:({ backgroundImage: _vm.item_border_quest(_vm.source) })}),(_vm.display_amount !== 1)?_c('span',{staticClass:\"u-item-icon__count\"},[_vm._v(_vm._s(_vm.display_amount))]):_vm._e()]):_vm._e(),(!_vm.onlyIcon)?_c('div',{staticClass:\"u-item-name\",class:`e-jx3-item__q${_vm.source.Quality}`},[_vm._v(\" \"+_vm._s(_vm.source.Name)+\" \")]):_vm._e()])]),_c('jx3-item',{attrs:{\"item\":_vm.source}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: X3ZvaWQ\n * @Date: 2022-07-11 00:14:57\n * @LastEditors: X3ZvaWQ\n * @LastEditTime: 2022-08-23 20:11:18\n * @Description: 各个地方都有用到的，后端没有联物品表，只提供了物品id，通过该组件展示物品\n-->\n<template>\n    <el-popover\n        class=\"u-item\"\n        placement=\"right-start\"\n        trigger=\"hover\"\n        :visible-arrow=\"false\"\n        popper-class=\"u-item__popup\"\n    >\n        <template slot=\"reference\">\n            <div class=\"u-item__warpper\" :class=\"{ background: !onlyIcon, is_vertical: vertical }\">\n                <a\n                    class=\"u-item-icon\"\n                    target=\"_blank\"\n                    :style=\"`height:${size}px; width:${size}px`\"\n                    :href=\"getLink('item', source.id)\"\n                    v-if=\"!onlyName\"\n                >\n                    <img\n                        class=\"u-item-icon__img\"\n                        :style=\"`height:${size}px; width:${size}px`\"\n                        :src=\"iconLink(source.IconID)\"\n                    />\n                    <div\n                        class=\"u-item-icon__quality\"\n                        :style=\"{ backgroundImage: item_border(source), opacity: source.Quality == 5 ? 0.9 : 1 }\"\n                    ></div>\n                    <div class=\"u-item-icon__quest\" :style=\"{ backgroundImage: item_border_quest(source) }\"></div>\n                    <span class=\"u-item-icon__count\" v-if=\"display_amount !== 1\">{{ display_amount }}</span>\n                </a>\n                <div v-if=\"!onlyIcon\" class=\"u-item-name\" :class=\"`e-jx3-item__q${source.Quality}`\">\n                    {{ source.Name }}\n                </div>\n            </div>\n        </template>\n        <jx3-item :item=\"source\" />\n    </el-popover>\n</template>\n\n<script>\nimport Item from \"@jx3box/jx3box-editor/src/Item\";\nimport { get_item } from \"@jx3box/jx3box-editor/service/item\";\nimport { iconLink, getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nexport default {\n    name: \"ItemIcon\",\n    data() {\n        return {\n            source: {},\n            real_id: null,\n            maybeBook: false,\n        };\n    },\n    components: {\n        \"jx3-item\": Item,\n    },\n    props: {\n        size: {\n            type: Number,\n            default: 28,\n        },\n        item_id: {\n            type: String,\n            default: null,\n        },\n        amount: {\n            type: Number,\n            default: 1,\n        },\n        onlyName: {\n            type: Boolean,\n            default: false,\n        },\n        onlyIcon: {\n            type: Boolean,\n            default: false,\n        },\n        vertical: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    methods: {\n        get_data(item_id) {\n            if (item_id) {\n                get_item(item_id, this.client)\n                    .then((res) => {\n                        let item = res.data;\n                        if (Object.keys(item).length) {\n                            this.source = item;\n                            sessionStorage.setItem(this.cache_key, JSON.stringify(item));\n                        }\n                    })\n                    .catch((e) => {\n                        //书籍类物品id为 type_id_recipe， 其中recipe记录在物品的count里面\n                        if (e?.data?.code == 400) {\n                            if (this.maybeBook === false) {\n                                this.maybeBook = true;\n                                this.real_id = `${this.item_id}_${this.amount}`;\n                            }\n                        }\n                    });\n            }\n        },\n        iconLink,\n        getLink,\n        item_border_quest(item) {\n            if (item.IsQuest > 0) return `url(${__imgPath}image/item/renwu.png)`;\n            return \"\";\n        },\n        item_border(item) {\n            switch (item.Quality) {\n                case 3:\n                    return `url(${__imgPath}image/item/blue.png)`;\n                case 4:\n                    return `url(${__imgPath}image/item/purple.png)`;\n                case 5:\n                    return `url(${__imgPath}image/item/orange.gif)`;\n                default:\n                    return \"\";\n            }\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        cache_key() {\n            return `item-${this.client}-${this.real_id}`;\n        },\n        display_amount() {\n            if (this.maybeBook === false) {\n                return this.amount;\n            } else {\n                return 1;\n            }\n        },\n    },\n    watch: {\n        real_id: {\n            immediate: true,\n            handler() {\n                let _cache = sessionStorage.getItem(this.cache_key);\n                if (_cache) {\n                    try {\n                        this.source = JSON.parse(_cache);\n                    } catch (e) {\n                        console.log(e, \"[Item]无法解析本地缓存\");\n                        this.get_data(this.real_id);\n                    }\n                } else {\n                    this.get_data(this.real_id);\n                }\n            },\n        },\n        item_id: {\n            immediate: true,\n            handler() {\n                this.real_id = this.item_id;\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/common/item_icon.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./item_icon.vue?vue&type=template&id=67fe4ca9\"\nimport script from \"./item_icon.vue?vue&type=script&lang=js\"\nexport * from \"./item_icon.vue?vue&type=script&lang=js\"\nimport style0 from \"./item_icon.vue?vue&type=style&index=0&id=67fe4ca9&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $node } from \"@jx3box/jx3box-common/js/https\";\nconst $ = $node()\n\nexport function getList (params) {\n  return $.get(`/books`, { params });\n}\n\nexport function getInfo (params) {\n  return $.get(`/book`, { params });\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./book_item.vue?vue&type=style&index=0&id=1eeb7326&prod&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_head.vue?vue&type=style&index=0&id=4ca35dd0&prod&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./ListCross.vue?vue&type=style&index=0&id=4b035110&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=style&index=0&id=642fa060&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./BookCard.vue?vue&type=style&index=0&id=4370ebea&prod&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=style&index=0&id=67fe4ca9&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-book-card\"},[_c('a',{staticClass:\"u-book-info\",class:`u-profession-bg--` + _vm.item.ExtendProfessionID1,attrs:{\"href\":_vm.getLink(_vm.item.idKey),\"target\":\"_blank\"}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.item.Name))])]),_c('div',{staticClass:\"u-desc-info\"},[_c('div',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(_vm.item.Desc)}}),_c('div',{staticClass:\"desc-title\",domProps:{\"innerHTML\":_vm._s(_vm.item.Name)}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-book-card\">\n        <a\n            class=\"u-book-info\"\n            :class=\"`u-profession-bg--` + item.ExtendProfessionID1\"\n            :href=\"getLink(item.idKey)\"\n            target=\"_blank\"\n        >\n            <div class=\"title\">{{ item.Name }}</div>\n        </a>\n        <div class=\"u-desc-info\">\n            <div class=\"desc\" v-html=\"item.Desc\"></div>\n            <div class=\"desc-title\" v-html=\"item.Name\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        item: {\n            type: Object,\n            required: true,\n        },\n    },\n    data: function () {\n        return {};\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n    },\n    methods: {\n        getLink(id) {\n            return `/book/${id}`;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/card.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./BookCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./BookCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BookCard.vue?vue&type=template&id=4370ebea\"\nimport script from \"./BookCard.vue?vue&type=script&lang=js\"\nexport * from \"./BookCard.vue?vue&type=script&lang=js\"\nimport style0 from \"./BookCard.vue?vue&type=style&index=0&id=4370ebea&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"p-book\"},[_c('CommonToolbar',{staticClass:\"m-reputation-tabs\",attrs:{\"color\":\"#d16400\",\"search\":\"\",\"types\":_vm.professions},on:{\"update\":_vm.updateToolbar}}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"listRef\",staticClass:\"m-content\"},[(_vm.active === 0)?_vm._l((_vm.list),function(item,i){return _c('div',{key:item.label + i,staticClass:\"m-book-list\"},[(item.list.length)?[(item.id !== 8)?_c('CardBannerList',{attrs:{\"count\":_vm.count,\"minw\":190,\"data\":{ ..._vm.itemData, type: item.id },\"items\":item.list},on:{\"update:load\":_vm.handleLoad},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',[_vm._v(\" 【\"+_vm._s(item.label)+\"】 \"),_c('span',{staticClass:\"u-tips\"},[_vm._v(\" 共\"),_c('b',[_vm._v(_vm._s(item.total)+\" \")]),_vm._v(\"本\"+_vm._s(item.label)+\" \")])])]},proxy:true},{key:\"action\",fn:function(){return [(item.id !== 8)?_c('div',{on:{\"click\":function($event){return _vm.clickTabs(item.id)}}},[_vm._v(\"查看全部\")]):_vm._e()]},proxy:true},{key:\"default\",fn:function({ item }){return [_c('BookCard',{attrs:{\"item\":item,\"reporter\":{ aggregate: _vm.listId(_vm.list) }},on:{\"click\":function($event){return _vm.setItem(item)}}})]}}],null,true)}):_c('list-cross',{key:\"recentRead\",ref:\"recentRead\",refInFor:true,attrs:{\"list\":item.list,\"radius\":10,\"gap\":20},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_c('BookCard',{attrs:{\"item\":data.item}})]}}],null,true)})]:_vm._e()],2)}):_c('div',{staticClass:\"m-book-all\"},[_c('div',{staticClass:\"m-book-list\"},[_c('div',{staticClass:\"u-type u-all-type\"},[_c('div',{staticClass:\"u-title\"},[_vm._v(_vm._s(_vm.typeName))]),(_vm.active !== 0)?_c('div',{staticClass:\"m-operate\"},_vm._l((_vm.showTypes),function(item){return _c('div',{key:item.value + Math.random(),staticClass:\"m-item\",class:_vm.showType === item.value && 'active',on:{\"click\":function($event){_vm.showType = item.value}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),0):_vm._e()]),(_vm.subList.length)?[(_vm.showType === 'card')?_c('div',{staticClass:\"m-book-list--card\"},_vm._l((_vm.subList),function(item){return _c('BookCard',{key:item.ID + Math.random(),attrs:{\"item\":item,\"reporter\":{ aggregate: _vm.listId(_vm.subList) }}})}),1):_vm._e(),(_vm.showType === 'list')?_c('div',{staticClass:\"m-book-list--list\"},[_c('ListHead'),_vm._l((_vm.subList),function(item){return _c('BookItem',{key:item.ID + Math.random(),attrs:{\"item\":item,\"reporter\":{ aggregate: _vm.listId(_vm.subList) }}})})],2):_vm._e()]:_vm._e(),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasNextPage),expression:\"hasNextPage\"}],staticClass:\"m-archive-more\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"loading\":_vm.loading,\"icon\":\"el-icon-arrow-down\"},on:{\"click\":_vm.appendPage}},[_vm._v(\"加载更多\")]),_c('el-pagination',{staticClass:\"m-archive-pages\",attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"hide-on-single-page\":true,\"page-size\":_vm.per,\"total\":_vm.total,\"current-page\":_vm.page},on:{\"current-change\":_vm.changePage}})],2)])],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-book-card\",on:{\"click\":function($event){return _vm.go(_vm.item.idKey)}}},[_c('div',{staticClass:\"u-name\"},[_c('item-icon',{attrs:{\"item_id\":String(_vm.item.ItemID),\"size\":36,\"vertical\":true}})],1),_c('div',{staticClass:\"u-name\"},[_vm._v(\" \"+_vm._s(this.getProfessionType(_vm.item.ExtendProfessionID1))+\" \")]),_c('div',{staticClass:\"u-name\"},[_c('span',[_vm._v(_vm._s(_vm.item.BookName))])]),_c('div',{staticClass:\"u-name\"},[_c('span',[_vm._v(_vm._s(_vm.item.Desc))])]),_c('div',{staticClass:\"u-path\",class:_vm.getOrigin(_vm.item) !== '其它' && 'special'},[_c('span',[_vm._v(_vm._s(_vm.getOrigin(_vm.item)))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-book-card\" @click=\"go(item.idKey)\">\n        <div class=\"u-name\">\n            <item-icon :item_id=\"String(item.ItemID)\" :size=\"36\" :vertical=\"true\"></item-icon>\n        </div>\n        <div class=\"u-name\">\n            {{ this.getProfessionType(item.ExtendProfessionID1) }}\n        </div>\n        <div class=\"u-name\">\n            <span>{{ item.BookName }}</span>\n        </div>\n        <div class=\"u-name\">\n            <span>{{ item.Desc }}</span>\n        </div>\n        <div class=\"u-path\" :class=\"getOrigin(item) !== '其它' && 'special'\">\n            <span>{{ getOrigin(item) }}</span>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ItemIcon from \"../common/item_icon.vue\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport bookProfession from \"@/assets/data/book_profession.json\";\nimport bookMapInfoStd from \"@/assets/data/stele_std_fwd.json\";\nimport bookMapInfoOrigin from \"@/assets/data/stele_origin_fwd.json\";\n\nexport default {\n    name: \"BookCard\",\n    components: {\n        ItemIcon,\n    },\n    props: {\n        item: {\n            type: Object,\n            required: true,\n        },\n    },\n    methods: {\n        getProfessionType(type) {\n            return bookProfession.find((item) => item.id === Number(type))\n                ? bookProfession.find((item) => item.id === Number(type)).name\n                : \"\";\n        },\n        go(id) {\n            this.$router.push(`/${id}`);\n        },\n        getOrigin(item) {\n            const tempId = item.DoodadTemplateID;\n            const ShopNames = item.ShopNames;\n            const drops = item.drops || [];\n            const quests = item?.Quests;\n            let orgin = \"\";\n            if (tempId) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + (this.bookMapInfo[tempId] ? \"碑铭\" : \"其它\");\n            }\n            if (ShopNames) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"商店\";\n            }\n            if (drops.length) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"秘境\";\n            }\n            if (quests) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"任务\";\n            }\n            if (!orgin) {\n                orgin = \"其它\";\n            }\n            return orgin;\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        bookMapInfo() {\n            return this.client === \"std\" ? bookMapInfoStd : bookMapInfoOrigin;\n        },\n    },\n};\n</script>\n<style lang=\"less\" scoped>\n@import \"~@/assets/css/book/result/item_card.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./book_item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./book_item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./book_item.vue?vue&type=template&id=1eeb7326&scoped=true\"\nimport script from \"./book_item.vue?vue&type=script&lang=js\"\nexport * from \"./book_item.vue?vue&type=script&lang=js\"\nimport style0 from \"./book_item.vue?vue&type=style&index=0&id=1eeb7326&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1eeb7326\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _vm._m(0)\n}\nvar staticRenderFns = [function (_c,_vm){return _c('div',{staticClass:\"m-list-head list-sticky-head\"},[_c('div',[_vm._v(\"名称\")]),_c('div',[_vm._v(\"类型\")]),_c('div',[_vm._v(\"套书\")]),_c('div',[_vm._v(\"描述\")]),_c('div',{staticStyle:{\"color\":\"#6f42c1\"}},[_vm._v(\"来源\")])])\n}]\n\nexport { render, staticRenderFns }","<template functional>\n    <div class=\"m-list-head list-sticky-head\">\n        <div>名称</div>\n        <div>类型</div>\n        <div>套书</div>\n        <div>描述</div>\n        <div style=\"color: #6f42c1\">来源</div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"ListHead\",\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import \"~@/assets/css/book/result/list_head.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_head.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_head.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./list_head.vue?vue&type=template&id=4ca35dd0&scoped=true&functional=true\"\nimport script from \"./list_head.vue?vue&type=script&lang=js\"\nexport * from \"./list_head.vue?vue&type=script&lang=js\"\nimport style0 from \"./list_head.vue?vue&type=style&index=0&id=4ca35dd0&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"4ca35dd0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"p-book\">\n        <CommonToolbar class=\"m-reputation-tabs\" color=\"#d16400\" search :types=\"professions\" @update=\"updateToolbar\" />\n        <div class=\"m-content\" ref=\"listRef\" v-loading=\"loading\">\n            <template v-if=\"active === 0\">\n                <div v-for=\"(item, i) in list\" :key=\"item.label + i\" class=\"m-book-list\">\n                    <template v-if=\"item.list.length\">\n                        <CardBannerList\n                            v-if=\"item.id !== 8\"\n                            :count=\"count\"\n                            :minw=\"190\"\n                            :data=\"{ ...itemData, type: item.id }\"\n                            @update:load=\"handleLoad\"\n                            :items=\"item.list\"\n                        >\n                            <template v-slot:title>\n                                <div>\n                                    【{{ item.label }}】\n                                    <span class=\"u-tips\">\n                                        共<b>{{ item.total }} </b>本{{ item.label }}\n                                    </span>\n                                </div>\n                            </template>\n                            <template v-slot:action>\n                                <div @click=\"clickTabs(item.id)\" v-if=\"item.id !== 8\">查看全部</div>\n                            </template>\n                            <template v-slot=\"{ item }\">\n                                <BookCard :item=\"item\" :reporter=\"{ aggregate: listId(list) }\" @click=\"setItem(item)\" />\n                            </template>\n                        </CardBannerList>\n                        <list-cross v-else key=\"recentRead\" ref=\"recentRead\" :list=\"item.list\" :radius=\"10\" :gap=\"20\">\n                            <template v-slot=\"data\">\n                                <BookCard :item=\"data.item\"></BookCard>\n                            </template>\n                        </list-cross>\n                    </template>\n                </div>\n            </template>\n            <div v-else class=\"m-book-all\">\n                <div class=\"m-book-list\">\n                    <div class=\"u-type u-all-type\">\n                        <div class=\"u-title\">{{ typeName }}</div>\n                        <div v-if=\"active !== 0\" class=\"m-operate\">\n                            <div\n                                class=\"m-item\"\n                                :class=\"showType === item.value && 'active'\"\n                                :key=\"item.value + Math.random()\"\n                                v-for=\"item in showTypes\"\n                                @click=\"showType = item.value\"\n                            >\n                                {{ item.label }}\n                            </div>\n                        </div>\n                    </div>\n                    <template v-if=\"subList.length\">\n                        <div class=\"m-book-list--card\" v-if=\"showType === 'card'\">\n                            <BookCard\n                                v-for=\"item in subList\"\n                                :key=\"item.ID + Math.random()\"\n                                :item=\"item\"\n                                :reporter=\"{ aggregate: listId(subList) }\"\n                            />\n                        </div>\n                        <div class=\"m-book-list--list\" v-if=\"showType === 'list'\">\n                            <ListHead></ListHead>\n                            <BookItem\n                                v-for=\"item in subList\"\n                                :key=\"item.ID + Math.random()\"\n                                :item=\"item\"\n                                :reporter=\"{ aggregate: listId(subList) }\"\n                            />\n                        </div>\n                    </template>\n                    <el-button\n                        class=\"m-archive-more\"\n                        v-show=\"hasNextPage\"\n                        type=\"primary\"\n                        plain\n                        @click=\"appendPage\"\n                        :loading=\"loading\"\n                        icon=\"el-icon-arrow-down\"\n                        >加载更多</el-button\n                    >\n                    <el-pagination\n                        class=\"m-archive-pages\"\n                        background\n                        layout=\"total, prev, pager, next, jumper\"\n                        :hide-on-single-page=\"true\"\n                        :page-size=\"per\"\n                        :total=\"total\"\n                        :current-page=\"page\"\n                        @current-change=\"changePage\"\n                    ></el-pagination>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ListCross from \"@/components/ListCross.vue\";\nimport CardBannerList from \"@/components/common/card_banner_list.vue\";\nimport CommonToolbar from \"@/components/common/toolbar.vue\";\nimport professions from \"@/assets/data/book_profession.json\";\nimport { isPhone } from \"@/utils/index\";\nimport { omit, cloneDeep, concat } from \"lodash\";\nimport BookItem from \"@/components/book/result/book_item.vue\";\nimport BookCard from \"@/components/book/BookCard.vue\";\nimport ListHead from \"@/components/book/result/list_head.vue\";\nimport { mapState } from \"vuex\";\nimport { getList } from \"@/service/book\";\n\nexport default {\n    name: \"Index\",\n    components: { CardBannerList, CommonToolbar, BookCard, BookItem, ListHead, ListCross },\n    data() {\n        return {\n            loading: false,\n            keyword: \"\",\n            active: 0,\n            data: [],\n            itemData: {\n                color: \"#324148\",\n                width: \"250\",\n                height: \"380\",\n            },\n            list: [\n                {\n                    id: 8,\n                    label: \"最近阅读\",\n                    page: 1,\n                    pages: 1,\n                    total: 0,\n                    list: [],\n                },\n                {\n                    id: 11,\n                    label: \"杂集\",\n                    page: 1,\n                    pages: 1,\n                    total: 0,\n                    list: [],\n                },\n                {\n                    id: 10,\n                    label: \"道学\",\n                    page: 1,\n                    pages: 1,\n                    total: 0,\n                    list: [],\n                },\n                {\n                    id: 9,\n                    label: \"佛学\",\n                    page: 1,\n                    pages: 1,\n                    total: 0,\n                    list: [],\n                },\n            ],\n\n            page: 1, //当前页数\n            total: 0, //总条目数\n            per: 0, //每页条目\n            count: 0, // 自动判断最多显示几个\n\n            showTypes: [\n                {\n                    value: \"list\",\n                    label: \"列表\",\n                },\n                {\n                    value: \"card\",\n                    label: \"卡片\",\n                },\n            ],\n            showType: \"card\",\n\n            appendMode: false,\n        };\n    },\n    computed: {\n        professions() {\n            const _list = professions\n                .filter((item) => item.id !== 8)\n                .map((item) => {\n                    item.label = item.name;\n                    item.value = item.id;\n                    return item;\n                });\n            return [{ id: 0, value: -1, name: \"全部\", label: \"全部\" }, ..._list];\n        },\n        ...mapState([\"recentReadList\"]),\n        client() {\n            return this.$store.state.client;\n        },\n        params() {\n            const _params = { client: this.client };\n            if (this.keyword) _params.keyword = this.keyword;\n            if (this.active) _params.profession = this.active;\n            return _params;\n        },\n        typeName() {\n            return this.list.filter((e) => e.id == this.active)[0].label;\n        },\n        hasNextPage: function () {\n            const pages = this.list.filter((e) => e.id == this.active)[0].pages;\n            return pages > 1 && this.page < pages;\n        },\n        subList() {\n            if (this.active === 0) return null;\n            return this.list.filter((e) => e.id == this.active)[0].list;\n        },\n        isPhone() {\n            return isPhone();\n        },\n        readingBook() {\n            return localStorage.getItem(\"book_readings\") || \"[]\";\n        },\n    },\n    watch: {\n        params: {\n            deep: true,\n            handler() {\n                this.loadData();\n            },\n        },\n        active: {\n            immediate: true,\n            handler: function () {\n                this.page = 1;\n            },\n        },\n    },\n    methods: {\n        updateToolbar(data) {\n            const { type, search } = data;\n            this.keyword = search;\n            this.clickTabs(type);\n        },\n        clickTabs(id) {\n            this.active = id == -1 ? 0 : id;\n            this.list = this.list.map((e) => {\n                e.page = 1;\n                return e;\n            });\n            this.page = 1;\n        },\n        listId(list) {\n            if (!list?.length) return [];\n            return list.map((e) => e.ID);\n        },\n        changePage(i) {\n            this.page = i;\n            this.loadData();\n        },\n        setItem(item) {\n            const list = localStorage.getItem(\"book_readings\") || \"[]\";\n            const _list = [item, ...JSON.parse(list)];\n            this.list[0].list.unshift(item);\n            localStorage.setItem(\"book_readings\", JSON.stringify(_list));\n        },\n        // 按宽度显示个数\n        showCount() {\n            if (this.isPhone) {\n                this.per = 8;\n                this.count = 8;\n                return;\n            }\n            const listWidth = this.$refs.listRef?.clientWidth - 120;\n            this.count = Math.floor(listWidth / this.itemData.width);\n            this.per = this.count;\n        },\n        appendPage() {\n            this.appendMode = true;\n            this.handleLoad(this.active, true);\n        },\n        handleLoad(type, append) {\n            const page = this.list.filter((e) => e.id == type)[0].page;\n            let params = cloneDeep(this.params);\n            params.page = page + 1;\n            params.per = append ? this.count * 3 : this.per;\n            params.profession = type;\n            this.loadList(params, type);\n        },\n        loadData() {\n            this.loading = true;\n            let params = omit(this.params, [\"profession\"]);\n            if (this.active === 0) {\n                const list = this.list.filter((e) => e.id !== 8);\n                list.forEach((e) => {\n                    params.page = e.page;\n                    params.profession = e.id;\n                    params.per = this.per;\n                    this.loadList(params, e.id);\n                });\n            } else {\n                params.page = this.page;\n                params.per = this.count * 3;\n                this.loadList({ ...params, profession: this.active }, this.active);\n            }\n        },\n        // 加载type对应的数据\n        loadList(params, key) {\n            const index = this.list.findIndex((e) => e.id == key);\n            if (this.list[index].pages < params.page && this.active === 0) params.page = 1;\n            getList(params)\n                .then((res) => {\n                    const { list, total, pages, page, per } = res.data;\n                    const _list = this.appendMode ? concat(this.list[index].list, list) : list;\n                    this.list[index].list = _list || [];\n                    this.list[index].page = page || 1;\n                    this.list[index].pages = pages || 1;\n                    this.list[index].total = total || 0;\n                    if (this.active !== 0) this.page = page || 1;\n                    this.total = total;\n                    this.per = per;\n                })\n                .finally(() => {\n                    this.loading = false;\n                    this.appendMode = false;\n                });\n        },\n    },\n    mounted: function () {\n        this.showCount();\n        if (this.recentReadList.length) {\n            this.list[0].list = this.recentReadList;\n            this.list[0].total = this.recentReadList.length;\n        }\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/common/tabs.less\";\n@import \"~@/assets/css/book/home.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=642fa060\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=642fa060&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}