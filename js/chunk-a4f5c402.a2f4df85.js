(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4f5c402"],{"2d1b":function(e,t,n){"use strict";n("ef77")},4568:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-adventure-List"},[n("div",{staticClass:"m-adventure-header"},[n("div",{staticClass:"u-title"}),n("AdventureSearch",{on:{onSearch:e.onSearch}})],1),e.list&&e.list.length>0?n("div",{staticClass:"m-adventure-list"},e._l(e.list,(function(e,t){return n("AdventureItem",{key:t,attrs:{item:e}})})),1):n("div",{staticClass:"u-archive-alert"},[n("el-alert",{attrs:{title:"没有对应的奇遇，请重新查找",type:"info",center:"","show-icon":""}})],1),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hasNextPage,expression:"hasNextPage"}],staticClass:"m-archive-more",attrs:{type:"primary",icon:"el-icon-arrow-down"},on:{click:e.appendPage}},[e._v("加载更多")]),n("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":!0,"page-size":e.per,total:e.total,"current-page":e.page},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"current-change":e.changePage}})],1)},i=[],r=n("55304"),s=(n("d3b7"),n("159b"),n("ac1f"),n("841c"),n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-adventure-search"},[n("div",{staticClass:"m-adventure-mark"},e._l(e.marks,(function(t,a){return n("span",{key:a,staticClass:"u-mark",on:{click:function(t){return e.changeMark(a)}}},[n("b",{class:a==e.index?"active":""}),n("span",[e._v(e._s(t.name))])])})),0),n("div",{staticClass:"u-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"请输入奇遇或宠物名字搜索"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})])])}),c=[],o={name:"search",props:[],components:{},data:function(){return{search:"",marks:[{name:"全部奇遇",type:"all",id:""},{name:"绝世奇遇",type:"bPerfect",id:1},{name:"普通奇遇",type:"nClassify",id:2},{name:"宠物奇遇",type:"nClassify",id:1}],index:0}},computed:{},methods:{changeMark:function(e){this.index=e,this.jointParams()},jointParams:function(){var e={},t=this.marks[this.index];t.id&&(e[t.type]=t.id),this.search&&(e.name=this.search),this.$emit("onSearch",e)}},watch:{search:function(){this.jointParams()}}},u=o,l=n("2877"),d=Object(l["a"])(u,s,c,!1,null,null,null),p=d.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"m-adventure-item",attrs:{to:"/"+e.item.dwID}},[n("img",{staticClass:"u-default",attrs:{src:e.defaultImg}}),n("img",{staticClass:"u-title",style:e.titleStyle,attrs:{src:e.titleImg}}),n("span",{staticClass:"u-img",style:e.imgStyle(e.imgName)}),n("span",{staticClass:"u-icon"})])},f=[],h=(n("5319"),n("5b81"),n("1276"),n("65c2")),m=(n("85e4"),{name:"item",props:["item"],components:{},data:function(){return{imgRoot:h["__iconPath"]+"pvx/serendipity/images/"}},computed:{link:function(){return"/adventure/"+this.item.dwID},imgName:function(){var e,t=null===(e=this.item.szOpenRewardPath)||void 0===e?void 0:e.replaceAll("\\","/");if(-1==(null===t||void 0===t?void 0:t.indexOf("tga")))return t;var n=/(.*)\/(.*)\.tga/gi,a=n.exec(t),i=null===a||void 0===a?void 0:a[1].split("reward");return(null===i||void 0===i?void 0:i[1])+"/"+(null===a||void 0===a?void 0:a[2])},defaultImg:function(){return h["__imgPath"]+"image/pvx/bg.png"},titleImg:function(){return h["__iconPath"]+"pvx/serendipity/image_ui/luckymeeting7_"+this.item.nOpenFrame+".png"},titleStyle:function(){return{}}},methods:{imgUrl:function(e){return this.imgRoot+"reward/"+e+".png"},getLink:function(e){this.$router.push({name:"single",params:{id:e}})},imgStyle:function(e){return{backgroundImage:"url("+this.imgUrl(e)+")"}}},filters:{},mounted:function(){}}),v=m,b=Object(l["a"])(v,g,f,!1,null,null,null),O=b.exports,w=n("bed2"),y={name:"adventureList",props:[],components:{AdventureSearch:p,AdventureItem:O},data:function(){return{loading:!1,list:[],page:1,total:1,pages:1,per:16,appendMode:!1,school:"2",search:{}}},computed:{hasNextPage:function(){return this.pages>1&&this.page<this.pages},params:function(){return{per:this.per,page:this.page||1}},newList:function(){var e=this,t=[];return this.list.forEach((function(n){t.push(e.toSpecial(n))})),t}},watch:{},methods:{getData:function(){var e=this;this.loading=!0;var t=Object(r["a"])(Object(r["a"])({},this.params),this.search);Object(w["c"])(t).then((function(t){var n=[];t.data.list.forEach((function(t){n.push(e.toSpecial(t))})),e.appendMode?e.list=e.list.concat(n):e.list=n,e.appendMode=!1,e.total=t.data.total,e.pages=t.data.pages})).finally((function(){e.loading=!1}))},toSpecial:function(e){if(e.szOpenRewardPath){var t,n,a,i,r=e.szOpenRewardPath;-1!==(null===(t=r)||void 0===t?void 0:t.indexOf("weapon"))&&(r="ui/Image/Adventure/reward/Open/weapon/school_"+this.school+"_Open.tga"),-1!==(null===(n=r)||void 0===n?void 0:n.indexOf("camp"))&&(r=e.bHide?"ui/Image/Adventure/reward/Open/camp/camp_2_Open.tga":"ui/Image/Adventure/reward/Open/camp/camp_0_Open.tga"),-1!==(null===(a=r)||void 0===a?void 0:a.indexOf("zzwg"))&&(r="ui/Image/Adventure/reward/Open/zzwg/school_"+this.school+"_Open.tga"),-1!==(null===(i=r)||void 0===i?void 0:i.indexOf("jcs"))&&(r="ui/Image/Adventure/reward/Open/jcs/school_"+this.school+"_Open.tga"),e.szOpenRewardPath=r}return e},changePage:function(e){this.page=e,this.getData()},appendPage:function(){this.page=this.page+1,this.appendMode=!0,this.getData()},onSearch:function(e){this.page=1,this.search=e,this.getData()}},created:function(){this.getData()},mounted:function(){}},P=y,j=(n("2d1b"),Object(l["a"])(P,a,i,!1,null,null,null));t["default"]=j.exports},55304:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"5b81":function(e,t,n){"use strict";var a=n("23e7"),i=n("da84"),r=n("c65b"),s=n("e330"),c=n("1d80"),o=n("1626"),u=n("44e7"),l=n("577e"),d=n("dc4a"),p=n("ad6d"),g=n("0cb2"),f=n("b622"),h=n("c430"),m=f("replace"),v=RegExp.prototype,b=i.TypeError,O=s(p),w=s("".indexOf),y=s("".replace),P=s("".slice),j=Math.max,_=function(e,t,n){return n>e.length?-1:""===t?n:w(e,t,n)};a({target:"String",proto:!0},{replaceAll:function(e,t){var n,a,i,s,p,f,x,k,C,S=c(this),I=0,D=0,A="";if(null!=e){if(n=u(e),n&&(a=l(c("flags"in v?e.flags:O(e))),!~w(a,"g")))throw b("`.replaceAll` does not allow non-global regexes");if(i=d(e,m),i)return r(i,e,S,t);if(h&&n)return y(l(S),e,t)}s=l(S),p=l(e),f=o(t),f||(t=l(t)),x=p.length,k=j(1,x),I=_(s,p,0);while(-1!==I)C=f?l(t(p,I,s)):g(p,s,I,[],void 0,t),A+=P(s,D,I)+C,D=I+x,I=_(s,p,I+k);return D<s.length&&(A+=P(s,D)),A}})},b64b:function(e,t,n){var a=n("23e7"),i=n("7b0b"),r=n("df75"),s=n("d039"),c=s((function(){r(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(e){return r(i(e))}})},bed2:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));var a=n("41cb"),i=n("65c2");function r(e){return Object(a["e"])().get("/serendipities",{params:e})}function s(e){return Object(a["e"])().get("/serendipity/".concat(e))}function c(e){return Object(a["e"])().get("/serendipity/".concat(e,"/task"))}function o(){return a["h"].get("".concat(i["__iconPath"],"pvx/serendipity/output/serendipity.json"))}},dbb4:function(e,t,n){var a=n("23e7"),i=n("83ab"),r=n("56ef"),s=n("fc6a"),c=n("06cf"),o=n("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,a=s(e),i=c.f,u=r(a),l={},d=0;while(u.length>d)n=i(a,t=u[d++]),void 0!==n&&o(l,t,n);return l}})},e439:function(e,t,n){var a=n("23e7"),i=n("d039"),r=n("fc6a"),s=n("06cf").f,c=n("83ab"),o=i((function(){s(1)})),u=!c||o;a({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return s(r(e),t)}})},ef77:function(e,t,n){}}]);
//# sourceMappingURL=chunk-a4f5c402.a2f4df85.js.map