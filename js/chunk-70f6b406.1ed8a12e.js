(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70f6b406"],{"25f0":function(t,e,i){"use strict";var s=i("e330"),a=i("5e77").PROPER,n=i("6eeb"),c=i("825a"),r=i("3a9b"),o=i("577e"),u=i("d039"),l=i("ad6d"),p="toString",f=RegExp.prototype,d=f[p],m=s(l),v=u((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),g=a&&d.name!=p;(v||g)&&n(RegExp.prototype,p,(function(){var t=c(this),e=o(t.source),i=t.flags,s=o(void 0===i&&r(f,t)&&!("flags"in f)?m(t):i);return"/"+e+"/"+s}),{unsafe:!0})},"2d4f":function(t,e,i){"use strict";i("ea20")},"3ac3":function(t,e,i){"use strict";i("c98d")},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"4d63":function(t,e,i){var s=i("83ab"),a=i("da84"),n=i("e330"),c=i("94ca"),r=i("7156"),o=i("9112"),u=i("9bf2").f,l=i("241c").f,p=i("3a9b"),f=i("44e7"),d=i("577e"),m=i("ad6d"),v=i("9f7f"),g=i("6eeb"),h=i("d039"),_=i("1a2d"),b=i("69f3").enforce,k=i("2626"),C=i("b622"),y=i("fce3"),x=i("107c"),I=C("match"),P=a.RegExp,w=P.prototype,S=a.SyntaxError,O=n(m),j=n(w.exec),R=n("".charAt),T=n("".replace),E=n("".indexOf),L=n("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,W=/a/g,N=/a/g,A=new P(W)!==W,$=v.MISSED_STICKY,J=v.UNSUPPORTED_Y,B=s&&(!A||$||y||x||h((function(){return N[I]=!1,P(W)!=W||P(N)==N||"/a/i"!=P(W,"i")}))),M=function(t){for(var e,i=t.length,s=0,a="",n=!1;s<=i;s++)e=R(t,s),"\\"!==e?n||"."!==e?("["===e?n=!0:"]"===e&&(n=!1),a+=e):a+="[\\s\\S]":a+=e+R(t,++s);return a},z=function(t){for(var e,i=t.length,s=0,a="",n=[],c={},r=!1,o=!1,u=0,l="";s<=i;s++){if(e=R(t,s),"\\"===e)e+=R(t,++s);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:j(D,L(t,s+1))&&(s+=2,o=!0),a+=e,u++;continue;case">"===e&&o:if(""===l||_(c,l))throw new S("Invalid capture group name");c[l]=!0,n[n.length]=[l,u],o=!1,l="";continue}o?l+=e:a+=e}return[a,n]};if(c("RegExp",B)){for(var F=function(t,e){var i,s,a,n,c,u,l=p(w,this),m=f(t),v=void 0===e,g=[],h=t;if(!l&&m&&v&&t.constructor===F)return t;if((m||p(w,t))&&(t=t.source,v&&(e="flags"in h?h.flags:O(h))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),h=t,y&&"dotAll"in W&&(s=!!e&&E(e,"s")>-1,s&&(e=T(e,/s/g,""))),i=e,$&&"sticky"in W&&(a=!!e&&E(e,"y")>-1,a&&J&&(e=T(e,/y/g,""))),x&&(n=z(t),t=n[0],g=n[1]),c=r(P(t,e),l?this:w,F),(s||a||g.length)&&(u=b(c),s&&(u.dotAll=!0,u.raw=F(M(t),i)),a&&(u.sticky=!0),g.length&&(u.groups=g)),t!==h)try{o(c,"source",""===h?"(?:)":h)}catch(_){}return c},U=function(t){t in F||u(F,t,{configurable:!0,get:function(){return P[t]},set:function(e){P[t]=e}})},Y=l(P),q=0;Y.length>q;)U(Y[q++]);w.constructor=F,F.prototype=w,g(a,"RegExp",F)}k("RegExp")},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},"9b7f":function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return u})),i.d(e,"d",(function(){return l})),i.d(e,"b",(function(){return p}));var s=i("41cb"),a=i("65c2"),n=i("bc3a"),c=i.n(n),r=Object(s["e"])();function o(t){return r.get("/pets",{params:t})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return r.get("/pet/".concat(t),{params:{client:e}})}function l(t){var e=t.item_type,i=t.item_id,s=t.client,a=void 0===s?"std":s;return r.get("/shop",{params:{client:a,itemType:e,itemId:i}})}function p(){return c.a.get(a["__iconPath"]+"pvx/pet/output/pet_lucky.json")}},b03f:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-pet-single"},[i("div",{staticClass:"m-pet-navigation"},[i("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),i("div",{staticClass:"m-pet-links"},[i("a",{staticClass:"u-link u-item",attrs:{href:t.getLink("item",t.item_id),target:"_blank"}},[i("i",{staticClass:"el-icon-collection-tag"}),t._v("物品信息")]),t.achievement_id?[i("em",[t._v(" | ")]),i("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achievement_id),target:"_blank"}},[i("i",{staticClass:"el-icon-trophy"}),t._v("成就信息")])]:t._e()],2)],1),i("div",{staticClass:"m-pet-content flex"},[i("petCard",{attrs:{petObject:t.pet,lucky:t.luckyList}}),i("div",{staticClass:"m-pet-info"},[i("h1",{staticClass:"u-title"},[i("span",{staticClass:"u-name"},[t._v(t._s(t.pet.Name))]),i("span",{staticClass:"u-type"},[t._v(t._s(t.getPetType(t.pet.Class))+" · "+t._s(t.getPetSource(t.pet.Source)))]),i("i",{staticClass:"u-stars"},t._l(t.pet.Star,(function(t){return i("i",{key:t,staticClass:"el-icon-star-on"})})),0)]),i("div",{staticClass:"m-pet-skills"},t._l(t.petWiki.skills,(function(e,s){return i("div",{key:s,staticClass:"u-skill"},[i("el-popover",{key:s,attrs:{trigger:"hover","popper-class":"m-pet-skill","visible-arrow":!1,placement:"top"}},[i("div",{staticClass:"u-skill-pop"},[i("div",{staticClass:"u-skill-name"},[t._v(t._s(e.Name))]),i("div",{staticClass:"u-skill-desc"},[t._v(t._s(e.Desc))])]),i("img",{staticClass:"u-skill-icon",attrs:{slot:"reference",src:t._f("iconLink")(e.IconID),alt:e.Name},slot:"reference"})])],1)})),0),i("div",{staticClass:"u-metas"},[i("div",{staticClass:"u-meta u-score"},[i("span",{staticClass:"u-meta-label"},[t._v("宠物分数：")]),t._v(t._s(t.pet.Score))]),i("div",{staticClass:"u-meta u-desc"},[i("span",{staticClass:"u-meta-label"},[t._v("宠物说明：")]),i("span",{staticClass:"u-meta-value"},[t._l(t.getPetDesc(t.pet.Desc),(function(e){return[i("span",{key:e.text,domProps:{innerHTML:t._s(e.text)}})]}))],2)]),i("div",{staticClass:"u-meta u-source"},[i("span",{staticClass:"u-meta-label"},[t._v("获取线索：")]),t._l(t.getPetDesc(t.pet.OutputDes),(function(e){return[i("span",{key:e.text},[t._v(t._s(t._f("cleanResourceText")(e.text)))])]}))],2),t.shopInfo.RewardsPrice||t.shopInfo.CoinPrice?i("div",{staticClass:"u-meta u-shop"},[i("span",{staticClass:"u-meta-label"},[t._v("商城价格：")]),i("span",{staticClass:"u-price"},[t.shopInfo.RewardsPrice>0?i("el-tag",{staticClass:"u-price-item u-rewards"},[t._v("积分"),i("b",[t._v(t._s(t.shopInfo.RewardsPrice))]),i("i",{staticClass:"u-icon-rewards"})]):t._e(),i("el-tag",{staticClass:"u-price-item u-coin"},[t._v("通宝"),i("b",[t._v(t._s(t.shopInfo.CoinPrice))]),i("i",{staticClass:"u-icon-coin"})])],1)]):t._e()])])],1),t.petWiki?i("div",{staticClass:"m-pet-wiki"},[i("detail",{attrs:{achievement_id:t.petWiki.achievement_id,item_id:t.item_id,title:"宠物攻略",real_type:"pet"}})],1):t._e(),i("div",{staticClass:"m-pvx-comment"},[i("Comment",{attrs:{id:t.id,category:"pz",order:"desc"}})],1)])},a=[],n=(i("7db0"),i("d3b7"),i("b0c0"),i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("25f0"),i("5319"),i("fb6a"),i("99af"),i("2ca0"),i("9b7f")),c=i("c967"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-pet-card"},[i("img",{staticClass:"u-image",attrs:{src:t.getImgSrc(t.petObject.BgPath)}}),i("img",{staticClass:"u-frame",attrs:{src:t.getFrameSrc(t.petObject.Quality)}}),i("div",{staticClass:"u-stars"},[i("i",{staticClass:"u-star",class:"u-star-"+t.petObject.Star})]),t.getLucky(t.petObject.Index)?i("i",{staticClass:"u-lucky"}):t._e(),i("div",{staticClass:"u-score flex"},[t._v(" "+t._s(t.petObject.Score||"？")+" ")]),i("span",{staticClass:"u-name"},[t._v(t._s(t.petObject.Name))])])},o=[],u=(i("466d"),i("65c2")),l={props:{petObject:{},lucky:{}},data:function(){return{}},methods:{getImgSrc:function(t){if(t){var e=t.match(/.*[\/,\\](.*?).tga/);return u["__iconPath"]+"pvx/pet/images/"+e[1]+".png"}},getFrameSrc:function(t){var e="";if(t){switch(t){case 2:e="/greenborder.png";break;case 3:e="/blueborder.png";break;case 4:e="/purpleborder.png";break;case 5:e="/purpleborder.png";break}return u["__iconPath"]+"pvx/pet/frame"+e}},getLucky:function(t){var e;if(t)return-1!=(null===(e=this.lucky)||void 0===e?void 0:e.indexOf(t.toString()))}}},p=l,f=(i("2d4f"),i("2877")),d=Object(f["a"])(p,r,o,!1,null,null,null),m=d.exports,v=i("c599"),g=i("60f8"),h=i("4649"),_=i("85e4"),b=i("23d8"),k={name:"PetSingle",props:[],components:{petCard:m,Detail:v["a"],Comment:b["a"]},data:function(){return{pet:{},petWiki:"",shopInfo:"",luckyList:[]}},computed:{id:function(){return this.$route.params.id},item_id:function(){var t,e;return(null===(t=this.pet)||void 0===t?void 0:t.ItemTabType)+"_"+(null===(e=this.pet)||void 0===e?void 0:e.ItemTabIndex)},achievement_id:function(){return this.petWiki.achievement_id},client:function(){return this.$store.state.client},title:function(){return this.pet.Name}},watch:{},methods:{getPetInfo:function(){var t=this;Object(n["a"])(this.id).then((function(e){t.pet=e.data,t.getPetWiki(),t.getShopInfo()}))},getPetWiki:function(){var t=this;this.item_id&&Object(c["a"])("item",this.item_id).then((function(e){var i,s,a;t.petWiki=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(s=i.data)||void 0===s||null===(a=s.source)||void 0===a?void 0:a.pet}))},getShopInfo:function(){var t=this,e={item_type:this.pet.ItemTabType,item_id:this.pet.ItemTabIndex};Object(n["d"])(e).then((function(e){t.shopInfo=(null===e||void 0===e?void 0:e.data)||""}))},getPetType:function(t){var e=g.find((function(e){return e.class===t}));return(null===e||void 0===e?void 0:e.name)||""},getPetSource:function(t){var e=h.find((function(e){return~~t===~~e.source}));return(null===e||void 0===e?void 0:e.name)||""},getPetDesc:function(t){var e,i=new RegExp("<text>text=([\\s\\S]*?)font=(\\d+)[\\s\\S]*?<\\/text>","gimy"),s=[];while(e=i.exec(t))s.push(e);for(var a=[],n=0,c=s;n<c.length;n++){var r=c[n];a.push({font:~~r[2],text:r[1].slice(1,-2).replace(/[\\n]/g,"")})}return a},goBack:function(){this.$router.push({name:"list"})},goItem:function(){var t=this.pet,e=t.ItemTabType,i=t.ItemTabIndex,s=Object(_["getLink"])("item","".concat(e,"_").concat(i));window.open(s,"_blank")},getPetLucky:function(){var t=this;Object(n["b"])().then((function(e){var i=e.data.std,s=new Date,a=s.getMonth()+1+""+s.getDate();t.luckyList=i[a]}))},getLink:_["getLink"]},filters:{iconLink:_["iconLink"],cleanResourceText:function(t){return t&&t.startsWith("获取线索：")?t.replace("获取线索：",""):t}},created:function(){this.getPetLucky()},mounted:function(){this.getPetInfo()}},C=k,y=(i("3ac3"),Object(f["a"])(C,s,a,!1,null,null,null));e["default"]=y.exports},c607:function(t,e,i){var s=i("da84"),a=i("83ab"),n=i("fce3"),c=i("c6b6"),r=i("9bf2").f,o=i("69f3").get,u=RegExp.prototype,l=s.TypeError;a&&n&&r(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===c(this))return!!o(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},c98d:function(t,e,i){},ea20:function(t,e,i){}}]);
//# sourceMappingURL=chunk-70f6b406.1ed8a12e.js.map