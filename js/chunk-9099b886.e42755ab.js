(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9099b886"],{8195:function(t,i,e){"use strict";e("e55b")},d404:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t._self._c;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-question-single m-single-wrapper"},[i("div",{staticClass:"back-wrap"},[i("el-button",{on:{click:t.goBack}},[t._v("返回列表")]),t.data.id&&t.canManage?i("a",{staticClass:"u-edit",attrs:{href:t.editLink("question",t.data.id)}},[i("i",{staticClass:"el-icon-edit-outline"}),i("span",[t._v("编辑")])]):t._e()],1),i("SingleCard",{attrs:{fromQuestion:!0,item:t.data,answer:t.answer,isSubmitted:t.isSubmitted},on:{changeVal:t.finalAnswer}}),i("div",{staticClass:"m-exam-submit",class:{isSubmitted:t.isSubmitted},on:{click:t.submit}},[i("el-button",{staticClass:"u-btn",attrs:{disabled:t.isSubmitted}},[t._v("提交")])],1),i("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:"question",postTitle:t.title,userId:t.user_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,client:t.client}}),i("div",{staticClass:"m-single-comment"},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("评论")]),i("Comment",{attrs:{id:t.id,category:"question"}})],1)],1)},s=[],a=e("5530"),r=(e("99af"),e("d3b7"),e("b64b"),e("e9c4"),e("d81d"),e("4e82"),e("14d9"),e("9430")),o=e("23d8"),d=e("9616"),u=e("6a7f"),c=e("c9d2"),l={name:"QuestionSingle",props:[],components:{SingleCard:r["a"],Comment:o["a"]},data:function(){return{data:{},answer:"",userAnswers:{},isSubmitted:!1,loading:!1}},computed:{id:function(){return~~this.$route.params.id},user_id:function(){return this.data.createUserId},title:function(){return this.data.title},client:function(){return this.data.client||"all"},canManage:function(){return c["a"].isEditor()||c["a"].getInfo().uid==this.data.createUserId}},watch:{},methods:{editLink:function(t,i){return"/publish/#/".concat(t,"/").concat(i)},loadData:function(){var t=this;this.loading=!0,Object(u["l"])(this.id).then((function(i){var e=i.data;e.tags=JSON.parse(e.tags),e.options=JSON.parse(e.options),t.data=e,Object(d["b"])("question",t.id)})).finally((function(){t.loading=!1}))},finalAnswer:function(t){this.userAnswers=Object(a["a"])(Object(a["a"])({},this.userAnswers),t)},submit:function(){var t=this;if(!c["a"].isLogin())return this.$message.error("请先登录");if("{}"==JSON.stringify(this.userAnswers))this.$alert("你没有选择答案哦~","提交失败",{type:"error"});else{var i={},e=this.userAnswers;for(var n in e)i=e[n].map((function(i){return t.data.options[i]}));Object(u["o"])(this.id,i).then((function(i){i.data&&(document.documentElement.scrollTop=0,i.data.question.answerList=i.data.question.answerList.sort(),t.answer=Object(a["a"])(Object(a["a"])({},i.data.question),{},{myAnswer:t.userAnswers[t.id].sort()}),t.isSubmitted=!0)}))}},goBack:function(){this.$router.push({name:"index",params:{type:2}})}},filters:{},created:function(){this.loadData()}},m=l,f=(e("8195"),e("2877")),b=Object(f["a"])(m,n,s,!1,null,null,null);i["default"]=b.exports},e55b:function(t,i,e){}}]);
//# sourceMappingURL=chunk-9099b886.e42755ab.js.map