(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a739a94"],{1332:function(t,e,a){"use strict";a("22c5")},"22c5":function(t,e,a){},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"51d1":function(t,e,a){"use strict";a.r(e);a("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"listRef",staticClass:"v-pet-list m-pet"},[e("petTabs",{attrs:{types:t.Type,source:t.Source,active:t.active,mapList:t.mapList},on:{change:t.handleTabChange,setActive:t.setActive}}),t.luckyList.length>0?[t._m(0),e("div",{staticClass:"m-lucky-list"},t._l(t.luckyList,(function(t){return e("luckyItem",{key:t.id,attrs:{item:t}})})),1)]:t._e(),t.showAllList?[e("div",{staticClass:"u-type"},[e("div",{staticClass:"u-title"},[t._v(t._s(t.typeName))])]),e("div",{staticClass:"m-pet-list"},t._l(t.list,(function(t){return e("pet-item",{key:t.id,attrs:{petObject:t}})})),1),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.hasNextPage,expression:"hasNextPage"}],staticClass:"m-archive-more",attrs:{type:"primary",loading:t.loading,icon:"el-icon-arrow-down"},on:{click:t.appendPage}},[t._v("加载更多")]),e("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":!0,"page-size":t.per_page,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})]:t._l(t.list_type,(function(a,i){return e("div",{key:"l"+i},[a.list.length>0?e("div",{staticClass:"u-type"},[e("div",{staticClass:"u-title"},[t._v(t._s(a.name))]),e("div",{staticClass:"u-all",on:{click:function(e){return t.setActive(a.class)}}},[t._v("查看全部")])]):t._e(),e("div",{staticClass:"m-pet-list"},t._l(a.list,(function(t){return e("pet-item",{key:t.id,attrs:{petObject:t}})})),1)])})),t.isNoRes()?e("el-alert",{staticClass:"m-archive-null",attrs:{title:"没有找到相关宠物",type:"info",center:"","show-icon":""}}):t._e()],2)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"u-type"},[e("div",{staticClass:"u-title"},[t._v("今日福缘")])])}],s=a("5530"),r=(a("d3b7"),a("159b"),a("b64b"),a("14d9"),a("4de4"),a("99af"),a("25f0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-pet-tabs"},[e("div",{staticClass:"u-tabs"},[t._l(t.types,(function(a){return e("div",{key:a.type},[e("div",{staticClass:"u-tab-item",class:{active:a.class==t.active},on:{click:function(e){return t.clickTabs(a)}}},[e("span",{staticClass:"u-tabs-span"},[t._v(t._s(a.name))])])])})),e("div",{staticClass:"u-mapList"},[e("el-select",{attrs:{filterable:"",placeholder:"宠物地图","popper-class":"u-select",clearable:""},model:{value:t.mapId,callback:function(e){t.mapId=e},expression:"mapId"}},t._l(t.mapList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"u-tabs-filter"},[e("el-popover",{attrs:{placement:"bottom-end",trigger:"click",width:"90","popper-class":"u-filter-popover"},model:{value:t.filterOpen,callback:function(e){t.filterOpen=e},expression:"filterOpen"}},[e("div",{staticClass:"u-tabs-marks"},[e("el-radio-group",{model:{value:t.petSource,callback:function(e){t.petSource=e},expression:"petSource"}},t._l(t.Source,(function(a,i){return e("el-radio-button",{key:"laiyuan"+i,staticClass:"u-source",attrs:{label:a.source,size:"mini"}},[t._v(t._s(a.name))])})),1)],1),e("svg",{attrs:{slot:"reference",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},slot:"reference"},[e("rect",{attrs:{width:"40",height:"40",rx:"20",fill:"transparent"}}),e("path",{attrs:{d:"M12.25 13.61C14.27 16.2 18 21 18 21v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39a.998.998 0 00-.79-1.61H13.04c-.83 0-1.3.95-.79 1.61z",fill:"tranparent"}})])])],1),e("div",{staticClass:"u-tabs-search"},[e("el-input",{staticClass:"u-search",attrs:{placeholder:"请输入搜索内容","suffix-icon":"el-icon-search"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],2)])}),c=[],o=(a("65c2"),{name:"tabs",props:["types","Source","active","mapList"],data:function(){return{petSource:"",title:"",mapId:"",filterOpen:!1}},computed:{params:function(){var t={};return this.active&&(t.Class=this.active),this.petSource&&(t.Source=this.petSource),this.title&&(t.Name=this.title),this.mapId&&(t.map=this.mapId),t}},methods:{clickTabs:function(t){this.$emit("setActive",t.class)}},watch:{params:{deep:!0,immediate:!0,handler:function(t){this.$emit("change",t)}}}}),l=o,u=a("2877"),p=Object(u["a"])(l,r,c,!1,null,null,null),d=p.exports,f=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"m-pet-item",class:t.getFrameClass(t.petObject.Quality),attrs:{to:"/"+t.petObject.Index,target:"_blank"}},[e("itemIcon",{staticClass:"u-icon",attrs:{item_id:String(t.petObject.ItemTabType+"_"+t.petObject.ItemTabIndex),size:80,onlyIcon:!0,isLink:!1}}),e("div",{staticClass:"u-name"},[t._v(t._s(t.petObject.Name))])],1)},m=[],h=a("bf15"),b={props:{petObject:{}},components:{itemIcon:h["a"]},data:function(){return{}},computed:{client:function(){return this.$store.state.client}},methods:{getFrameClass:function(t){var e="";if(t){switch(t){case 2:e="pet-level-2";break;case 3:e="pet-level-3";break;case 4:e="pet-level-4";break;case 5:e="pet-level-5";break}return e}}}},g=b,v=(a("f9c9"),Object(u["a"])(g,f,m,!1,null,null,null)),_=v.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-luckey-item"},[e("a",{staticClass:"u-pet",attrs:{href:t.getPetLink(t.item),target:"_blank"}},[e("i",{staticClass:"u-img"},[e("img",{staticClass:"u-pic",attrs:{src:t.resolveImagePath(t.item.img),loading:"lazy"}})])])])},k=[],O=(a("9911"),a("85e4")),w={name:"luckyItem",props:["item"],data:function(){return{}},computed:{},methods:{getPetLink:function(t){return t.source_id?"/pet/".concat(t.source_id):t.link},resolveImagePath:O["resolveImagePath"]}},j=w,C=(a("1332"),Object(u["a"])(j,y,k,!1,null,null,null)),P=C.exports,I=a("2ef0"),L=(a("ed08"),a("60f8")),x=a("4649"),S=a("9b7f"),N=a("5a0c"),T=a.n(N),B={name:"face",components:{petTabs:d,petItem:_,luckyItem:P},data:function(){return{tabsData:{},active:"",Type:L,Source:x,list:[],page:1,per_page:50,pages:1,total:0,appendMode:!1,loading:!1,luckyList:[],typeName:"",showAllList:!1,mapList:[],list_type:[{class:1,type:1,name:"水族",list:[]},{class:3,type:2,name:"走兽",list:[]},{class:2,type:3,name:"禽鸟",list:[]},{class:4,type:4,name:"机关",list:[]}]}},computed:{client:function(){return this.$store.state.client},params:function(t){var e=t.tabsData;return Object(s["a"])(Object(s["a"])({},e),{},{page:this.page||1,client:this.client})},hasNextPage:function(){return this.page<this.pages}},watch:{params:{deep:!0,handler:function(t){this.getPetListInit()}}},created:function(){this.showCount(),this.getPetLucky(),this.getMapList()},mounted:function(){},methods:{getMapList:function(){var t=this;Object(S["a"])().then((function(e){var a=e.data,i=[];Object.keys(a).forEach((function(t,e){i.push({label:a[t],value:t})})),t.mapList=i}))},isNoRes:function(){var t=this.params.Class;return t?!(this.list.length>0):0==this.list_type[0].list.length&&0==this.list_type[1].list.length&&0==this.list_type[2].list.length&&0==this.list_type[3].list.length},setActive:function(t){console.log(t),this.active=t,document.documentElement.scrollTop=0,this.typeName=this.getTypeName()},getTypeName:function(){var t=this,e=this.Type.filter((function(e){return e.class==t.active}));return e[0].name||"所有种类"},getPetListInit:function(){var t=this;if(this.params.Class){this.showCount(4);var e=Object(I["clone"])(this.params);e.per=this.per_page,this.getPetList(e)}else this.showCount(2),this.showAllList=!1,this.list_type.forEach((function(e){var a=Object(I["clone"])(t.params);a.Class=e.class,a.per=t.per_page,t.getPetList(a)}))},getPetList:function(t){var e=this;this.loading=!0,this.appendMode||(this.list=[]),Object(S["e"])(t).then((function(a){var i=a.data.list.filter((function(t){return t.NameFrame}));if(e.appendMode)e.list=e.list.concat(i);else if(e.params.Class)e.showAllList=!0,e.list=i||[];else{var n={1:function(){return e.list_type[0].list=i||[]},2:function(){return e.list_type[1].list=i||[]},3:function(){return e.list_type[2].list=i||[]},4:function(){return e.list_type[3].list=i||[]}};n[t.Class]()}e.params.Class&&(e.appendMode=!1,e.total=a.data.total,e.pages=a.data.pages),e.$forceUpdate()})).finally((function(){e.loading=!1}))},getPetLucky:function(){var t=this;Object(S["c"])().then((function(e){var a=e.data.std,i=T()(new Date).format("MDD");Object(S["h"])("slider",t.client,a[i].toString()).then((function(e){t.luckyList=e.data.data.list||[]}))}))},appendPage:function(){this.appendMode=!0,this.page=this.page+1},handleTabChange:function(t){this.page=1,this.tabsData=t},showCount:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,a=null===(t=this.$refs.listRef)||void 0===t?void 0:t.clientWidth;this.per_page=Math.floor(a/118)*e}}},D=B,M=(a("b558"),Object(u["a"])(D,i,n,!1,null,null,null));e["default"]=M.exports},"51eb":function(t,e,a){"use strict";var i=a("825a"),n=a("485a"),s=TypeError;t.exports=function(t){if(i(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw s("Incorrect hint");return n(this,t)}},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("14d9"),a("159b"),a("dbb4");var i=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},8172:function(t,e,a){var i=a("e065"),n=a("57b9");i("toPrimitive"),n()},"9b7f":function(t,e,a){"use strict";a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"c",(function(){return p})),a.d(e,"d",(function(){return d})),a.d(e,"g",(function(){return f})),a.d(e,"h",(function(){return m})),a.d(e,"a",(function(){return h}));var i=a("41cb"),n=a("65c2"),s=a("bc3a"),r=a.n(s),c=Object(i["e"])();function o(t){return c.get("/pets",{params:t})}function l(t,e){return c.get("/pet/".concat(t),{params:e})}function u(t){var e=t.item_type,a=t.item_id,i=t.client,n=void 0===i?"std":i;return c.get("/shop",{params:{client:n,itemType:e,itemId:a}})}function p(){return r.a.get(n["__dataPath"]+"pvx/pet/output/pet_lucky.json")}function d(){return r.a.get(n["__dataPath"]+"pvx/pet/output/pet_lucky_reverse.json")}function f(t){return c.get("/skills",{params:t})}function m(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,s={client:e,type:t,source_type:"pet",source_ids:a};return n&&(s.per=n),Object(i["a"])({mute:!0}).get("/api/cms/news/v2",{params:s})}function h(){return r.a.get(n["__imgPath"]+"map/data/map_index.json")}},ade3:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("53ca");a("8172"),a("efec"),a("a4d3"),a("e01a"),a("d3b7"),a("d9e2"),a("a9e3");function n(t,e){if("object"!==Object(i["a"])(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==Object(i["a"])(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t){var e=n(t,"string");return"symbol"===Object(i["a"])(e)?e:String(e)}function r(t,e,a){return e=s(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},b558:function(t,e,a){"use strict";a("bd08")},b64b:function(t,e,a){var i=a("23e7"),n=a("7b0b"),s=a("df75"),r=a("d039"),c=r((function(){s(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(t){return s(n(t))}})},bb8d:function(t,e,a){},bd08:function(t,e,a){},bf15:function(t,e,a){"use strict";a("99af");var i=function(){var t=this,e=t._self._c;return e("el-popover",{staticClass:"u-item",attrs:{placement:"right-start",trigger:"hover","visible-arrow":!1,"popper-class":"u-item__popup"}},[e("template",{slot:"reference"},[e("div",{staticClass:"u-item__warpper",class:{background:!t.onlyIcon,is_vertical:t.vertical}},[t.onlyName?t._e():e("a",{staticClass:"u-item-icon",style:"height:".concat(t.size,"px; width:").concat(t.size,"px"),attrs:{target:"_blank",href:t.isLink?t.getLink("item",t.source.id):t.noLink()}},[e("img",{staticClass:"u-item-icon__img",style:{height:t.size+"px",width:t.size+"px",cursor:t.isLink?"pointer":"default"},attrs:{src:t.iconLink(t.source.IconID,t.client)}}),e("div",{staticClass:"u-item-icon__quality",style:{backgroundImage:t.item_border(t.source),opacity:5==t.source.Quality?.9:1}}),e("div",{staticClass:"u-item-icon__quest",style:{backgroundImage:t.item_border_quest(t.source)}}),1!==t.display_amount?e("span",{staticClass:"u-item-icon__count"},[t._v(t._s(t.display_amount))]):t._e()]),t.onlyIcon?t._e():e("div",{staticClass:"u-item-name",class:"e-jx3-item__q".concat(t.source.Quality)},[t._v(" "+t._s(t.source.Name)+" ")])])]),e("jx3-item",{attrs:{item:t.source}})],2)},n=[],s=(a("a9e3"),a("b64b"),a("e9c4"),a("c7fa")),r=a("4ae4"),c=a("85e4"),o=a("65c2"),l={name:"ItemIcon",data:function(){return{source:{},real_id:null,maybeBook:!1}},components:{"jx3-item":s["a"]},props:{size:{type:Number,default:28},item_id:{type:String,default:null},amount:{type:Number,default:1},onlyName:{type:Boolean,default:!1},onlyIcon:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},isLink:{type:Boolean,default:!0}},methods:{noLink:function(){return!1},get_data:function(t){var e=this;t&&Object(r["a"])(t,this.client).then((function(t){var a=t.data,i=a.data.item;Object.keys(i).length&&(e.source=i,sessionStorage.setItem(e.cache_key,JSON.stringify(i)))})).catch((function(t){var a;400==(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.code)&&!1===e.maybeBook&&(e.maybeBook=!0,e.real_id="".concat(e.item_id,"_").concat(e.amount))}))},iconLink:c["iconLink"],getLink:c["getLink"],item_border_quest:function(t){return t.IsQuest>0?"url(".concat(o["__imgPath"],"image/item/renwu.png)"):""},item_border:function(t){switch(t.Quality){case 3:return"url(".concat(o["__imgPath"],"image/item/blue.png)");case 4:return"url(".concat(o["__imgPath"],"image/item/purple.png)");case 5:return"url(".concat(o["__imgPath"],"image/item/orange.gif)");default:return""}}},computed:{client:function(){return this.$store.state.client},cache_key:function(){return"item-".concat(this.client,"-").concat(this.real_id)},display_amount:function(){return!1===this.maybeBook?this.amount:1}},watch:{real_id:{immediate:!0,handler:function(){var t=sessionStorage.getItem(this.cache_key);if(t)try{this.source=JSON.parse(t)}catch(e){console.log(e,"[Item]无法解析本地缓存"),this.get_data(this.real_id)}else this.get_data(this.real_id)}}},mounted:function(){this.real_id=this.item_id}},u=l,p=(a("c0dd"),a("2877")),d=Object(p["a"])(u,i,n,!1,null,null,null);e["a"]=d.exports},c0dd:function(t,e,a){"use strict";a("e67d")},dbb4:function(t,e,a){var i=a("23e7"),n=a("83ab"),s=a("56ef"),r=a("fc6a"),c=a("06cf"),o=a("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,i=r(t),n=c.f,l=s(i),u={},p=0;while(l.length>p)a=n(i,e=l[p++]),void 0!==a&&o(u,e,a);return u}})},e439:function(t,e,a){var i=a("23e7"),n=a("d039"),s=a("fc6a"),r=a("06cf").f,c=a("83ab"),o=!c||n((function(){r(1)}));i({target:"Object",stat:!0,forced:o,sham:!c},{getOwnPropertyDescriptor:function(t,e){return r(s(t),e)}})},e67d:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));a("d3b7"),a("caad"),a("ac1f"),a("466d");function i(t){if("[object Object]"===Object.prototype.toString.call(t)){for(var e in t)[void 0,null,""].includes(t[e])&&delete t[e];return t}return t}function n(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return null!==t}},efec:function(t,e,a){var i=a("1a2d"),n=a("cb2d"),s=a("51eb"),r=a("b622"),c=r("toPrimitive"),o=Date.prototype;i(o,c)||n(o,c,s)},f9c9:function(t,e,a){"use strict";a("bb8d")}}]);
//# sourceMappingURL=chunk-6a739a94.cc6ac7fd.js.map