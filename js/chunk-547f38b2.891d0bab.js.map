{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/components/PvxUser.vue","webpack:///src/components/PvxUser.vue","webpack:///./src/components/PvxUser.vue?cf45","webpack:///./src/components/PvxUser.vue?ee72","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue","webpack:///./node_modules/@jx3box/jx3box-map/src/service/data.js","webpack:///node_modules/@jx3box/jx3box-map/src/components/Map.vue","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue?2479","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue?c0ed","webpack:///./src/components/PvxUser.vue?01b2","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue?c00e","webpack:///./src/views/book/Single.vue?6acd","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/book/Single.vue","webpack:///src/views/book/Single.vue","webpack:///./src/views/book/Single.vue?f8f3","webpack:///./src/views/book/Single.vue?7527","webpack:///./src/utils/index.js"],"names":["$","flattenIntoArray","toObject","lengthOfArrayLike","toIntegerOrInfinity","arraySpeciesCreate","target","proto","flat","depthArg","arguments","length","undefined","O","this","sourceLen","A","$values","values","stat","render","_vm","_c","_self","staticClass","wiki_post","post","attrs","slot","class","_v","_s","name","publish_url","concat","type","id","compatible","_e","content","user_name","updated_at","_t","key","source","Name","author_id","authors","client","String","staticRenderFns","components","WikiPanel","Article","WikiRevisions","WikiComments","props","required","default","itemId","data","is_empty","watch","immediate","handler","post_id","loadRevision","loadData","computed","$store","state","$route","params","isRevision","_this$wiki_post","_this$wiki_post$post","user_id","_this$wiki_post2","_this$wiki_post2$post","user_nickname","_this$wiki_post3","_this$wiki_post3$post","ts2str","updated","fav_title","_this$wiki_post4","_this$wiki_post4$sour","_this$wiki_post5","_this$wiki_post5$user","_this$wiki_post5$user2","users","filter","user","map","user_avatar","avatar","display_name","nickname","methods","getLink","_this","wiki","mix","then","res","isEmpty","triggerStat","_this2","getById","_res$data","publishLink","postStat","component","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","CHROME_BUG","FORCED","forced","reduce","callbackfn","addToUnscopables","DESCRIPTORS","fails","uncurryThis","objectGetPrototypeOf","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","push","IE_BUG","Object","create","createMethod","TO_ENTRIES","it","keys","IE_WORKAROUND","i","result","module","exports","entries","isArray","doesNotExceedSafeInteger","bind","original","start","depth","mapper","thisArg","element","elementLen","targetIndex","sourceIndex","mapFn","ref","style","wrapperSize","innerStyle","mapImg","overview","mapName","_l","datas","k","pointStyle","title","domProps","__imgPath","getMapScales","fetch","json","mapId","Number","Array","Boolean","focus","trimBorder","mapDraggable","pointDraggable","mapFollow","outerWidth","outerHeight","innerLeft","innerBottom","mapScales","innerWidth","innerHeight","width","height","focusPoint","_this$datas$find","find","d","_this$offsetLimit","offsetLimit","bottom","_objectSpread","subId","scales","_sub","_subScale","sub","rect","x","StartX","y","StartY","Width","Scale","Height","isPointsInRect","_this$mapScales$this$","_this$mapScales$this$2","mapScale","_this$mapScales$this$3","jx3boxData","mounted","fetchMapScales","$nextTick","bindUpdateSizeListener","bindDraggerListener","beforeDestroy","window","removeEventListener","updateSize","pointPosition","item","scale","gamePosition","_this$pointPosition","points","p","every","initInnerOffset","centerPoint","outerCenter","positionOffset","_this$$refs$component","$refs","clientWidth","_this$$refs$component2","clientHeight","$emit","addEventListener","wrapper","store","targetIsPoint","e","classList","contains","pointIndex","dataset","parentNode","mapMoveHandler","clientX","clientY","dx","dy","_this2$offsetLimit","px","py","pointMoveHandler","point","_this2$positionLimit","positionLimit","clickHandler","document","removeListener","maxLeft","minLeft","maxBottom","minBottom","Math","max","min","minX","maxX","minY","maxY","aCallable","IndexedObject","$TypeError","TypeError","REDUCE_EMPTY","IS_RIGHT","that","argumentsLength","memo","self","index","right","on","goBack","book","directives","rawName","value","loading","expression","Desc","includes","getOrigin","bookMapSite","$event","dialogVisible","indexOf","getBossOrigin","getShopOrigin","getQuestOrigin","questId","questName","getProfessionType","ExtendProfessionID1","BookName","RequireLevel","copy","ID","staticStyle","RequirePlayerLevel","RequireLevelExt","CostVigor","copyList","meterial","item_id","count","contentInfo","test","iconLink","isVertical","arrowShow","noMore","toMore","noBack","toBack","toSwitch","bookList","listLoading","AchievementID","idKey","isPhone","parseInt","position","Jx3boxMap","BookCard","ItemIcon","PvxUser","bookWrap","sW","scrollWidth","sLeft","scrollLeft","cW","step","ceil","scrollBy","behavior","sH","scrollHeight","sTop","scrollTop","cH","top","$router","path","fbMaps","maps_std","maps_orgin","maps","dungeon","a","b","mItem","map_id","mode","drops","orgin","forEach","BossName","MapID","shopNames","ShopNames","replace","quests","Quests","questList","split","tempId","DoodadTemplateID","bookMapInfo","bookProfession","getData","getInfo","_data$copy","contents","join","assign","z","keyArr","len","recentBook","dispatch","getBookList","finally","keyword","page","pageSize","getList","list","_this$book","ItemID","bookMapInfoStd","bookMapInfoOrigin","_this3","wrapSW","wrapCW","bol","_this4","wrapSH","wrapCH","deleteNull","obj","prototype","toString","call","mobile","navigator","userAgent","match","sortBy","filed1","filed2"],"mappings":"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","file":"js/chunk-547f38b2.891d0bab.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toIntegerOrInfinity(depthArg));\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-pvx-user\"},[(_vm.wiki_post && _vm.wiki_post.post)?_c('div',{staticClass:\"m-wiki-post-panel\"},[_c('WikiPanel',{attrs:{\"wiki-post\":_vm.wiki_post}},[_c('template',{slot:\"head-title\"},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z\"}})]),_c('span',{staticClass:\"u-txt\"},[_vm._v(_vm._s(_vm.name)+\"攻略\")])]),_c('template',{slot:\"head-actions\"},[_c('a',{staticClass:\"el-button el-button--primary\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',[_vm._v(\"完善\"+_vm._s(_vm.name)+\"攻略\")])])]),_c('template',{slot:\"body\"},[(_vm.compatible)?_c('div',{staticClass:\"m-wiki-compatible\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 暂无缘起攻略，以下为重制攻略，仅作参考，\"),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_vm._v(\"参与修订\")]),_vm._v(\"。 \")]):_vm._e(),_c('Article',{attrs:{\"content\":_vm.wiki_post.post.content}}),_c('div',{staticClass:\"m-wiki-signature\"},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\" 本次修订由 \"),_c('b',[_vm._v(_vm._s(_vm.user_name))]),_vm._v(\" 提交于\"+_vm._s(_vm.updated_at)+\" \")])],1)],2),_vm._t(\"serendipity\"),_c('WikiRevisions',{attrs:{\"type\":_vm.type,\"source-id\":_vm.id}})],2):_vm._e(),((!_vm.wiki_post || !_vm.wiki_post.post) && _vm.id)?_c('div',{staticClass:\"m-wiki-post-empty\"},[_c('i',{staticClass:\"el-icon-s-opportunity\"}),_c('span',[_vm._v(\"暂无攻略，我要\")]),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_vm._v(\"完善攻略\")])]):_vm._e(),_c('Thx',{key:_vm.type + '-thx-' + _vm.id,staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":_vm.type,\"postTitle\":_vm.wiki_post.source.Name,\"userId\":_vm.author_id,\"adminBoxcoinEnable\":false,\"userBoxcoinEnable\":false,\"authors\":_vm.authors,\"mode\":\"wiki\",\"client\":_vm.client}}),_c('WikiComments',{attrs:{\"type\":_vm.type,\"source-id\":String(_vm.id)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <!-- 包含攻略、评论、历史版本、点赞等 -->\n    <div class=\"w-pvx-user\">\n        <!--攻略-->\n        <div class=\"m-wiki-post-panel\" v-if=\"wiki_post && wiki_post.post\">\n            <WikiPanel :wiki-post=\"wiki_post\">\n                <template slot=\"head-title\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z\"/></svg>\n                    <span class=\"u-txt\">{{ name }}攻略</span>\n                </template>\n                <template slot=\"head-actions\">\n                    <a class=\"el-button el-button--primary\" :href=\"publish_url(`${type}/${id}`)\">\n                        <i class=\"el-icon-edit\"></i>\n                        <span>完善{{ name }}攻略</span>\n                    </a>\n                </template>\n                <template slot=\"body\">\n                    <div class=\"m-wiki-compatible\" v-if=\"compatible\">\n                        <i class=\"el-icon-warning-outline\"></i> 暂无缘起攻略，以下为重制攻略，仅作参考，<a\n                            class=\"s-link\"\n                            :href=\"publish_url(`${type}/${id}`)\"\n                            >参与修订</a\n                        >。\n                    </div>\n                    <Article :content=\"wiki_post.post.content\" />\n                    <div class=\"m-wiki-signature\">\n                        <i class=\"el-icon-edit\"></i>\n                        本次修订由 <b>{{ user_name }}</b> 提交于{{ updated_at }}\n                    </div>\n                </template>\n            </WikiPanel>\n\n            <!-- 奇遇触发记录 -->\n            <slot name=\"serendipity\"></slot>\n\n            <!-- 历史版本 -->\n            <WikiRevisions :type=\"type\" :source-id=\"id\" />\n        </div>\n        <div class=\"m-wiki-post-empty\" v-if=\"(!wiki_post || !wiki_post.post) && id\">\n            <i class=\"el-icon-s-opportunity\"></i>\n            <span>暂无攻略，我要</span>\n            <a class=\"s-link\" :href=\"publish_url(`${type}/${id}`)\">完善攻略</a>\n        </div>\n        <Thx\n            class=\"m-thx\"\n            :postId=\"id\"\n            :postType=\"type\"\n            :postTitle=\"wiki_post.source.Name\"\n            :userId=\"author_id\"\n            :adminBoxcoinEnable=\"false\"\n            :userBoxcoinEnable=\"false\"\n            :authors=\"authors\"\n            mode=\"wiki\"\n            :key=\"type + '-thx-' + id\"\n            :client=\"client\"\n        />\n        <!-- 百科评论 -->\n        <WikiComments :type=\"type\" :source-id=\"String(id)\" />\n    </div>\n</template>\n\n<script>\nimport { postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki_v2.js\";\n\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport WikiPanel from \"@jx3box/jx3box-common-ui/src/wiki/WikiPanel\";\nimport WikiRevisions from \"@jx3box/jx3box-common-ui/src/wiki/WikiRevisions\";\nimport WikiComments from \"@jx3box/jx3box-common-ui/src/wiki/WikiComments\";\n\nimport { publishLink, ts2str, getLink } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"PvxUser\",\n    components: {\n        WikiPanel,\n        Article,\n        WikiRevisions,\n        WikiComments,\n    },\n    props: {\n        id: {\n            required: true,\n        },\n        name: {\n            type: String,\n            default: \"\",\n        },\n        type: {\n            type: String,\n            required: true,\n        },\n        itemId: {\n            type: String,\n            default: \"\",\n        },\n    },\n    data() {\n        return {\n            wiki_post: {\n                source: {},\n                post: null,\n            },\n            compatible: false,\n            is_empty: true,\n        };\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler() {\n                if (this.post_id) {\n                    this.loadRevision();\n                } else {\n                    this.loadData();\n                }\n            },\n        },\n        post_id: {\n            handler() {\n                this.loadRevision();\n            },\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        //wiki相关\n        post_id: function () {\n            return this.itemId || this.$route.params.post_id;\n        },\n        isRevision: function () {\n            return this.itemId ? !!this.itemId : !!this.$route.params.post_id;\n        },\n        author_id: function () {\n            return ~~this.wiki_post?.post?.user_id;\n        },\n        user_name: function () {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        updated_at: function () {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        fav_title: function () {\n            return this.wiki_post?.source?.Name;\n        },\n        authors: function () {\n            if (!this.isRevision) {\n                return (\n                    this.wiki_post?.users\n                        ?.filter((user) => user.id)\n                        ?.map((user) => {\n                            return {\n                                user_id: user.id,\n                                user_avatar: user.avatar,\n                                display_name: user.nickname,\n                            };\n                        }) || []\n                );\n            }\n            return [];\n        },\n    },\n    methods: {\n        getLink,\n        //百科相关\n        loadData: function () {\n            // 获取最新攻略\n            if (this.id) {\n                wiki.mix({ type: this.type, id: this.id, client: this.client }).then((res) => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users,\n                    };\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                });\n            }\n            this.triggerStat();\n        },\n        loadRevision: function () {\n            // 获取指定攻略\n            wiki.getById(this.post_id).then((res) => {\n                this.wiki_post = res?.data?.data;\n            });\n            this.triggerStat();\n        },\n        publish_url: publishLink,\n        triggerStat: function () {\n            if (this.client == \"origin\") {\n                postStat(`origin_${type}`, this.id);\n            } else {\n                postStat(this.type, this.id);\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.w-pvx-user {\n    & > div {\n        margin-top: 40px !important;\n    }\n    .c-wiki-panel {\n        margin-top: 40px !important;\n    }\n    .m-wiki-signature {\n        text-align: right;\n        color: #999;\n        font-size: 12px;\n        line-height: 2;\n        border-top: 1px dashed #ddd;\n        padding: 5px 0;\n    }\n\n    .u-msg-yellow {\n        color: #8a6d3b;\n        background-color: #fcf8e3;\n        border: 1px solid #faebcc;\n        padding: 8px 14px 8px 14px;\n        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n        border-radius: 4px;\n    }\n\n    .m-wiki-post-empty {\n        .u-msg-yellow;\n        .x;\n\n        .s-link {\n            .underline(@color-link);\n        }\n\n        letter-spacing: 2px;\n        .fz(14px);\n    }\n\n    .m-wiki-compatible {\n        .u-msg-yellow;\n        margin: 10px auto;\n        padding: 5px 10px;\n\n        a {\n            .underline(@color-link);\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PvxUser.vue?vue&type=template&id=e00c42d6\"\nimport script from \"./PvxUser.vue?vue&type=script&lang=js\"\nexport * from \"./PvxUser.vue?vue&type=script&lang=js\"\nimport style0 from \"./PvxUser.vue?vue&type=style&index=0&id=e00c42d6&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\nvar FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// in some IE versions, `propertyIsEnumerable` returns incorrect result on integer keys\n// of `null` prototype objects\nvar IE_BUG = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-create -- safe\n  var O = Object.create(null);\n  O[2] = 2;\n  return !propertyIsEnumerable(O, 2);\n});\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var IE_WORKAROUND = IE_BUG && objectGetPrototypeOf(O) === null;\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || (IE_WORKAROUND ? key in O : propertyIsEnumerable(O, key))) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg) : false;\n  var element, elementLen;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        elementLen = lengthOfArrayLike(element);\n        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;\n      } else {\n        doesNotExceedSafeInteger(targetIndex + 1);\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"component\",staticClass:\"c-map\"},[_c('div',{ref:\"wrapper\",staticClass:\"u-map__wrapper\",style:(_vm.wrapperSize)},[_c('div',{staticClass:\"u-map__inner\",style:(_vm.innerStyle)},[_c('img',{staticClass:\"u-map-img\",attrs:{\"refs\":\"img\",\"src\":_vm.mapImg,\"draggable\":\"false\"}}),(_vm.overview)?_c('div',{staticClass:\"u-map-title__wrapper\"},[_vm._t(\"title\",function(){return [_c('div',{staticClass:\"u-map-title\"},[_vm._v(_vm._s(_vm.mapName))])]},{\"title\":_vm.mapName})],2):_vm._e(),_vm._l((_vm.datas),function(i,k){return [_c('div',{key:k,staticClass:\"u-map-point__wrapper\",style:(_vm.pointStyle(i)),attrs:{\"data-index\":k}},[_vm._t(\"point\",function(){return [_c('el-popover',{attrs:{\"popper-class\":\"u-map-point__popover\",\"placement\":\"top\",\"width\":\"200\",\"trigger\":\"hover\"}},[_vm._t(\"popover\",function(){return [_c('div',[(!_vm.overview)?_c('div',{staticClass:\"u-map-title\"},[_vm._v(_vm._s(_vm.mapName))]):_vm._e(),_c('div',[_vm._v(_vm._s(i.title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(i.content)}})])]},{\"data\":i}),_c('span',{staticClass:\"u-map-point\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})],2)]},{\"data\":i})],2)]})],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import JX3BOX from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nconst { __imgPath } = JX3BOX;\n\nexport const getMapScales = () => {\n    return fetch(`${__imgPath}/map/data/map_scales.json`).then((res) => res.json());\n};\n","<template>\n    <div ref=\"component\" class=\"c-map\">\n        <div ref=\"wrapper\" class=\"u-map__wrapper\" :style=\"wrapperSize\">\n            <div class=\"u-map__inner\" :style=\"innerStyle\">\n                <img refs=\"img\" class=\"u-map-img\" :src=\"mapImg\" draggable=\"false\" />\n                <div class=\"u-map-title__wrapper\" v-if=\"overview\">\n                    <slot name=\"title\" v-bind:title=\"mapName\">\n                        <div class=\"u-map-title\">{{ mapName }}</div>\n                    </slot>\n                </div>\n                <template v-for=\"(i, k) in datas\">\n                    <div class=\"u-map-point__wrapper\" :style=\"pointStyle(i)\" :key=\"k\" :data-index=\"k\">\n                        <slot name=\"point\" v-bind:data=\"i\">\n                            <el-popover popper-class=\"u-map-point__popover\" placement=\"top\" width=\"200\" trigger=\"hover\">\n                                <slot name=\"popover\" v-bind:data=\"i\">\n                                    <div>\n                                        <div v-if=\"!overview\" class=\"u-map-title\">{{ mapName }}</div>\n                                        <div>{{ i.title }}</div>\n                                        <div v-html=\"i.content\"></div>\n                                    </div>\n                                </slot>\n                                <span slot=\"reference\" class=\"u-map-point\"> </span>\n                            </el-popover>\n                        </slot>\n                    </div>\n                </template>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport jx3boxData from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { getMapScales } from \"../service/data\";\n\nexport default {\n    name: \"Jx3boxMap\",\n    props: {\n        // 地图ID\n        mapId: {\n            type: Number,\n            default: 1,\n        },\n        // 点位数据\n        datas: {\n            type: Array,\n            default: () => [],\n        },\n        overview: {\n            type: Boolean,\n            default: true,\n        },\n        focus: {\n            type: Number,\n            default: undefined,\n        },\n        trimBorder: {\n            type: Boolean,\n            default: false,\n        },\n        mapDraggable: {\n            type: Boolean,\n            default: false,\n        },\n        pointDraggable: {\n            type: Boolean,\n            default: false,\n        },\n        mapFollow: {\n            type: Boolean,\n            default: true,\n        },\n    },\n    data: () => ({\n        outerWidth: 0,\n        outerHeight: 0,\n        innerLeft: 0,\n        innerBottom: 0,\n\n        mapScales: {},\n    }),\n    computed: {\n        // 内层容器宽高\n        innerWidth() {\n            return this.overview ? this.outerWidth : 1024;\n        },\n        innerHeight() {\n            return this.overview ? this.outerHeight : 896;\n        },\n        // 容器尺寸\n        wrapperSize() {\n            return {\n                width: this.outerWidth + \"px\",\n                height: this.outerHeight + \"px\",\n            };\n        },\n        // 中心点\n        focusPoint() {\n            if (this.focus != undefined) {\n                return this.datas[this.focus];\n            } else {\n                return this.datas.find((d) => d.focus) ?? this.datas[0];\n            }\n        },\n        // 内层容器相对外层容器偏移\n        innerStyle() {\n            const style = {\n                width: this.innerWidth + \"px\",\n                height: this.innerHeight + \"px\",\n            };\n            if (this.overview) return style;\n\n            // 边界条件处理\n            const { left, bottom } = this.offsetLimit(this.innerLeft, this.innerBottom);\n            return {\n                ...style,\n                left: left + \"px\",\n                bottom: bottom + \"px\",\n            };\n        },\n        // 地图ID、名称、尺寸、图片等\n        subId() {\n            let scales = this.mapScales[this.mapId];\n            if (!scales || Object.keys(scales) <= 1) return 0;\n            let _sub = 0;\n            let _subScale = 0;\n            for (let sub in scales) {\n                let rect = {\n                    x: scales[sub].StartX,\n                    y: scales[sub].StartY,\n                    width: scales[sub].Width / scales[sub].Scale,\n                    height: scales[sub].Height / scales[sub].Scale,\n                };\n                if (this.isPointsInRect(rect) && scales[sub].Scale > _subScale) {\n                    _sub = sub;\n                    _subScale = scales[sub].Scale;\n                }\n            }\n            return _sub;\n        },\n        mapName() {\n            return this.mapScales[this.mapId]?.[this.subId]?.Name;\n        },\n        mapScale() {\n            return this.mapScales[this.mapId]?.[this.subId];\n        },\n        mapImg() {\n            return `${jx3boxData.__imgPath}map/maps/map_${this.mapId}_${this.subId}.png`;\n        },\n    },\n    mounted() {\n        this.fetchMapScales();\n        this.$nextTick(function () {\n            this.bindUpdateSizeListener();\n            this.bindDraggerListener();\n        });\n    },\n    beforeDestroy() {\n        window.removeEventListener(\"resize\", this.updateSize);\n    },\n    methods: {\n        // 游戏坐标 -> 相对位置\n        pointPosition(item) {\n            const scale = this.mapScale;\n            if (!scale) return { left: 0, bottom: 0 };\n            const Width = scale.Width / scale.Scale;\n            const Height = scale.Height / scale.Scale;\n            const left = ((item.x - scale.StartX) / Width) * this.innerWidth;\n            const bottom = ((item.y - scale.StartY) / Height) * this.innerHeight;\n            return {\n                left,\n                bottom,\n            };\n        },\n        // 相对位置 -> 游戏坐标\n        gamePosition(left, bottom) {\n            const scale = this.mapScale;\n            if (!scale) return { x: 0, y: 0 };\n            const Width = scale.Width / scale.Scale;\n            const Height = scale.Height / scale.Scale;\n            const x = (left / this.innerWidth) * Width + scale.StartX;\n            const y = (bottom / this.innerHeight) * Height + scale.StartY;\n            return {\n                x,\n                y,\n            };\n        },\n        pointStyle(item) {\n            const { left, bottom } = this.pointPosition(item);\n            return {\n                left: left + \"px\",\n                bottom: bottom + \"px\",\n            };\n        },\n        isPointsInRect(rect) {\n            let points = this.datas.map((p) => {\n                return {\n                    x: p.x,\n                    y: p.y,\n                };\n            });\n            return points.every((p) => {\n                return p.x >= rect.x && p.x <= rect.x + rect.width && p.y >= rect.y && p.y <= rect.y + rect.height;\n            });\n        },\n        initInnerOffset(centerPoint) {\n            if (this.overview) return { x: 0, y: 0 };\n            // 外层容器的中心点\n            const outerCenter = {\n                x: this.outerWidth / 2,\n                y: this.outerHeight / 2,\n            };\n            // 要展示的点相对内层容器的偏移\n            const positionOffset = this.pointPosition(centerPoint);\n            this.innerLeft = outerCenter.x - positionOffset.left;\n            this.innerBottom = outerCenter.y - positionOffset.bottom;\n        },\n        // 获取地图尺寸数据\n        fetchMapScales() {\n            getMapScales().then((data) => {\n                this.mapScales = data;\n                this.initInnerOffset(this.focusPoint);\n            });\n        },\n        // 自适应组件尺寸\n        updateSize() {\n            this.outerWidth = this.$refs[\"component\"]?.clientWidth;\n            if (!this.outerWidth) return;\n            if (this.overview) {\n                this.outerHeight = this.outerWidth / (1024 / 896);\n            } else {\n                this.outerHeight = this.$refs[\"component\"]?.clientHeight;\n            }\n            this.$emit(\"resize\", [this.outerWidth, this.outerHeight]);\n        },\n        bindUpdateSizeListener() {\n            const component = this.$refs[\"component\"];\n            if (!component) return;\n            this.updateSize();\n            component.addEventListener(\"resize\", this.updateSize);\n        },\n        // 拖拽事件处理\n        bindDraggerListener() {\n            if (!this.mapDraggable && !this.pointDraggable) return;\n            const wrapper = this.$refs[\"wrapper\"];\n            if (!wrapper) return;\n\n            let store = {};\n            const targetIsPoint = (e) => {\n                let { target } = e;\n                while (!target.classList.contains(\"u-map__wrapper\")) {\n                    if (target.classList.contains(\"u-map-point__wrapper\")) {\n                        store.pointIndex = Number(target.dataset[\"index\"]);\n                        return true;\n                    }\n                    target = target.parentNode;\n                }\n                return false;\n            };\n            const mapMoveHandler = (e) => {\n                const { clientX, clientY } = e;\n                store.dx = clientX - store.x;\n                store.dy = store.y - clientY;\n                const { left, bottom } = this.offsetLimit(store.px + store.dx, store.py + store.dy);\n\n                this.innerLeft = left;\n                this.innerBottom = bottom;\n            };\n            const pointMoveHandler = (e) => {\n                const { clientX, clientY } = e;\n                const point = this.datas[store.pointIndex];\n                const scale = this.mapScale;\n                store.dx = (clientX - store.x) / scale.Scale;\n                store.dy = (store.y - clientY) / scale.Scale;\n                const { x, y } = this.positionLimit(store.px + store.dx, store.py + store.dy);\n                point.x = x;\n                point.y = y;\n            };\n            const clickHandler = (e) => {\n                store = {};\n                const { clientX, clientY } = e;\n                store.x = clientX;\n                store.y = clientY;\n                if (targetIsPoint(e)) {\n                    // 拖动点\n                    if (!this.pointDraggable) return;\n                    store.point = this.datas[store.pointIndex];\n                    store.type = \"point-move\";\n                    store.px = store.point.x;\n                    store.py = store.point.y;\n\n                    document.addEventListener(\"mousemove\", pointMoveHandler);\n                    document.addEventListener(\"mouseup\", removeListener);\n                } else {\n                    // 拖动地图\n                    if (!this.mapDraggable) return;\n                    store.type = \"map-move\";\n                    store.px = this.innerLeft;\n                    store.py = this.innerBottom;\n\n                    document.addEventListener(\"mousemove\", mapMoveHandler);\n                    document.addEventListener(\"mouseup\", removeListener);\n                }\n            };\n            const removeListener = () => {\n                document.removeEventListener(\"mousemove\", mapMoveHandler);\n                document.removeEventListener(\"mousemove\", pointMoveHandler);\n                document.removeEventListener(\"mouseup\", removeListener);\n\n                if (!store.dx && !store.dy) return;\n                this.$emit(store.type, store);\n\n                if (this.mapFollow && store.type == \"point-move\") {\n                    this.initInnerOffset(store.point);\n                }\n            };\n            wrapper.addEventListener(\"mousedown\", clickHandler);\n        },\n        offsetLimit(left, bottom) {\n            const maxLeft = 0;\n            const minLeft = this.outerWidth - this.innerWidth;\n            const maxBottom = 0;\n            const minBottom = this.outerHeight - this.innerHeight;\n            return {\n                left: Math.max(Math.min(left, maxLeft), minLeft),\n                bottom: Math.max(Math.min(bottom, maxBottom), minBottom),\n            };\n        },\n        positionLimit(x, y) {\n            const minX = this.mapScale.StartX;\n            const maxX = this.mapScale.StartX + this.mapScale.Width / this.mapScale.Scale - 1024;\n            const minY = this.mapScale.StartY;\n            const maxY = this.mapScale.StartY + this.mapScale.Height / this.mapScale.Scale - 1024;\n            return {\n                x: Math.max(Math.min(x, maxX), minX),\n                y: Math.max(Math.min(y, maxY), minY),\n            };\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import \"../assets/map.less\";\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./Map.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./Map.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=17f22fc4&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=17f22fc4&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17f22fc4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=style&index=0&id=e00c42d6&prod&lang=less\"","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./Map.vue?vue&type=style&index=0&id=17f22fc4&prod&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=style&index=0&id=3ce08ef2&prod&lang=less\"","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\nvar REDUCE_EMPTY = 'Reduce of empty array with no initial value';\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    aCallable(callbackfn);\n    if (length === 0 && argumentsLength < 2) throw new $TypeError(REDUCE_EMPTY);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw new $TypeError(REDUCE_EMPTY);\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"bookSingleWrap\",staticClass:\"book-single-wrapper m-single-wrapper\"},[_c('div',{staticClass:\"back-wrap\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"返回列表\")])],1),(_vm.book)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"book-single-content\"},[_c('div',{staticClass:\"book-header\"},[_c('h2',{staticClass:\"book-title\"},[_vm._v(_vm._s(_vm.book.Name))]),_c('p',{staticClass:\"book-desc\",domProps:{\"innerHTML\":_vm._s(_vm.book.Desc)}})]),_c('div',{staticClass:\"book-detail-wrapper\"},[_c('div',{staticClass:\"book-info\"},[_c('p',{staticClass:\"u-subtitle\"},[_c('svg',{attrs:{\"width\":\"23\",\"height\":\"18\",\"viewBox\":\"0 0 23 18\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M14.112.744l7.444 3.761a1.51 1.51 0 01.763 1.775c-.39 1.331-.347 1.89-.092 2.521.257.638.08 1.449-.587 1.87l-10.284 6.51c-.43.273-.98.315-1.457.082l-3.84-1.895-1.604-.805-1.14-.582-.696-.365-.36-.196-.26-.15C.978 12.655.66 11.405.665 10.45c.004-.971.338-2.184 1.265-2.85l.3-.207.858-.561 2.045-1.306L12.642.811a1.499 1.499 0 011.47-.067zm5.921 6.944l-8.673 5.49-.108.063-.11.052c-.11.408-.149.701-.145.973.002.162.02.328.055.517l.042.197 9.148-5.79-.072-.249a4.267 4.267 0 01-.138-.996l.001-.257zM2.8 9.678c-.09.25-.136.514-.134.78-.003.672.237 1.023.365 1.1l.308.175.626.333 1.77.903L9.01 14.6a5.01 5.01 0 01.1-1.416l.067-.288L2.8 9.678zm11.164-5.764a1 1 0 00-1.028 1.712l.1.06 2.1 1.1a1 1 0 001.028-1.712l-.1-.06-2.1-1.1z\",\"fill\":\"#24292E\"}})]),_c('span',[_vm._v(\"书籍信息\")])]),_c('div',{staticClass:\"u-book-info\"},[(!['其它', '碑铭'].includes(_vm.getOrigin(_vm.book)))?_c('div',{staticClass:\"u-item book-origin\"},[_vm._v(\" 来源： \"),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"popper-class\":\"book-notice-tooltip\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[(_vm.getOrigin(_vm.book).indexOf('秘境') > -1)?[_c('div',{staticClass:\"u-detail-item\"},[_vm._v(\"秘境\")]),_c('div',{staticClass:\"book-fb\",domProps:{\"innerHTML\":_vm._s(_vm.getBossOrigin(_vm.book))}})]:_vm._e(),(_vm.getOrigin(_vm.book).indexOf('商店') > -1)?[_c('div',{staticClass:\"u-detail-item\"},[_vm._v(\"商店\")]),_c('div',{staticClass:\"book-shop\",domProps:{\"innerHTML\":_vm._s(_vm.getShopOrigin(_vm.book))}})]:_vm._e(),(_vm.getOrigin(_vm.book).indexOf('任务') > -1)?[_c('div',{staticClass:\"u-detail-item\"},[_vm._v(\"任务\")]),_c('div',{staticClass:\"book-quest\"},_vm._l((_vm.getQuestOrigin(_vm.book)),function(item){return _c('div',{key:item.questId,staticClass:\"quest-item\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('quest', item.questId)}},[_vm._v(\" [\"+_vm._s(item.questName)+\"]\")])])}),0)]:_vm._e()],2),_c('span',{class:_vm.getOrigin(_vm.book) !== '其它' && 'book-special'},[_vm._v(_vm._s(_vm.getOrigin(_vm.book)))])])],1):_c('div',{staticClass:\"u-info-item\"},[_vm._v(\" 来源：\"),(_vm.getOrigin(_vm.book) === '碑铭')?_c('span',{staticClass:\"book-special\"},[_vm._v(_vm._s(_vm.getOrigin(_vm.book))+\" \"),(_vm.bookMapSite.length)?_c('a',{staticClass:\"look-site\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"查看位置\")]):_vm._e()]):_c('span',[_vm._v(_vm._s(_vm.getOrigin(_vm.book)))])]),_c('div',{staticClass:\"u-info-item\"},[_vm._v(\" 所属套书：\"+_vm._s(\"【\" + _vm.getProfessionType(_vm.book.ExtendProfessionID1) + \"】\" + _vm.book.BookName)+\" \")]),_c('div',{staticClass:\"u-info-item\"},[_vm._v(\"阅读等级：\"+_vm._s(_vm.book.RequireLevel))])]),(_vm.book.copy && _vm.book.copy.ID)?[_c('p',{staticClass:\"u-subtitle\"},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 16 16\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('mask',{staticStyle:{\"mask-type\":\"luminance\"},attrs:{\"id\":\"a\",\"maskUnits\":\"userSpaceOnUse\",\"x\":\"0\",\"y\":\"0\",\"width\":\"16\",\"height\":\"16\"}},[_c('path',{attrs:{\"d\":\"M1 15h3L15 4l-3-3L1 12v3z\",\"fill\":\"#fff\",\"stroke\":\"#fff\",\"stroke-width\":\"1.5\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 4l3 3z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M9 4l3 3\",\"stroke\":\"#fff\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('g',{attrs:{\"mask\":\"url(#a)\"}},[_c('path',{attrs:{\"d\":\"M-.883-.38h16.97v16.971H-.882V-.379z\",\"fill\":\"#000\"}})])]),_c('span',[_vm._v(\"抄录要求\")])]),_c('div',{staticClass:\"u-book-info\"},[_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"角色等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequirePlayerLevel))])]),_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"阅读等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequireLevel))])]),_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(_vm._s(_vm.getProfessionType(_vm.book.ExtendProfessionID1))+\"等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequireLevelExt))])]),_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"精力消耗：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.CostVigor))])]),(_vm.book.copyList.length)?_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"所需材料：\")]),_vm._l((_vm.book.copyList),function(meterial){return _c('item-icon',{key:meterial.item_id,attrs:{\"item_id\":meterial.item_id,\"size\":28,\"amount\":meterial.count,\"onlyIcon\":true}})})],2):_vm._e()])]:_vm._e()],2),(_vm.book.contentInfo)?_c('div',{staticClass:\"book-content-wrapper\",class:`book-content-wrapper-${_vm.book.ExtendProfessionID1}`},[_c('div',{staticClass:\"right-div\"}),(/^\\d+$/g.test(_vm.book.contentInfo))?_c('div',{staticClass:\"book-content\",class:/^\\d+$/g.test(_vm.book.contentInfo) && 'img-content'},[_c('img',{attrs:{\"src\":_vm.iconLink(_vm.book.contentInfo, _vm.client),\"alt\":_vm.iconLink(_vm.book.contentInfo, _vm.client)}})]):[_c('div',{ref:\"bookWrap\",staticClass:\"book-content\",class:_vm.isVertical ? 'vertical' : 'row'},[_c('div',{ref:\"bookTitle\",staticClass:\"title\"},[_vm._v(_vm._s(_vm.book.Name))]),_c('div',{ref:\"bookContent\",staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.book.contentInfo)}})]),(_vm.arrowShow)?_c('div',{staticClass:\"buttons\",class:_vm.isVertical ? 'vertical' : 'row'},[_c('div',{staticClass:\"left\",class:_vm.noMore && 'disabled',on:{\"click\":_vm.toMore}},[_c('i',{class:_vm.isVertical ? 'el-icon-arrow-left' : 'el-icon-arrow-down'})]),_c('div',{staticClass:\"right\",class:_vm.noBack && 'disabled',on:{\"click\":_vm.toBack}},[_c('i',{class:_vm.isVertical ? 'el-icon-arrow-right' : 'el-icon-arrow-up'})])]):_vm._e(),_c('div',{staticClass:\"switch\",on:{\"click\":_vm.toSwitch}},[_vm._v(_vm._s(_vm.isVertical ? \"古风\" : \"现代\"))])]],2):_vm._e()]),(_vm.bookList.length)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticClass:\"m-book-list\"},[_c('div',{staticClass:\"u-title\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"套书·\"+_vm._s(_vm.book.BookName))]),(_vm.book.AchievementID)?_c('a',{staticClass:\"book-achievement\",attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('achievement', _vm.book.AchievementID)}},[_c('i',{staticClass:\"el-icon-warning\"}),_c('span',[_vm._v(\"该套书有成就\")])]):_vm._e()]),_c('div',{staticClass:\"book-list-wrapper\"},[_c('div',{staticClass:\"book-list-content\"},_vm._l((_vm.bookList),function(item,index){return _c('BookCard',{key:item.idKey + index,attrs:{\"item\":item}})}),1)])]):_vm._e()]):_vm._e(),_c('pvx-user',{attrs:{\"id\":_vm.id,\"name\":\"书籍\",\"type\":\"item\"}}),_c('el-dialog',{attrs:{\"title\":\"碑铭位置\",\"visible\":_vm.dialogVisible,\"width\":_vm.isPhone() ? '90%' : '38%',\"center\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"m-book-map\"},[(_vm.bookMapSite.length)?_c('jx3box-map',{staticClass:\"u-content\",attrs:{\"map-id\":parseInt(_vm.bookMapSite[0].map),\"datas\":_vm.bookMapSite[0].position}}):_vm._e()],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"bookSingleWrap\" class=\"book-single-wrapper m-single-wrapper\">\n        <div class=\"back-wrap\">\n            <el-button @click=\"goBack\">返回列表</el-button>\n        </div>\n        <div v-if=\"book\" class=\"book-single-content\" v-loading=\"loading\">\n            <div class=\"book-header\">\n                <h2 class=\"book-title\">{{ book.Name }}</h2>\n                <p class=\"book-desc\" v-html=\"book.Desc\"></p>\n            </div>\n            <div class=\"book-detail-wrapper\">\n                <div class=\"book-info\">\n                    <p class=\"u-subtitle\">\n                        <svg width=\"23\" height=\"18\" viewBox=\"0 0 23 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.112.744l7.444 3.761a1.51 1.51 0 01.763 1.775c-.39 1.331-.347 1.89-.092 2.521.257.638.08 1.449-.587 1.87l-10.284 6.51c-.43.273-.98.315-1.457.082l-3.84-1.895-1.604-.805-1.14-.582-.696-.365-.36-.196-.26-.15C.978 12.655.66 11.405.665 10.45c.004-.971.338-2.184 1.265-2.85l.3-.207.858-.561 2.045-1.306L12.642.811a1.499 1.499 0 011.47-.067zm5.921 6.944l-8.673 5.49-.108.063-.11.052c-.11.408-.149.701-.145.973.002.162.02.328.055.517l.042.197 9.148-5.79-.072-.249a4.267 4.267 0 01-.138-.996l.001-.257zM2.8 9.678c-.09.25-.136.514-.134.78-.003.672.237 1.023.365 1.1l.308.175.626.333 1.77.903L9.01 14.6a5.01 5.01 0 01.1-1.416l.067-.288L2.8 9.678zm11.164-5.764a1 1 0 00-1.028 1.712l.1.06 2.1 1.1a1 1 0 001.028-1.712l-.1-.06-2.1-1.1z\" fill=\"#24292E\"/></svg>\n                        <span>书籍信息</span>\n                    </p>\n                    <div class=\"u-book-info\">\n                        <div v-if=\"!['其它', '碑铭'].includes(getOrigin(book))\" class=\"u-item book-origin\">\n                            来源：\n                            <el-tooltip placement=\"top\" popper-class=\"book-notice-tooltip\">\n                                <div slot=\"content\">\n                                    <template v-if=\"getOrigin(book).indexOf('秘境') > -1\">\n                                        <div class=\"u-detail-item\">秘境</div>\n                                        <div class=\"book-fb\" v-html=\"getBossOrigin(book)\"></div>\n                                    </template>\n                                    <template v-if=\"getOrigin(book).indexOf('商店') > -1\">\n                                        <div class=\"u-detail-item\">商店</div>\n                                        <div class=\"book-shop\" v-html=\"getShopOrigin(book)\"></div>\n                                    </template>\n                                    <template v-if=\"getOrigin(book).indexOf('任务') > -1\">\n                                        <div class=\"u-detail-item\">任务</div>\n                                        <div class=\"book-quest\">\n                                            <div\n                                                class=\"quest-item\"\n                                                v-for=\"item in getQuestOrigin(book)\"\n                                                :key=\"item.questId\"\n                                            >\n                                                <a target=\"_blank\" :href=\"getLink('quest', item.questId)\">\n                                                    [{{ item.questName }}]</a\n                                                >\n                                            </div>\n                                        </div>\n                                    </template>\n                                </div>\n                                <span :class=\"getOrigin(book) !== '其它' && 'book-special'\">{{ getOrigin(book) }}</span>\n                            </el-tooltip>\n                        </div>\n                        <div v-else class=\"u-info-item\">\n                            来源：<span v-if=\"getOrigin(book) === '碑铭'\" class=\"book-special\"\n                                >{{ getOrigin(book) }}\n                                <a\n                                    class=\"look-site\"\n                                    href=\"javascript:;\"\n                                    v-if=\"bookMapSite.length\"\n                                    @click=\"dialogVisible = true\"\n                                    >查看位置</a\n                                >\n                            </span>\n                            <!-- 其它 -->\n                            <span v-else>{{ getOrigin(book) }}</span>\n                        </div>\n                        <div class=\"u-info-item\">\n                            所属套书：{{ \"【\" + getProfessionType(book.ExtendProfessionID1) + \"】\" + book.BookName }}\n                        </div>\n                        <div class=\"u-info-item\">阅读等级：{{ book.RequireLevel }}</div>\n                    </div>\n                    <template v-if=\"book.copy && book.copy.ID\">\n                        <p class=\"u-subtitle\">\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><mask id=\"a\" style=\"mask-type:luminance\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"><path d=\"M1 15h3L15 4l-3-3L1 12v3z\" fill=\"#fff\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linejoin=\"round\"/><path d=\"M9 4l3 3z\" fill=\"#fff\"/><path d=\"M9 4l3 3\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></mask><g mask=\"url(#a)\"><path d=\"M-.883-.38h16.97v16.971H-.882V-.379z\" fill=\"#000\"/></g></svg>\n                            <span>抄录要求</span>\n                        </p>\n                        <div class=\"u-book-info\">\n                            <div class=\"u-info-item\">\n                                <span>角色等级：</span>\n                                <span>{{ book.copy.RequirePlayerLevel }}</span>\n                            </div>\n                            <div class=\"u-info-item\">\n                                <span>阅读等级：</span>\n                                <span>{{ book.copy.RequireLevel }}</span>\n                            </div>\n                            <div class=\"u-info-item\">\n                                <span>{{ getProfessionType(book.ExtendProfessionID1) }}等级：</span>\n                                <span>{{ book.copy.RequireLevelExt }}</span>\n                            </div>\n                            <div class=\"u-info-item\">\n                                <span>精力消耗：</span>\n                                <span>{{ book.copy.CostVigor }}</span>\n                            </div>\n                            <div v-if=\"book.copyList.length\" class=\"u-info-item\">\n                                <span>所需材料：</span>\n                                <item-icon\n                                    v-for=\"meterial in book.copyList\"\n                                    :key=\"meterial.item_id\"\n                                    :item_id=\"meterial.item_id\"\n                                    :size=\"28\"\n                                    :amount=\"meterial.count\"\n                                    :onlyIcon=\"true\"\n                                ></item-icon>\n                            </div>\n                        </div>\n                    </template>\n                </div>\n                <div\n                    v-if=\"book.contentInfo\"\n                    class=\"book-content-wrapper\"\n                    :class=\"`book-content-wrapper-${book.ExtendProfessionID1}`\"\n                >\n                    <div class=\"right-div\"></div>\n                    <div\n                        v-if=\"/^\\d+$/g.test(book.contentInfo)\"\n                        class=\"book-content\"\n                        :class=\"/^\\d+$/g.test(book.contentInfo) && 'img-content'\"\n                    >\n                        <img :src=\"iconLink(book.contentInfo, client)\" :alt=\"iconLink(book.contentInfo, client)\" />\n                    </div>\n                    <template v-else>\n                        <div ref=\"bookWrap\" class=\"book-content\" :class=\"isVertical ? 'vertical' : 'row'\">\n                            <div ref=\"bookTitle\" class=\"title\">{{ book.Name }}</div>\n                            <div ref=\"bookContent\" class=\"content\" v-html=\"book.contentInfo\"></div>\n                        </div>\n                        <div v-if=\"arrowShow\" class=\"buttons\" :class=\"isVertical ? 'vertical' : 'row'\">\n                            <div class=\"left\" :class=\"noMore && 'disabled'\" @click=\"toMore\">\n                                <i :class=\"isVertical ? 'el-icon-arrow-left' : 'el-icon-arrow-down'\"></i>\n                                <!-- <span>继续</span> -->\n                            </div>\n                            <div class=\"right\" :class=\"noBack && 'disabled'\" @click=\"toBack\">\n                                <!-- <span>返回</span> -->\n                                <i :class=\"isVertical ? 'el-icon-arrow-right' : 'el-icon-arrow-up'\"></i>\n                            </div>\n                        </div>\n                        <div class=\"switch\" @click=\"toSwitch\">{{ isVertical ? \"古风\" : \"现代\" }}</div>\n                    </template>\n                </div>\n            </div>\n            <!-- 套书列表 -->\n            <div v-if=\"bookList.length\" class=\"m-book-list\" v-loading=\"listLoading\">\n                <div class=\"u-title\">\n                    <span class=\"title\">套书·{{ book.BookName }}</span>\n                    <a\n                        v-if=\"book.AchievementID\"\n                        class=\"book-achievement\"\n                        target=\"_blank\"\n                        :href=\"getLink('achievement', book.AchievementID)\"\n                    >\n                        <!-- [{{ book.achievement ? book.achievement.Name : \"\" }}] -->\n                        <i class=\"el-icon-warning\"></i>\n                        <span>该套书有成就</span>\n                    </a>\n                </div>\n                <div class=\"book-list-wrapper\">\n                    <div class=\"book-list-content\">\n                        <BookCard :item=\"item\" v-for=\"(item, index) in bookList\" :key=\"item.idKey + index\"></BookCard>\n                    </div>\n                </div>\n            </div>\n            <!-- 碑铭信息 -->\n            <!-- <div v-if=\"bookMapSite.length\" class=\"m-book-map\">\n                <div class=\"u-title\">\n                    <span class=\"u-txt\">碑铭信息</span>\n                </div>\n                <jx3box-map\n                    class=\"u-content\"\n                    :map-id=\"parseInt(bookMapSite[0].map)\"\n                    :datas=\"bookMapSite[0].position\"\n                ></jx3box-map>\n            </div> -->\n        </div>\n        <!-- 包含攻略、评论、历史版本、点赞等 书籍，宠物等物品为item, 声望成就等为achievement -->\n        <pvx-user :id=\"id\" name=\"书籍\" type=\"item\"></pvx-user>\n        <!-- 碑铭信息 -->\n        <el-dialog\n            title=\"碑铭位置\"\n            :visible.sync=\"dialogVisible\"\n            :width=\"isPhone() ? '90%' : '38%'\"\n            center\n            destroy-on-close\n        >\n            <div class=\"m-book-map\">\n                <jx3box-map\n                    v-if=\"bookMapSite.length\"\n                    class=\"u-content\"\n                    :map-id=\"parseInt(bookMapSite[0].map)\"\n                    :datas=\"bookMapSite[0].position\"\n                ></jx3box-map>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport Jx3boxMap from \"@jx3box/jx3box-map/src/components/Map.vue\";\nimport ItemIcon from \"@/components/book/common/item_icon.vue\";\nimport BookCard from \"@/components/book/BookCard\";\nimport PvxUser from \"@/components/PvxUser.vue\";\n\nimport bookProfession from \"@/assets/data/book_profession.json\";\n// 碑铭坐标json\nimport bookMapInfoStd from \"@/assets/data/stele_std_fwd.json\";\nimport bookMapInfoOrigin from \"@/assets/data/stele_origin_fwd.json\";\n\n// 副本地图json\nimport maps_std from \"@jx3box/jx3box-data/data/fb/fb_map.json\";\nimport maps_orgin from \"@jx3box/jx3box-data/data/fb/fb_map_origin.json\";\n\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nimport { getLink, iconLink } from \"@jx3box/jx3box-common/js/utils\";\n\nimport { getInfo, getList } from \"@/service/book\";\nimport { isPhone } from \"@/utils/index\";\n\nexport default {\n    name: \"bookSingle\",\n    components: { Jx3boxMap, BookCard, ItemIcon, PvxUser },\n    data() {\n        return {\n            compatible: false,\n            is_empty: true,\n            // 是否古风\n            isVertical: true,\n            arrowShow: false,\n            book: {\n                idKey: \"\",\n                Name: \"\",\n                Desc: \"\",\n                BookName: \"\",\n                contentInfo: \"\",\n            },\n            loading: false,\n            bookMapSite: [], // 碑铭点位信息\n            listLoading: false,\n            bookList: [],\n            dialogVisible: false,\n            // 是否还有更多\n            noMore: false,\n            // 是否还可以返回\n            noBack: true,\n        };\n    },\n    methods: {\n        toSwitch() {\n            this.isVertical = !this.isVertical;\n            this.noBack = true;\n            this.noMore = false;\n        },\n        isPhone,\n        toMore() {\n            const isVertical = this.isVertical;\n            const bookWrap = this.$refs.bookWrap;\n            if (isVertical) {\n                // 当前为古风\n                const sW = bookWrap.scrollWidth;\n                const sLeft = bookWrap.scrollLeft;\n                const cW = bookWrap.clientWidth;\n                const step = Math.ceil(cW / 4);\n                if (sW + sLeft > cW) {\n                    // 没到尽头\n                    bookWrap.scrollBy({\n                        left: -step,\n                        behavior: \"smooth\",\n                    });\n                    this.noMore = false;\n                    this.noBack = false;\n                } else {\n                    this.noMore = true;\n                    this.noBack = false;\n                }\n            } else {\n                // 当前为现代\n                const sH = bookWrap.scrollHeight;\n                const sTop = bookWrap.scrollTop;\n                const cH = bookWrap.clientHeight;\n                const step = Math.ceil(cH / 2);\n                if (sH - sTop > cH) {\n                    // 没到底\n                    bookWrap.scrollBy({\n                        top: step,\n                        behavior: \"smooth\",\n                    });\n                    this.noMore = false;\n                    this.noBack = false;\n                } else {\n                    this.noMore = true;\n                    this.noBack = false;\n                }\n            }\n        },\n        toBack() {\n            const isVertical = this.isVertical;\n            const bookWrap = this.$refs.bookWrap;\n            if (isVertical) {\n                // 当前为古风\n                const sLeft = bookWrap.scrollLeft;\n                const cW = bookWrap.clientWidth;\n                const step = Math.ceil(cW / 4);\n                if (sLeft < 0) {\n                    // 没到尽头\n                    bookWrap.scrollBy({\n                        left: step,\n                        behavior: \"smooth\",\n                    });\n                    this.noBack = false;\n                    this.noMore = false;\n                } else {\n                    this.noBack = true;\n                    this.noMore = false;\n                }\n            } else {\n                // 当前为现代\n                const sTop = bookWrap.scrollTop;\n                const cH = bookWrap.clientHeight;\n                const step = Math.ceil(cH / 2);\n                if (sTop > 0) {\n                    // 没到顶\n                    bookWrap.scrollBy({\n                        top: -step,\n                        behavior: \"smooth\",\n                    });\n                    this.noBack = false;\n                    this.noMore = false;\n                } else {\n                    this.noBack = true;\n                    this.noMore = false;\n                }\n            }\n        },\n        goBack() {\n            this.$router.push({ path: \"/\" });\n        },\n        iconLink,\n        getBossOrigin(book) {\n            const fbMaps = this.client === \"std\" ? maps_std : maps_orgin;\n            const maps = Object.values(fbMaps)\n                .map((item) => Object.values(item.dungeon))\n                .reduce(function (a, b) {\n                    return a.concat(b);\n                })\n                .map((item) => {\n                    return item.maps.map((mItem) => {\n                        return {\n                            map_id: Number(mItem.map_id),\n                            name: mItem.mode + item.name,\n                        };\n                    });\n                })\n                .flat();\n            const drops = book?.drops;\n            if (drops && drops.length) {\n                let orgin = \"\";\n                drops.forEach((item) => {\n                    orgin =\n                        orgin +\n                        (orgin ? \"<br />\" : \"\") +\n                        (\"[\" + item.BossName + \"]\") +\n                        (maps.find((mItem) => mItem.map_id === item.MapID)\n                            ? \"(\" + maps.find((mItem) => mItem.map_id === item.MapID).name + \")\"\n                            : \"\");\n                });\n                return orgin;\n            }\n            return \"\";\n        },\n        getShopOrigin(book) {\n            let shopNames = book?.ShopNames;\n            if (shopNames) {\n                shopNames = shopNames.replace(/\\|/g, \"<br />\");\n            }\n            return shopNames;\n        },\n        getQuestOrigin(book) {\n            const quests = book?.Quests;\n            let questList = [];\n            if (quests) {\n                questList = quests.split(\";\").map((item) => {\n                    if (item.indexOf(\":\") > -1) {\n                        return {\n                            questId: item.split(\":\")[0],\n                            questName: item.split(\":\")[1],\n                        };\n                    }\n                });\n            }\n            return questList;\n        },\n        getOrigin(item) {\n            const tempId = item.DoodadTemplateID;\n            const ShopNames = item?.ShopNames;\n            const drops = item.drops || [];\n            const quests = item?.Quests;\n            let orgin = \"\";\n            if (tempId) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + (this.bookMapInfo[tempId] ? \"碑铭\" : \"其它\");\n            }\n            if (ShopNames) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"商店\";\n            }\n            if (drops.length) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"秘境\";\n            }\n            if (quests) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"任务\";\n            }\n            if (!orgin) {\n                orgin = \"其它\";\n            }\n            return orgin;\n        },\n        getProfessionType(type) {\n            return bookProfession.find((item) => item.id === Number(type))\n                ? bookProfession.find((item) => item.id === Number(type)).name\n                : \"\";\n        },\n        getData() {\n            this.loading = true;\n            getInfo({\n                id: this.idKey,\n                client: this.client,\n            })\n                .then((res) => {\n                    const data = res.data;\n                    data.contentInfo = data.contents.map((item) => item.content.replace(/\\\\n/g, \"<br>\")).join(\"<br>\");\n                    if (data.DoodadTemplateID && this.bookMapInfo[data.DoodadTemplateID]) {\n                        this.bookMapSite = this.bookMapInfo[data.DoodadTemplateID];\n                        this.bookMapSite[0].position[0] = Object.assign(this.bookMapSite[0].position[0], {\n                            title: data.Name,\n                            content: `坐标：(${this.bookMapSite[0].position[0].x},${this.bookMapSite[0].position[0].y},${this.bookMapSite[0].position[0].z})`,\n                        });\n                    }\n                    if (data?.copy?.ID) {\n                        const keyArr = Object.keys(data.copy).filter((key) => key.indexOf(\"RequireItem\") > -1);\n                        let len = parseInt(keyArr.length / 3);\n                        data.copyList = [];\n                        for (let i = 1; i <= len; i++) {\n                            if (data.copy[\"RequireItemType\" + i]) {\n                                data.copyList.push({\n                                    item_id: data.copy[\"RequireItemType\" + i] + \"_\" + data.copy[\"RequireItemIndex\" + i],\n                                    count: data.copy[\"RequireItemCount\" + i],\n                                });\n                            }\n                        }\n                    }\n                    this.book = data;\n                    // 保存最近阅读\n                    const recentBook = {\n                        idKey: data.idKey,\n                        Name: data.Name,\n                        Desc: data.Desc,\n                        ExtendProfessionID1: data.ExtendProfessionID1,\n                    };\n                    this.$store.dispatch(\"setRecentReadList\", recentBook);\n                    // 保存当前书籍类型\n                    this.$store.dispatch(\"setCurrentBookType\", data.ExtendProfessionID1);\n                    // 获取套书列表\n                    this.getBookList(data.BookName);\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        getBookList(keyword) {\n            const params = {\n                page: 1,\n                pageSize: isPhone() ? 8 : 16,\n                client: this.client,\n                keyword,\n            };\n            this.$nextTick(() => {\n                // const listWidth = this.$refs.bookSingleWrap?.clientWidth;\n                // if (!isPhone() && Math.floor(listWidth / 210) < params.pageSize) {\n                //     params.pageSize = Math.floor(listWidth / 210);\n                // }\n                this.listLoading = true;\n                getList(params)\n                    .then((res) => {\n                        this.bookList = res.data.list || [];\n                        this.listLoading = false;\n                    })\n                    .finally(() => {\n                        this.listLoading = false;\n                    });\n            });\n        },\n        getLink,\n    },\n    mounted() {\n        this.getData();\n    },\n    computed: {\n        idKey: function () {\n            return this.$route.params.id;\n        },\n        id: function () {\n            return this.book?.ItemID;\n        },\n        client() {\n            return this.$store.state.client;\n        },\n        bookMapInfo() {\n            return this.client === \"std\" ? bookMapInfoStd : bookMapInfoOrigin;\n        },\n    },\n    watch: {\n        idKey() {\n            this.getData();\n        },\n        id() {\n            if (!/^\\d+$/g.test(this.book.contentInfo)) {\n                // 非图片\n                this.$nextTick(() => {\n                    const wrapSW = this.$refs.bookWrap.scrollWidth;\n                    const wrapCW = this.$refs.bookWrap.clientWidth;\n                    if (wrapSW > wrapCW) {\n                        this.arrowShow = true;\n                    }\n                });\n            }\n        },\n        isVertical(bol) {\n            if (!/^\\d+$/g.test(this.book.contentInfo)) {\n                // 非图片\n                if (bol) {\n                    // 竖版\n                    this.$nextTick(() => {\n                        const wrapSW = this.$refs.bookWrap.scrollWidth;\n                        const wrapCW = this.$refs.bookWrap.clientWidth;\n                        this.arrowShow = wrapSW > wrapCW;\n                    });\n                } else {\n                    this.$nextTick(() => {\n                        const wrapSH = this.$refs.bookWrap.scrollHeight;\n                        const wrapCH = this.$refs.bookWrap.clientHeight;\n                        this.arrowShow = wrapSH > wrapCH;\n                    });\n                }\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/single.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Single.vue?vue&type=template&id=3ce08ef2\"\nimport script from \"./Single.vue?vue&type=script&lang=js\"\nexport * from \"./Single.vue?vue&type=script&lang=js\"\nimport style0 from \"./Single.vue?vue&type=style&index=0&id=3ce08ef2&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function deleteNull(obj) {\r\n    if (Object.prototype.toString.call(obj) === \"[object Object]\") {\r\n        for (const key in obj) {\r\n            if ([undefined, null, \"\"].includes(obj[key])) {\r\n                delete obj[key];\r\n            }\r\n        }\r\n        return obj;\r\n    } else {\r\n        return obj;\r\n    }\r\n}\r\n\r\nexport function isPhone() {\r\n    let mobile = navigator.userAgent.match(\r\n        /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i\r\n    );\r\n    return mobile !== null;\r\n}\r\n\r\n// 多字段排序 - 数值\r\nexport function sortBy(filed1, filed2) {\r\n    return function (a, b) {\r\n        if (a[filed1] === b[filed1]) {\r\n            return a[filed2] - b[filed2];\r\n        }\r\n        return a[filed1] - b[filed1];\r\n    };\r\n}\r\n"],"sourceRoot":""}