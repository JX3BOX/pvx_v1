(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3958a8e"],{"13dd":function(t,a,e){"use strict";e("959e")},"28cc":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-homeland-furniture"},[e("div",{staticClass:"m-navigation"},[e("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("è¿”å›žåˆ—è¡¨")]),e("div",{staticClass:"u-links"},[t.other_id?e("a",{staticClass:"u-link u-item",attrs:{href:t.getLink("item",t.item_id),target:"_blank"}},[e("i",{staticClass:"el-icon-collection-tag"}),t._v("ç‰©å“ä¿¡æ¯")]):t._e(),t.achieve_id?e("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achieve_id),target:"_blank"}},[e("i",{staticClass:"el-icon-trophy"}),t._v(" æˆå°±ä¿¡æ¯ ")]):t._e()])],1),e("div",{staticClass:"m-info-box"},[e("div",{staticClass:"u-img"},[e("img",{attrs:{src:t.formatImg(t.data.Path),alt:t.data.szName}})]),e("div",{staticClass:"u-info"},[e("div",{staticClass:"u-info-title",class:"quality_"+t.data.Quality},[t._v(" "+t._s(t.data.szName)+" "),t.data.bInteract?e("i",{staticClass:"u-interact"}):t._e()]),e("div",{staticClass:"u-attrs"},[t.data.Attribute1?e("span",{staticClass:"u-attr"},[e("span",{staticClass:"u-label blue"},[t._v("è§‚èµ")]),t._v(t._s(t.data.Attribute1))]):t._e(),t.data.Attribute2?e("span",{staticClass:"u-attr"},[e("span",{staticClass:"u-label pink"},[t._v("å®žç”¨")]),t._v(t._s(t.data.Attribute2))]):t._e(),t.data.Attribute3?e("span",{staticClass:"u-attr"},[e("span",{staticClass:"u-label yellow"},[t._v("åšå›º")]),t._v(t._s(t.data.Attribute3))]):t._e(),t.data.Attribute4?e("span",{staticClass:"u-attr"},[e("span",{staticClass:"u-label green"},[t._v("é£Žæ°´")]),t._v(t._s(t.data.Attribute4))]):t._e(),t.data.Attribute5?e("span",{staticClass:"u-attr"},[e("span",{staticClass:"u-label purple"},[t._v("è¶£å‘³")]),t._v(t._s(t.data.Attribute5))]):t._e()]),e("div",{staticClass:"u-metas"},[e("span",{staticClass:"u-meta"},[e("span",{staticClass:"u-label"},[t._v("æ¥æºé€”å¾„ï¼š")]),t._v(t._s(t.data.szSource))]),e("span",{staticClass:"u-meta"},[e("span",{staticClass:"u-label"},[t._v("å›­å®…ç­‰çº§ï¼š")]),t._v(t._s(t.data.LevelLimit)+"çº§")]),e("span",{staticClass:"u-meta"},[e("span",{staticClass:"u-label"},[t._v("æ‘†æ”¾ä¸Šé™ï¼š")]),t._v(t._s(t.data.MaxAmountPerLand))]),t.data.szScaleRange?e("span",{staticClass:"u-meta u-meta-scale"},[e("span",{staticClass:"u-label"},[t._v("ç¼©æ”¾å¤§å°ï¼š")]),e("span",{staticClass:"u-value"},t._l(t.scaleRange(t.data.szScaleRange),(function(a){return e("b",{key:a},[t._v(t._s(a))])})),0)]):t._e(),t.color_list.length?e("span",{staticClass:"u-meta u-meta-dyes"},[e("span",{staticClass:"u-label"},[t._v("æŸ“è‰²é€‰é¡¹ï¼š")]),t._v(" "),e("span",{staticClass:"u-value"},t._l(t.color_list,(function(t){return e("i",{key:t,staticClass:"u-dye",style:{backgroundColor:"rgb("+t+")"}})})),0)]):t._e()]),e("div",{staticClass:"m-buttons"},[e("Fav",{staticClass:"u-collect",attrs:{"post-type":"furniture","post-id":t.id}})],1)])]),t.has_extend?e("div",{staticClass:"m-extend"},[e("div",{staticClass:"m-extend-header"},[e("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),e("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),e("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),t._v(" "),e("span",{staticClass:"u-txt"},[t._v("å®¶å…·ä¿¡æ¯")])]),t.data.szTip?e("div",{staticClass:"m-extend-content m-extend-desc"},[t._m(0),e("div",{staticClass:"u-txt",domProps:{innerHTML:t._s(t.description_filter(t.data.szTip))}})]):t._e(),t.setData?e("div",{staticClass:"m-extend-content m-extend-relation"},[e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-star-on"}),t._v(t._s(t.setData.szName)),e("el-rate",{staticClass:"u-star",attrs:{disabled:""},model:{value:t.setData.nStars,callback:function(a){t.$set(t.setData,"nStars",a)},expression:"setData.nStars"}})],1),e("furnitureSet",{attrs:{data:t.setData}})],1):t._e(),"ç”Ÿæ´»æŠ€èƒ½"==t.data.szSource&&t.data.__manufactureID?e("div",{staticClass:"m-extend-content m-extend-materials"},[t._m(1),e("furnitureMaterials",{attrs:{id:t.other_id}})],1):t._e()]):t._e(),t.other_id?e("div",{staticClass:"m-furniture-wiki"},[e("Wiki",{attrs:{source_type:"item",source_id:t.item_id,type:t.type,id:t.id,title:"å®¶å…·æ”»ç•¥"}})],1):t._e(),e("div",{staticClass:"m-furniture-comment"},[e("Comment",{attrs:{id:t.id,category:t.type,order:"desc"}})],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-star-on"}),t._v("å®¶å…·ä»‹ç»")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-star-on"}),t._v("åˆæˆææ–™")])}],n=(e("2ca0"),e("ac1f"),e("5319"),e("d3b7"),e("498a"),e("466d"),e("1276"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-furniture-set"},t._l(t.furnitures,(function(a,i){return e("router-link",{key:i,staticClass:"u-item",class:t.quality(a.Quality),attrs:{slot:"reference",to:"/"+a.dwID},slot:"reference"},[e("img",{staticClass:"u-pic",attrs:{src:t.formatImg(a.Path)}}),e("span",{staticClass:"u-name"},[t._v(t._s(a.szName))])])})),1)}),r=[],o=e("65c2"),c={name:"Set",props:["data"],data:function(){return{}},computed:{furnitures:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.furnitures)||[]}},methods:{quality:function(t){return t?"quality_"+t:""},formatImg:function(t){if(t){var a=t.match(/.*[\/,\\](.*?).tga/);t=t.replace(/\\/g,"/").split(a[1]);var e=t[0].split("Homeland");return"default"==a[1]?o["__iconPath"]+"pvx/furniture/default/default.png":o["__iconPath"]+"pvx/furniture"+e[1]+a[1]+".png"}}},created:function(){}},l=c,u=(e("3da1"),e("2877")),d=Object(u["a"])(l,n,r,!1,null,"3f098770",null),p=d.exports,f=e("bd8e"),v=e("23d8"),_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-furniture-materials"},t._l(t.list,(function(a,i){return e("a",{key:i,staticClass:"u-material",attrs:{target:"_blank",href:t.itemLink(a.ID)}},[e("img",{staticClass:"u-material-img",attrs:{src:t.iconLink(a.IconID)}}),e("span",{staticClass:"u-material-name"},[t._v(t._s(a.Name))]),e("span",{staticClass:"u-material-count"},[t._v(t._s(a._count))])])})),0)},m=[],h=e("55304"),b=(e("a15b"),e("d81d"),e("662b")),g=e("85e4"),C={name:"furnitureMaterials",props:["id"],components:{},data:function(){return{list:[],loading:!1}},computed:{client:function(){return this.$store.state.client}},watch:{id:{immediate:!0,handler:function(t){t&&this.loadData()}}},methods:{loadData:function(){var t=this;this.loading=!0,Object(b["d"])(this.id).then((function(a){(null===a||void 0===a?void 0:a.data)&&t.getDetail(a.data)})).finally((function(){t.loading=!1}))},getDetail:function(t){var a=this,e=[],i=[];for(var s in t)s.startsWith("RequireItemCount")&&t[s]&&e.push(t[s]),s.startsWith("RequireItemIndex")&&t[s]&&i.push(t[s]);var n={ids:i.join(","),per:10,client:this.client};Object(b["e"])(n).then((function(t){var i,s;a.list=null===t||void 0===t||null===(i=t.data)||void 0===i||null===(s=i.list)||void 0===s?void 0:s.map((function(t,a){return Object(h["a"])(Object(h["a"])(Object(h["a"])({},t),t.item_info[0]),{},{_count:e[a]})}))}))},iconLink:g["iconLink"],itemLink:function(t){return Object(g["getLink"])("item","5_"+t)}},created:function(){}},k=C,w=(e("13dd"),Object(u["a"])(k,_,m,!1,null,"774c225c",null)),y=w.exports,x=e("9616"),O={name:"FurnitureSingle",props:[],components:{Wiki:f["a"],Comment:v["a"],furnitureSet:p,furnitureMaterials:y},data:function(){return{type:"furniture",loading:!1,data:"",setData:"",colorData:""}},computed:{id:function(){return this.$route.params.id},other_id:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.__manufactureID},item_id:function(){var t;return"10_"+(null===(t=this.data)||void 0===t?void 0:t.__manufactureID)},achieve_id:function(){var t;return null===(t=this.setData)||void 0===t?void 0:t.dwAchievementID},represent_id:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.nRepresentID},set_id:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.SetID},has_extend:function(){return this.data.szTip||this.setData||"ç”Ÿæ´»æŠ€èƒ½"==this.data.szSource&&this.data.__manufactureID},color_list:function(){var t=[];for(var a in this.colorData)a.startsWith("szDetailIndex")&&this.colorData[a]&&t.push(this.colorData[a].replace(/;/g,","));return t}},watch:{id:function(){this.getData()}},methods:{getData:function(){var t=this;this.loading=!0,Object(b["c"])(this.id).then((function(a){t.data=a.data,Object(x["b"])(t.type,t.id)})).then((function(){t.represent_id&&t.getColorData(),t.set_id&&t.getSetData()})).finally((function(){t.loading=!1}))},getColorData:function(){var t=this;Object(b["b"])(this.represent_id).then((function(a){t.colorData=a.data}))},getSetData:function(){var t=this;Object(b["f"])(this.set_id).then((function(a){t.setData=a.data}))},getLink:g["getLink"],description_filter:function(t){var a=/text="(.*?)(\\\\\\n)?"/.exec(t);return a&&a.length>1&&(t=a[1].trim()),t&&(t=t.replace(/\\n/g,"<br>")),t},formatImg:function(t){if(t){var a=t.match(/.*[\/,\\](.*?).tga/);t=t.replace(/\\/g,"/").split(a[1]);var e=t[0].split("Homeland");return"default"==a[1]?o["__iconPath"]+"pvx/furniture/default/default.png":o["__iconPath"]+"pvx/furniture"+e[1]+a[1]+".png"}},scaleRange:function(t){return null===t||void 0===t?void 0:t.split(";")},goBack:function(){this.$router.push({name:"list"})}},created:function(){this.getData()}},j=O,D=(e("3fa1"),Object(u["a"])(j,i,s,!1,null,null,null));a["default"]=D.exports},"2ba9":function(t,a,e){},"3da1":function(t,a,e){"use strict";e("41dd")},"3fa1":function(t,a,e){"use strict";e("ff26")},"41dd":function(t,a,e){},"466d":function(t,a,e){"use strict";var i=e("c65b"),s=e("d784"),n=e("825a"),r=e("50c4"),o=e("577e"),c=e("1d80"),l=e("dc4a"),u=e("8aa5"),d=e("14c3");s("match",(function(t,a,e){return[function(a){var e=c(this),s=void 0==a?void 0:l(a,t);return s?i(s,a,e):new RegExp(a)[t](o(e))},function(t){var i=n(this),s=o(t),c=e(a,i,s);if(c.done)return c.value;if(!i.global)return d(i,s);var l=i.unicode;i.lastIndex=0;var p,f=[],v=0;while(null!==(p=d(i,s))){var _=o(p[0]);f[v]=_,""===_&&(i.lastIndex=u(s,r(i.lastIndex),l)),v++}return 0===v?null:f}]}))},"498a":function(t,a,e){"use strict";var i=e("23e7"),s=e("58a8").trim,n=e("c8d2");i({target:"String",proto:!0,forced:n("trim")},{trim:function(){return s(this)}})},55304:function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));e("b64b"),e("a4d3"),e("4de4"),e("d3b7"),e("e439"),e("159b"),e("dbb4");function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function n(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){i(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}},"5fdf":function(t,a,e){},"662b":function(t,a,e){"use strict";e.d(a,"a",(function(){return n})),e.d(a,"c",(function(){return r})),e.d(a,"f",(function(){return o})),e.d(a,"b",(function(){return c})),e.d(a,"d",(function(){return l})),e.d(a,"e",(function(){return u}));var i=e("41cb"),s=Object(i["e"])();function n(t){return s.get("/house/furniture",{params:t})}function r(t){return s.get("/house/furniture/".concat(t))}function o(t){return s.get("/house/furniture/set/".concat(t))}function c(t){return s.get("/house/furniture/color/".concat(t))}function l(t){return s.get("/manufacture/furniture",{params:{id:t}})}function u(t){return s.get("/other",{params:t})}},"959e":function(t,a,e){},a15b:function(t,a,e){"use strict";var i=e("23e7"),s=e("e330"),n=e("44ad"),r=e("fc6a"),o=e("a640"),c=s([].join),l=n!=Object,u=o("join",",");i({target:"Array",proto:!0,forced:l||!u},{join:function(t){return c(r(this),void 0===t?",":t)}})},acda:function(t,a,e){"use strict";e("5fdf")},ad91:function(t,a,e){"use strict";e("2ba9")},bd8e:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-wiki"},[t.wiki_post&&t.wiki_post.post?e("div",{staticClass:"m-wiki-post-panel"},[e("WikiPanel",{attrs:{"wiki-post":t.wiki_post}},[e("template",{slot:"head-title"},[e("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),e("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),e("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),e("span",{staticClass:"u-txt"},[t._v(t._s(t.title))])]),e("template",{slot:"head-actions"},[e("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publish_url}},[e("i",{staticClass:"el-icon-edit"}),e("span",[t._v("å®Œå–„"+t._s(t.title))])])]),e("template",{slot:"body"},[t.compatible?e("div",{staticClass:"m-wiki-compatible"},[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" æš‚æ— æ€€æ—§æœæ”»ç•¥ï¼Œä»¥ä¸‹ä¸ºæ­£å¼æœæ”»ç•¥ï¼Œä»…ä½œå‚è€ƒï¼Œ"),e("a",{staticClass:"s-link",attrs:{href:t.publish_url}},[t._v("å‚ä¸Žä¿®è®¢")]),t._v("ã€‚ ")]):t._e(),e("Article",{attrs:{content:t.wiki_post.post.content}}),e("div",{staticClass:"m-wiki-signature"},[e("i",{staticClass:"el-icon-edit"}),t._v(" æœ¬æ¬¡ä¿®è®¢ç”± "),e("b",[t._v(t._s(t.user_name))]),t._v(" æäº¤äºŽ"+t._s(t.updated_at)+" ")]),e("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:t.type,adminBoxcoinEnable:!1,userBoxcoinEnable:!1}})],1)],2),e("WikiRevisions",{attrs:{type:t.source_type,"source-id":t.source_id,isGame:!0}})],1):t._e(),t.is_empty?e("div",{staticClass:"m-wiki-post-empty"},[e("i",{staticClass:"el-icon-s-opportunity"}),e("span",[t._v("æš‚æ— æ”»ç•¥ï¼Œæˆ‘è¦")]),e("a",{staticClass:"s-link",attrs:{href:t.publish_url}},[t._v("å®Œå–„æ”»ç•¥")])]):t._e()])},s=[],n=(e("99af"),e("a974")),r=e("662c"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("WikiPanel",{staticClass:"c-wiki-revisions",attrs:{scene:"detail"}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-time"}),e("span",[t._v("åŽ†å²ç‰ˆæœ¬")])]),e("template",{slot:"body"},[e("div",{staticClass:"m-revisions-panel"},[t.versions&&t.versions.length?t._e():e("div",{staticClass:"u-empty"},[null===t.versions?e("span",[t._v("ðŸŽ‰ æ•°æ®åŠ è½½ä¸­...")]):t._e(),!1===t.versions?e("span",[t._v("âš ï¸ æ•°æ®åŠ è½½å¼‚å¸¸")]):t._e(),t.versions&&!t.versions.length?e("span",[t._v("ðŸ’§ æš‚æ— æ•°æ®")]):t._e()]),t.versions&&t.versions.length?e("table",{staticClass:"m-histories"},[e("tr",[e("th",[t._v("ç‰ˆæœ¬")]),e("th",[t._v("æ›´æ–°æ—¶é—´")]),e("th",[t._v("è´¡çŒ®è€…")]),e("th",[t._v("ä¿®è®¢è¯´æ˜Ž")])]),t._l(t.versions,(function(a,i){return e("tr",{key:i,staticClass:"history"},[e("td",[e("a",{attrs:{href:t.link(t.type,a.source_id+"/"+a.id)},domProps:{textContent:t._s("v"+(t.versions.length-i))},on:{click:function(e){return t.redirectRevision(a,e)}}})]),e("td",{domProps:{textContent:t._s(t.ts2str(a.updated))}}),e("td",[e("a",{attrs:{href:a.user_id?t.author_url(a.user_id):null},domProps:{textContent:t._s(a.user_nickname)}})]),e("td",{domProps:{textContent:t._s(a.remark)}})])}))],2):t._e()])])],2)},c=[],l=(e("caad"),e("2532"),e("fb6a"),e("ac1f"),e("5319"),e("4328")),u=e.n(l),d=e("41cb");let p={newest(t,a,e=1,i="std"){if(a)return Object(d["b"])()({method:"GET",url:"/api/wiki/post",params:{type:t,source_id:a,supply:e,client:i}})},newests(t){return Object(d["b"])()({method:"GET",url:"/api/wiki/posts/newest",params:{type:t}})},versions(t,a){if(a)return Object(d["b"])()({method:"GET",url:"/api/wiki/post/versions",params:{type:t,source_id:a}})},view(t,a={}){return t?Object(d["b"])()({method:"GET",url:"/api/wiki/post/"+t,params:a}):null},save(t){return Object(d["b"])()({method:"POST",url:"/api/wiki/post",data:u.a.stringify({post:t})})},myList(t){return Object(d["b"])()({method:"GET",url:"/api/my/wiki/posts",params:t})},myRemove(t){return t?Object(d["b"])()({method:"PUT",url:`/api/my/wiki/post/${t}/remove`}):null}};var f=e("85e4"),v=e("65c2"),_={name:"WikiRevisions",props:["type","sourceId","isGame"],data:function(){return{versions:null}},computed:{baseUrl:function(){return location.href.includes("classic")||location.href.includes("origin")?v["__OriginRoot"]:v["__Root"]},prefix:function(){return this.isGame?this.baseUrl.slice(0,-1):""}},methods:{link:function(t,a){return this.prefix+Object(f["getLink"])(t,a)},author_url:function(t){return this.prefix+Object(f["authorLink"])(t)},ts2str:f["ts2str"],redirectRevision:function(t,a){!this.isGame&&this.$router&&(a.preventDefault(),this.$router.replace({path:"/view/".concat(t.source_id,"/").concat(t.id)}))}},components:{WikiPanel:r["a"]},watch:{sourceId:{immediate:!0,handler:function(){var t=this;this.sourceId&&p.versions(this.type,this.sourceId).then((function(a){a=a.data,t.versions=200===a.code&&a.data.versions}),(function(){t.versions=!1}))}}}},m=_,h=(e("ad91"),e("2877")),b=Object(h["a"])(m,o,c,!1,null,null,null),g=b.exports,C={name:"Wiki",components:{WikiPanel:r["a"],WikiRevisions:g,Article:n["a"]},props:["title","source_type","source_id","type","id"],data:function(){return{wiki_post:null,compatible:!1}},computed:{post_content:function(){var t;return null===(t=this.wiki_post)||void 0===t?void 0:t.post},is_empty:function(){var t;return!(null!==(t=this.wiki_post)&&void 0!==t&&t.post)},isRevision:function(){return!!this.$route.params.post_id},client:function(){return this.$store.state.client},params:function(){return{type:this.source_type,source_id:this.id,supply:1,client:this.client}},user_name:function(){var t,a;return null===(t=this.wiki_post)||void 0===t||null===(a=t.post)||void 0===a?void 0:a.user_nickname},updated_at:function(){var t,a;return Object(f["ts2str"])(null===(t=this.wiki_post)||void 0===t||null===(a=t.post)||void 0===a?void 0:a.updated)},publish_url:function(){return Object(f["publishLink"])("".concat(this.source_type,"/").concat(this.source_id))}},methods:{loadData:function(){var t=this;"std"==this.client?p.newest(this.source_type,this.source_id,1,"std").then((function(a){var e;t.wiki_post=null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data,console.log("èŽ·å–æ­£å¼æœæ”»ç•¥")})):p.newest(this.source_type,this.source_id,1,"origin").then((function(a){var e;t.wiki_post=null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data,console.log("èŽ·å–æ€€æ—§æœæ”»ç•¥")})).then((function(){t.post_content||p.newest(t.source_type,t.source_id,1,"std").then((function(a){var e;t.wiki_post=null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data,t.compatible=!0,console.log("å…¼å®¹ï¼šèŽ·å–æ­£å¼æœæ”»ç•¥")}))}))}},watch:{source_id:{immediate:!0,handler:function(t){t&&this.loadData()}}},mounted:function(){}},k=C,w=(e("acda"),Object(h["a"])(k,i,s,!1,null,null,null));a["a"]=w.exports},c8d2:function(t,a,e){var i=e("5e77").PROPER,s=e("d039"),n=e("5899"),r="â€‹Â…á Ž";t.exports=function(t){return s((function(){return!!n[t]()||r[t]()!==r||i&&n[t].name!==t}))}},dbb4:function(t,a,e){var i=e("23e7"),s=e("83ab"),n=e("56ef"),r=e("fc6a"),o=e("06cf"),c=e("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var a,e,i=r(t),s=o.f,l=n(i),u={},d=0;while(l.length>d)e=s(i,a=l[d++]),void 0!==e&&c(u,a,e);return u}})},e439:function(t,a,e){var i=e("23e7"),s=e("d039"),n=e("fc6a"),r=e("06cf").f,o=e("83ab"),c=s((function(){r(1)})),l=!o||c;i({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,a){return r(n(t),a)}})},ff26:function(t,a,e){}}]);
//# sourceMappingURL=chunk-f3958a8e.26473798.js.map