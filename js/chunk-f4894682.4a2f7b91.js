(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4894682"],{"25f0":function(t,e,a){"use strict";var i=a("e330"),n=a("5e77").PROPER,s=a("6eeb"),c=a("825a"),r=a("3a9b"),o=a("577e"),u=a("d039"),l=a("ad6d"),p="toString",f=RegExp.prototype,d=f[p],m=i(l),g=u((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),v=n&&d.name!=p;(g||v)&&s(RegExp.prototype,p,(function(){var t=c(this),e=o(t.source),a=t.flags,i=o(void 0===a&&r(f,t)&&!("flags"in f)?m(t):a);return"/"+e+"/"+i}),{unsafe:!0})},"2d4f":function(t,e,a){"use strict";a("ea20")},"3ac3":function(t,e,a){"use strict";a("c98d")},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"4d63":function(t,e,a){var i=a("83ab"),n=a("da84"),s=a("e330"),c=a("94ca"),r=a("7156"),o=a("9112"),u=a("9bf2").f,l=a("241c").f,p=a("3a9b"),f=a("44e7"),d=a("577e"),m=a("ad6d"),g=a("9f7f"),v=a("6eeb"),b=a("d039"),h=a("1a2d"),_=a("69f3").enforce,k=a("2626"),y=a("b622"),C=a("fce3"),O=a("107c"),x=y("match"),j=n.RegExp,w=j.prototype,P=n.SyntaxError,I=s(m),S=s(w.exec),L=s("".charAt),E=s("".replace),D=s("".indexOf),R=s("".slice),T=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,$=/a/g,W=new j(N)!==N,z=g.MISSED_STICKY,M=g.UNSUPPORTED_Y,A=i&&(!W||z||C||O||b((function(){return $[x]=!1,j(N)!=N||j($)==$||"/a/i"!=j(N,"i")}))),B=function(t){for(var e,a=t.length,i=0,n="",s=!1;i<=a;i++)e=L(t,i),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),n+=e):n+="[\\s\\S]":n+=e+L(t,++i);return n},F=function(t){for(var e,a=t.length,i=0,n="",s=[],c={},r=!1,o=!1,u=0,l="";i<=a;i++){if(e=L(t,i),"\\"===e)e+=L(t,++i);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:S(T,R(t,i+1))&&(i+=2,o=!0),n+=e,u++;continue;case">"===e&&o:if(""===l||h(c,l))throw new P("Invalid capture group name");c[l]=!0,s[s.length]=[l,u],o=!1,l="";continue}o?l+=e:n+=e}return[n,s]};if(c("RegExp",A)){for(var J=function(t,e){var a,i,n,s,c,u,l=p(w,this),m=f(t),g=void 0===e,v=[],b=t;if(!l&&m&&g&&t.constructor===J)return t;if((m||p(w,t))&&(t=t.source,g&&(e="flags"in b?b.flags:I(b))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),b=t,C&&"dotAll"in N&&(i=!!e&&D(e,"s")>-1,i&&(e=E(e,/s/g,""))),a=e,z&&"sticky"in N&&(n=!!e&&D(e,"y")>-1,n&&M&&(e=E(e,/y/g,""))),O&&(s=F(t),t=s[0],v=s[1]),c=r(j(t,e),l?this:w,J),(i||n||v.length)&&(u=_(c),i&&(u.dotAll=!0,u.raw=J(B(t),a)),n&&(u.sticky=!0),v.length&&(u.groups=v)),t!==b)try{o(c,"source",""===b?"(?:)":b)}catch(h){}return c},q=function(t){t in J||u(J,t,{configurable:!0,get:function(){return j[t]},set:function(e){j[t]=e}})},Q=l(j),U=0;Q.length>U;)q(Q[U++]);w.constructor=J,J.prototype=w,v(n,"RegExp",J)}k("RegExp")},55304:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var i=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},"7ceb":function(t,e,a){"use strict";a("ffe5")},"9b7f":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return l})),a.d(e,"b",(function(){return p}));var i=a("41cb"),n=a("65c2"),s=a("bc3a"),c=a.n(s),r=Object(i["e"])();function o(t){return r.get("/pets",{params:t})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return r.get("/pet/".concat(t),{params:{client:e}})}function l(t){var e=t.item_type,a=t.item_id,i=t.client,n=void 0===i?"std":i;return r.get("/shop",{params:{client:n,itemType:e,itemId:a}})}function p(){return c.a.get(n["__iconPath"]+"pvx/pet/output/pet_lucky.json")}},ade3:function(t,e,a){"use strict";function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return i}))},b03f:function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-pet-single"},[a("div",{staticClass:"m-pet-navigation"},[a("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),a("div",{staticClass:"m-pet-links"},[a("a",{staticClass:"u-link u-item",attrs:{href:t.getLink("item",t.item_id),target:"_blank"}},[a("i",{staticClass:"el-icon-collection-tag"}),t._v("物品信息")]),t.achievement_id?[a("em",[t._v(" | ")]),a("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achievement_id),target:"_blank"}},[a("i",{staticClass:"el-icon-trophy"}),t._v("成就信息")])]:t._e()],2)],1),a("div",{staticClass:"m-pet-content flex"},[a("petCard",{attrs:{petObject:t.pet,lucky:t.luckyList}}),a("div",{staticClass:"m-pet-info"},[a("h1",{staticClass:"u-title"},[a("span",{staticClass:"u-name"},[t._v(t._s(t.pet.Name))]),a("span",{staticClass:"u-type"},[t._v(t._s(t.getPetType(t.pet.Class))+" · "+t._s(t.getPetSource(t.pet.Source)))]),a("i",{staticClass:"u-stars"},t._l(t.pet.Star,(function(t){return a("i",{key:t,staticClass:"el-icon-star-on"})})),0)]),a("div",{staticClass:"m-pet-skills"},t._l(t.petWiki.skills,(function(e,i){return a("div",{key:i,staticClass:"u-skill"},[a("el-popover",{key:i,attrs:{trigger:"hover","popper-class":"m-pet-skill","visible-arrow":!1,placement:"top"}},[a("div",{staticClass:"u-skill-pop"},[a("div",{staticClass:"u-skill-name"},[t._v(t._s(e.Name))]),a("div",{staticClass:"u-skill-desc"},[t._v(t._s(e.Desc))])]),a("img",{staticClass:"u-skill-icon",attrs:{slot:"reference",src:t._f("iconLink")(e.IconID),alt:e.Name},slot:"reference"})])],1)})),0),a("div",{staticClass:"u-metas"},[a("div",{staticClass:"u-meta u-score"},[a("span",{staticClass:"u-meta-label"},[t._v("宠物分数：")]),t._v(t._s(t.pet.Score))]),a("div",{staticClass:"u-meta u-desc"},[a("span",{staticClass:"u-meta-label"},[t._v("宠物说明：")]),a("span",{staticClass:"u-meta-value"},[t._l(t.getPetDesc(t.pet.Desc),(function(e){return[a("span",{key:e.text,domProps:{innerHTML:t._s(e.text)}})]}))],2)]),a("div",{staticClass:"u-meta u-source"},[a("span",{staticClass:"u-meta-label"},[t._v("获取线索：")]),t._l(t.getPetDesc(t.pet.OutputDes),(function(e){return[a("span",{key:e.text},[t._v(t._s(t._f("cleanResourceText")(e.text)))])]}))],2),t.shopInfo.RewardsPrice||t.shopInfo.CoinPrice?a("div",{staticClass:"u-meta u-shop"},[a("span",{staticClass:"u-meta-label"},[t._v("商城价格：")]),a("span",{staticClass:"u-price"},[t.shopInfo.RewardsPrice>0?a("el-tag",{staticClass:"u-price-item u-rewards"},[t._v("积分"),a("b",[t._v(t._s(t.shopInfo.RewardsPrice))]),a("i",{staticClass:"u-icon-rewards"})]):t._e(),a("el-tag",{staticClass:"u-price-item u-coin"},[t._v("通宝"),a("b",[t._v(t._s(t.shopInfo.CoinPrice))]),a("i",{staticClass:"u-icon-coin"})])],1)]):t._e()])])],1),a("petFetters",{attrs:{list:t.medalList}}),t.petWiki?a("div",{staticClass:"m-pet-wiki"},[a("detail",{attrs:{achievement_id:t.petWiki.achievement_id,item_id:t.item_id,title:"宠物攻略",real_type:"pet"}})],1):t._e(),a("div",{staticClass:"m-pvx-comment"},[a("Comment",{attrs:{id:t.id,category:"pz",order:"desc"}})],1)],1)},s=[],c=(a("7db0"),a("d3b7"),a("b0c0"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("fb6a"),a("99af"),a("2ca0"),a("9b7f")),r=a("c967"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-pet-card"},[a("img",{staticClass:"u-image",attrs:{src:t.getImgSrc(t.petObject.BgPath)}}),a("img",{staticClass:"u-frame",attrs:{src:t.getFrameSrc(t.petObject.Quality)}}),a("div",{staticClass:"u-stars"},[a("i",{staticClass:"u-star",class:"u-star-"+t.petObject.Star})]),t.getLucky(t.petObject.Index)?a("i",{staticClass:"u-lucky"}):t._e(),a("div",{staticClass:"u-score flex"},[t._v(" "+t._s(t.petObject.Score||"？")+" ")]),a("span",{staticClass:"u-name"},[t._v(t._s(t.petObject.Name))])])},u=[],l=(a("466d"),a("65c2")),p={props:{petObject:{},lucky:{}},data:function(){return{}},methods:{getImgSrc:function(t){if(t){var e=t.match(/.*[\/,\\](.*?).tga/);return l["__iconPath"]+"pvx/pet/images/"+e[1]+".png"}},getFrameSrc:function(t){var e="";if(t){switch(t){case 2:e="/greenborder.png";break;case 3:e="/blueborder.png";break;case 4:e="/purpleborder.png";break;case 5:e="/purpleborder.png";break}return l["__iconPath"]+"pvx/pet/frame"+e}},getLucky:function(t){var e;if(t)return-1!=(null===(e=this.lucky)||void 0===e?void 0:e.indexOf(t.toString()))}}},f=p,d=(a("2d4f"),a("2877")),m=Object(d["a"])(f,o,u,!1,null,null,null),g=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list&&t.list.length>0?a("div",{staticClass:"m-pet-fetters"},[a("div",{staticClass:"u-header"},[a("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),a("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),a("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),t._v(" "),a("span",{staticClass:"u-txt"},[t._v("宠物羁绊")])]),t._l(t.petList,(function(e){return a("div",{key:e.id,staticClass:"u-box"},[a("div",{staticClass:"u-name"},[a("i",{staticClass:"el-icon-star-on"}),t._v(t._s(e.name))]),a("div",{staticClass:"u-imgsBox"},t._l(t.petImgs[e.id],(function(e,i){return a("div",{key:i,staticClass:"u-img",class:"i-quality-"+e.Quality,on:{click:function(e){return t.getLink(i)}}},[a("el-image",{attrs:{src:e.img,fit:"contain"}}),a("span",[t._v(t._s(e.name))])],1)})),0)])}))],2):t._e()},b=[],h=a("ade3"),_=a("55304"),k=a("2909"),y=(a("159b"),a("e9c4"),i={name:"Fetters",props:["list"],components:{},data:function(){return{petImgs:[]}},computed:{petList:function(){var t=this,e=this.list,a=[];return e.forEach((function(e){var i=[];for(var n in e)-1!==n.indexOf("PetIndex")&&null!==e[n]&&i.push(e[n]);e.petList=i,t.getPetList(i,e.ID),a.push({name:e.Name,desc:e.Des,list:e.petList,id:e.ID})})),a}},watch:{},methods:{getPetList:function(t,e){var a=this,i=JSON.stringify(Object(k["a"])(t)).slice(1,-1);Object(c["c"])({ids:i}).then((function(t){var i=t.data.list,n={};i.forEach((function(t){console.log(t,"?"),n=Object(_["a"])(Object(_["a"])({},n),{},Object(h["a"])({},t.Index,{name:t.Name,img:a.getImgSrc(t.BgPath)}))}));var s=Object(h["a"])({},e,Object(_["a"])({},n));a.petImgs=Object(_["a"])(Object(_["a"])({},a.petImgs),s),console.log(a.petImgs)}))},getImgSrc:function(t){if(t){var e=t.match(/.*[\/,\\](.*?).tga/);return l["__iconPath"]+"pvx/pet/images/"+e[1]+".png"}},getLink:function(t){t!=this.$route.params.id&&this.$router.push({name:"single",params:{id:t}})}}},Object(h["a"])(i,"watch",{$route:function(t,e){this.$router.go(0)}}),Object(h["a"])(i,"created",(function(){})),Object(h["a"])(i,"mounted",(function(){})),i),C=y,O=(a("7ceb"),Object(d["a"])(C,v,b,!1,null,null,null)),x=O.exports,j=a("c599"),w=a("60f8"),P=a("4649"),I=a("85e4"),S=a("23d8"),L={name:"PetSingle",props:[],components:{petCard:g,petFetters:x,Detail:j["a"],Comment:S["a"]},data:function(){return{pet:{},petWiki:"",shopInfo:"",luckyList:[],medalList:[]}},computed:{id:function(){return this.$route.params.id},item_id:function(){var t,e;return(null===(t=this.pet)||void 0===t?void 0:t.ItemTabType)+"_"+(null===(e=this.pet)||void 0===e?void 0:e.ItemTabIndex)},achievement_id:function(){return this.petWiki.achievement_id},client:function(){return this.$store.state.client},title:function(){return this.pet.Name}},watch:{},methods:{getPetInfo:function(){var t=this;Object(c["a"])(this.id).then((function(e){t.pet=e.data,t.medalList=e.data.medal_list,t.getPetWiki(),t.getShopInfo()}))},getPetWiki:function(){var t=this;this.item_id&&Object(r["a"])("item",this.item_id).then((function(e){var a,i,n;t.petWiki=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.data)||void 0===i||null===(n=i.source)||void 0===n?void 0:n.pet}))},getShopInfo:function(){var t=this,e={item_type:this.pet.ItemTabType,item_id:this.pet.ItemTabIndex};Object(c["d"])(e).then((function(e){t.shopInfo=(null===e||void 0===e?void 0:e.data)||""}))},getPetType:function(t){var e=w.find((function(e){return e.class===t}));return(null===e||void 0===e?void 0:e.name)||""},getPetSource:function(t){var e=P.find((function(e){return~~t===~~e.source}));return(null===e||void 0===e?void 0:e.name)||""},getPetDesc:function(t){var e,a=new RegExp("<text>text=([\\s\\S]*?)font=(\\d+)[\\s\\S]*?<\\/text>","gimy"),i=[];while(e=a.exec(t))i.push(e);for(var n=[],s=0,c=i;s<c.length;s++){var r=c[s];n.push({font:~~r[2],text:r[1].slice(1,-2).replace(/[\\n]/g,"")})}return n},goBack:function(){this.$router.push({name:"list"})},goItem:function(){var t=this.pet,e=t.ItemTabType,a=t.ItemTabIndex,i=Object(I["getLink"])("item","".concat(e,"_").concat(a));window.open(i,"_blank")},getPetLucky:function(){var t=this;Object(c["b"])().then((function(e){var a=e.data.std,i=new Date,n=i.getMonth()+1+""+i.getDate();t.luckyList=a[n]}))},getLink:I["getLink"]},filters:{iconLink:I["iconLink"],cleanResourceText:function(t){return t&&t.startsWith("获取线索：")?t.replace("获取线索：",""):t}},created:function(){this.getPetLucky()},mounted:function(){this.getPetInfo()}},E=L,D=(a("3ac3"),Object(d["a"])(E,n,s,!1,null,null,null));e["default"]=D.exports},c607:function(t,e,a){var i=a("da84"),n=a("83ab"),s=a("fce3"),c=a("c6b6"),r=a("9bf2").f,o=a("69f3").get,u=RegExp.prototype,l=i.TypeError;n&&s&&r(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===c(this))return!!o(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},c98d:function(t,e,a){},dbb4:function(t,e,a){var i=a("23e7"),n=a("83ab"),s=a("56ef"),c=a("fc6a"),r=a("06cf"),o=a("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,i=c(t),n=r.f,u=s(i),l={},p=0;while(u.length>p)a=n(i,e=u[p++]),void 0!==a&&o(l,e,a);return l}})},e439:function(t,e,a){var i=a("23e7"),n=a("d039"),s=a("fc6a"),c=a("06cf").f,r=a("83ab"),o=n((function(){c(1)})),u=!r||o;i({target:"Object",stat:!0,forced:u,sham:!r},{getOwnPropertyDescriptor:function(t,e){return c(s(t),e)}})},ea20:function(t,e,a){},ffe5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-f4894682.4a2f7b91.js.map