(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67436294"],{"25f0":function(t,e,i){"use strict";var n=i("e330"),s=i("5e77").PROPER,a=i("6eeb"),r=i("825a"),o=i("3a9b"),c=i("577e"),l=i("d039"),u=i("ad6d"),d="toString",p=RegExp.prototype,f=p[d],v=n(u),h=l((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),m=s&&f.name!=d;(h||m)&&a(RegExp.prototype,d,(function(){var t=r(this),e=c(t.source),i=t.flags,n=c(void 0===i&&o(p,t)&&!("flags"in p)?v(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"2ba9":function(t,e,i){},"2d4f":function(t,e,i){"use strict";i("ea20")},"3ac3":function(t,e,i){"use strict";i("c98d")},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"466d":function(t,e,i){"use strict";var n=i("c65b"),s=i("d784"),a=i("825a"),r=i("50c4"),o=i("577e"),c=i("1d80"),l=i("dc4a"),u=i("8aa5"),d=i("14c3");s("match",(function(t,e,i){return[function(e){var i=c(this),s=void 0==e?void 0:l(e,t);return s?n(s,e,i):new RegExp(e)[t](o(i))},function(t){var n=a(this),s=o(t),c=i(e,n,s);if(c.done)return c.value;if(!n.global)return d(n,s);var l=n.unicode;n.lastIndex=0;var p,f=[],v=0;while(null!==(p=d(n,s))){var h=o(p[0]);f[v]=h,""===h&&(n.lastIndex=u(s,r(n.lastIndex),l)),v++}return 0===v?null:f}]}))},"4d63":function(t,e,i){var n=i("83ab"),s=i("da84"),a=i("e330"),r=i("94ca"),o=i("7156"),c=i("9112"),l=i("9bf2").f,u=i("241c").f,d=i("3a9b"),p=i("44e7"),f=i("577e"),v=i("ad6d"),h=i("9f7f"),m=i("6eeb"),_=i("d039"),g=i("1a2d"),b=i("69f3").enforce,k=i("2626"),y=i("b622"),x=i("fce3"),w=i("107c"),C=y("match"),I=s.RegExp,O=I.prototype,j=s.SyntaxError,P=a(v),S=a(O.exec),E=a("".charAt),L=a("".replace),R=a("".indexOf),T=a("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,z=/a/g,$=/a/g,W=new I(z)!==z,A=h.MISSED_STICKY,M=h.UNSUPPORTED_Y,N=n&&(!W||A||x||w||_((function(){return $[C]=!1,I(z)!=z||I($)==$||"/a/i"!=I(z,"i")}))),B=function(t){for(var e,i=t.length,n=0,s="",a=!1;n<=i;n++)e=E(t,n),"\\"!==e?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),s+=e):s+="[\\s\\S]":s+=e+E(t,++n);return s},F=function(t){for(var e,i=t.length,n=0,s="",a=[],r={},o=!1,c=!1,l=0,u="";n<=i;n++){if(e=E(t,n),"\\"===e)e+=E(t,++n);else if("]"===e)o=!1;else if(!o)switch(!0){case"["===e:o=!0;break;case"("===e:S(D,T(t,n+1))&&(n+=2,c=!0),s+=e,l++;continue;case">"===e&&c:if(""===u||g(r,u))throw new j("Invalid capture group name");r[u]=!0,a[a.length]=[u,l],c=!1,u="";continue}c?u+=e:s+=e}return[s,a]};if(r("RegExp",N)){for(var G=function(t,e){var i,n,s,a,r,l,u=d(O,this),v=p(t),h=void 0===e,m=[],_=t;if(!u&&v&&h&&t.constructor===G)return t;if((v||d(O,t))&&(t=t.source,h&&(e="flags"in _?_.flags:P(_))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),_=t,x&&"dotAll"in z&&(n=!!e&&R(e,"s")>-1,n&&(e=L(e,/s/g,""))),i=e,A&&"sticky"in z&&(s=!!e&&R(e,"y")>-1,s&&M&&(e=L(e,/y/g,""))),w&&(a=F(t),t=a[0],m=a[1]),r=o(I(t,e),u?this:O,G),(n||s||m.length)&&(l=b(r),n&&(l.dotAll=!0,l.raw=G(B(t),i)),s&&(l.sticky=!0),m.length&&(l.groups=m)),t!==_)try{c(r,"source",""===_?"(?:)":_)}catch(g){}return r},U=function(t){t in G||l(G,t,{configurable:!0,get:function(){return I[t]},set:function(e){I[t]=e}})},J=u(I),K=0;J.length>K;)U(J[K++]);O.constructor=G,G.prototype=O,m(s,"RegExp",G)}k("RegExp")},"4fad":function(t,e,i){var n=i("d039"),s=i("861d"),a=i("c6b6"),r=i("d86b"),o=Object.isExtensible,c=n((function(){o(1)}));t.exports=c||r?function(t){return!!s(t)&&((!r||"ArrayBuffer"!=a(t))&&(!o||o(t)))}:o},"5fdf":function(t,e,i){},6062:function(t,e,i){"use strict";var n=i("6d61"),s=i("6566");n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},6566:function(t,e,i){"use strict";var n=i("9bf2").f,s=i("7c73"),a=i("e2cc"),r=i("0366"),o=i("19aa"),c=i("2266"),l=i("7dd0"),u=i("2626"),d=i("83ab"),p=i("f183").fastKey,f=i("69f3"),v=f.set,h=f.getterFor;t.exports={getConstructor:function(t,e,i,l){var u=t((function(t,n){o(t,f),v(t,{type:e,index:s(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=n&&c(n,t[l],{that:t,AS_ENTRIES:i})})),f=u.prototype,m=h(e),_=function(t,e,i){var n,s,a=m(t),r=g(t,e);return r?r.value=i:(a.last=r={index:s=p(e,!0),key:e,value:i,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=r),n&&(n.next=r),d?a.size++:t.size++,"F"!==s&&(a.index[s]=r)),t},g=function(t,e){var i,n=m(t),s=p(e);if("F"!==s)return n.index[s];for(i=n.first;i;i=i.next)if(i.key==e)return i};return a(f,{clear:function(){var t=this,e=m(t),i=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,i=m(e),n=g(e,t);if(n){var s=n.next,a=n.previous;delete i.index[n.index],n.removed=!0,a&&(a.next=s),s&&(s.previous=a),i.first==n&&(i.first=s),i.last==n&&(i.last=a),d?i.size--:e.size--}return!!n},forEach:function(t){var e,i=m(this),n=r(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:i.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),a(f,i?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return _(this,0===t?0:t,e)}}:{add:function(t){return _(this,t=0===t?0:t,t)}}),d&&n(f,"size",{get:function(){return m(this).size}}),u},setStrong:function(t,e,i){var n=e+" Iterator",s=h(e),a=h(n);l(t,e,(function(t,e){v(this,{type:n,target:t,state:s(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),u(e)}}},"6d61":function(t,e,i){"use strict";var n=i("23e7"),s=i("da84"),a=i("e330"),r=i("94ca"),o=i("6eeb"),c=i("f183"),l=i("2266"),u=i("19aa"),d=i("1626"),p=i("861d"),f=i("d039"),v=i("1c7e"),h=i("d44e"),m=i("7156");t.exports=function(t,e,i){var _=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=_?"set":"add",k=s[t],y=k&&k.prototype,x=k,w={},C=function(t){var e=a(y[t]);o(y,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return g&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!p(t))&&e(this,0===t?0:t)}:function(t,i){return e(this,0===t?0:t,i),this})},I=r(t,!d(k)||!(g||y.forEach&&!f((function(){(new k).entries().next()}))));if(I)x=i.getConstructor(e,t,_,b),c.enable();else if(r(t,!0)){var O=new x,j=O[b](g?{}:-0,1)!=O,P=f((function(){O.has(1)})),S=v((function(t){new k(t)})),E=!g&&f((function(){var t=new k,e=5;while(e--)t[b](e,e);return!t.has(-0)}));S||(x=e((function(t,e){u(t,y);var i=m(new k,t,x);return void 0!=e&&l(e,i[b],{that:i,AS_ENTRIES:_}),i})),x.prototype=y,y.constructor=x),(P||E)&&(C("delete"),C("has"),_&&C("get")),(E||j)&&C(b),g&&y.clear&&delete y.clear}return w[t]=x,n({global:!0,forced:x!=k},w),h(x,t),g||i.setStrong(x,t,_),x}},"7ceb":function(t,e,i){"use strict";i("ffe5")},"9b7f":function(t,e,i){"use strict";i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return l})),i.d(e,"d",(function(){return u})),i.d(e,"b",(function(){return d})),i.d(e,"e",(function(){return p}));var n=i("41cb"),s=i("65c2"),a=i("bc3a"),r=i.n(a),o=Object(n["e"])();function c(t){return o.get("/pets",{params:t})}function l(t,e){return o.get("/pet/".concat(t),{params:e})}function u(t){var e=t.item_type,i=t.item_id,n=t.client,s=void 0===n?"std":n;return o.get("/shop",{params:{client:s,itemType:e,itemId:i}})}function d(){return r.a.get(s["__dataPath"]+"pvx/pet/output/pet_lucky.json")}function p(t){return o.get("/skills",{params:t})}},a15b:function(t,e,i){"use strict";var n=i("23e7"),s=i("e330"),a=i("44ad"),r=i("fc6a"),o=i("a640"),c=s([].join),l=a!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return c(r(this),void 0===t?",":t)}})},acda:function(t,e,i){"use strict";i("5fdf")},ad91:function(t,e,i){"use strict";i("2ba9")},b03f:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pet?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-pet-single"},[i("div",{staticClass:"m-pet-navigation"},[i("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),i("div",{staticClass:"m-pet-links"},[i("a",{staticClass:"u-link u-item",attrs:{href:t.getLink("item",t.item_id),target:"_blank"}},[i("i",{staticClass:"el-icon-collection-tag"}),t._v("物品信息")]),t.achievement_id?[i("em",[t._v(" | ")]),i("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achievement_id),target:"_blank"}},[i("i",{staticClass:"el-icon-trophy"}),t._v("成就信息")])]:t._e()],2)],1),i("div",{staticClass:"m-pet-content flex"},[i("petCard",{attrs:{petObject:t.pet,lucky:t.luckyList}}),i("div",{staticClass:"m-pet-info"},[i("h1",{staticClass:"u-title"},[i("span",{staticClass:"u-name"},[t._v(t._s(t.pet.Name))]),i("span",{staticClass:"u-type"},[t._v(t._s(t.getPetType(t.pet.Class))+" · "+t._s(t.getPetSource(t.pet.Source)))]),i("i",{staticClass:"u-stars"},t._l(t.pet.Star,(function(t){return i("i",{key:t,staticClass:"el-icon-star-on"})})),0)]),i("div",{staticClass:"m-pet-skills"},t._l(t.petSkills,(function(e,n){return i("div",{key:n,staticClass:"u-skill"},[i("el-popover",{attrs:{trigger:"hover","popper-class":"m-pet-skill","visible-arrow":!1,placement:"top"}},[i("div",{staticClass:"u-skill-pop"},[i("div",{staticClass:"u-skill-name"},[t._v(t._s(e.Name))]),i("div",{staticClass:"u-skill-desc"},[t._v(t._s(e.Desc))])]),i("img",{staticClass:"u-skill-icon",attrs:{slot:"reference",src:t._f("iconLink")(e.IconID),alt:e.Name},slot:"reference"})])],1)})),0),i("div",{staticClass:"u-metas"},[i("div",{staticClass:"u-meta u-score"},[i("span",{staticClass:"u-meta-label"},[t._v("宠物分数：")]),t._v(t._s(t.pet.Score))]),i("div",{staticClass:"u-meta u-desc"},[i("span",{staticClass:"u-meta-label"},[t._v("宠物说明：")]),i("span",{staticClass:"u-meta-value"},[t._l(t.getPetDesc(t.pet.Desc),(function(e,n){return[i("span",{key:n,domProps:{innerHTML:t._s(e.text)}})]}))],2)]),i("div",{staticClass:"u-meta u-source"},[i("span",{staticClass:"u-meta-label"},[t._v("获取线索：")]),t._l(t.getPetDesc(t.pet.OutputDes),(function(e){return[i("span",{key:e.text},[t._v(t._s(t._f("cleanResourceText")(e.text)))])]}))],2),t.shopInfo.RewardsPrice||t.shopInfo.CoinPrice?i("div",{staticClass:"u-meta u-shop"},[i("span",{staticClass:"u-meta-label"},[t._v("商城价格：")]),i("span",{staticClass:"u-price"},[t.shopInfo.RewardsPrice>0?i("el-tag",{staticClass:"u-price-item u-rewards"},[t._v("积分"),i("b",[t._v(t._s(t.shopInfo.RewardsPrice))]),i("i",{staticClass:"u-icon-rewards"})]):t._e(),i("el-tag",{staticClass:"u-price-item u-coin"},[t._v("通宝"),i("b",[t._v(t._s(t.shopInfo.CoinPrice))]),i("i",{staticClass:"u-icon-coin"})])],1)]):t._e()])])],1),t.medalList&&t.medalList.length?i("div",{staticClass:"m-pet-fetters"},[i("div",{staticClass:"u-header"},[i("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),i("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),i("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),t._v(" "),i("span",{staticClass:"u-txt"},[t._v("宠物羁绊")])]),t._l(t.medalList,(function(t){return i("petFetters",{key:t.ID,attrs:{info:t}})}))],2):t._e(),i("div",{staticClass:"m-pet-wiki"},[i("Wiki",{attrs:{source_type:"item",source_id:t.item_id,type:t.type,id:t.id,title:"宠物攻略"}})],1),i("div",{staticClass:"m-pvx-comment"},[i("Comment",{attrs:{id:t.id,category:t.type,order:"desc"}})],1)]):t._e()},s=[],a=i("2909"),r=(i("d3b7"),i("2ca0"),i("a15b"),i("4de4"),i("7db0"),i("b0c0"),i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("25f0"),i("5319"),i("fb6a"),i("99af"),i("6062"),i("3ca3"),i("ddb0"),i("159b"),i("caad"),i("2532"),i("d81d"),i("9b7f")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-pet-card"},[i("img",{staticClass:"u-image",attrs:{src:t.getImgSrc(t.petObject.BgPath)},on:{error:t.replaceByDefault}}),i("img",{staticClass:"u-frame",attrs:{src:t.getFrameSrc(t.petObject.Quality)}}),i("div",{staticClass:"u-stars"},[i("i",{staticClass:"u-star",class:"u-star-"+t.petObject.Star})]),t.getLucky(t.petObject.Index)?i("i",{staticClass:"u-lucky"}):t._e(),i("div",{staticClass:"u-score flex"},[t._v(" "+t._s(t.petObject.Score||"？")+" ")]),i("div",{staticClass:"u-name"},[t._v(t._s(t.petObject.Name))])])},c=[],l=(i("466d"),i("65c2")),u={props:{petObject:{},lucky:{}},inject:["__imgRoot"],data:function(){return{}},computed:{client:function(){return this.$store.state.client}},methods:{replaceByDefault:function(t){t.target.src=this.__imgRoot+"pets/"+this.client+"/3d_bg.png"},getImgSrc:function(t){if(t){var e=t.match(/.*[\/,\\](.*?).tga/);return this.__imgRoot+"pets/".concat(this.client,"/")+e[1]+".png"}},getFrameSrc:function(t){var e="";if(t){switch(t){case 2:e="/greenborder.png";break;case 3:e="/blueborder.png";break;case 4:e="/purpleborder.png";break;case 5:e="/purpleborder.png";break}return this.__imgRoot+"frame"+e}},getLucky:function(t){return"std"===this.client&&(t?-1!=(null===(e=this.lucky)||void 0===e?void 0:e.indexOf(t.toString())):void 0);var e}}},d=u,p=(i("2d4f"),i("2877")),f=Object(p["a"])(d,o,c,!1,null,null,null),v=f.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-fetters"},[i("div",{staticClass:"m-fetters-title"},[i("div",{staticClass:"u-title"},[i("i",{staticClass:"el-icon-star-on"}),t._v(t._s(t.info.Name))]),i("div",{staticClass:"u-desc"},[t._v(t._s(t.showPetterDesc(t.info.Des)))])]),i("div",{staticClass:"m-fetters-list"},t._l(t.info.petList,(function(e){return i("el-popover",{key:e.Index,attrs:{placement:"top","popper-class":"m-pet-pop",width:"auto","visible-arrow":!1,trigger:"hover",transition:"none","close-delay":0}},[i("router-link",{staticClass:"u-fetter",attrs:{slot:"reference",to:"/"+e.Index},slot:"reference"},[i("i",{staticClass:"u-fetter-icon",class:["u-quality-"+e.Quality]},[i("img",{attrs:{src:t.iconLink(e.IconID)}})]),i("span",{staticClass:"u-fetter-name"},[t._v(t._s(e.Name))]),e.Index==t.id?i("i",{staticClass:"u-mark"},[t._v("当前")]):t._e()]),i("jx3-item",{attrs:{item_id:e.ItemTabType+"_"+e.ItemTabIndex}})],1)})),1)])},m=[],_=i("85e4"),g=i("c7fa"),b={name:"Fetters",props:["info"],components:{"jx3-item":g["a"]},data:function(){return{}},computed:{id:function(){return this.$route.params.id}},methods:{getImgSrc:function(t){if(t){var e=t.match(/.*[\/,\\](.*?).tga/);return l["__iconPath"]+"pvx/pet/images/"+e[1]+".png"}},getLink:function(t){t!=this.$route.params.id&&this.$router.push({name:"single",params:{id:t}})},iconLink:_["iconLink"],showPetterDesc:function(t){var e=Object(_["extractTextContent"])(t);return e[0]["text"]}}},k=b,y=(i("7ceb"),Object(p["a"])(k,h,m,!1,null,null,null)),x=y.exports,w=i("bd8e"),C=i("60f8"),I=i("4649"),O=i("23d8"),j=i("9616"),P=i("5a0c"),S=i.n(P),E={name:"PetSingle",props:[],components:{petCard:v,petFetters:x,Wiki:w["a"],Comment:O["a"]},data:function(){return{type:"pet",pet:"",petSkills:[],shopInfo:"",luckyList:[],medalList:[],loading:!1}},computed:{id:function(){return this.$route.params.id},item_id:function(){var t,e;return(null===(t=this.pet)||void 0===t?void 0:t.ItemTabType)+"_"+(null===(e=this.pet)||void 0===e?void 0:e.ItemTabIndex)},achievement_id:function(){var t;return null===(t=this.petWiki)||void 0===t?void 0:t.achievement_id},client:function(){return this.$store.state.client},title:function(){var t;return null===(t=this.pet)||void 0===t?void 0:t.Name},params:function(){return{client:this.client}}},watch:{id:function(){this.getPetInfo()}},methods:{getPetInfo:function(){var t=this;this.loading=!0,Object(r["a"])(this.id,this.params).then((function(e){t.pet=e.data,t.medalList=e.data.medal_list,t.loadPetSkills(e.data.__skills),t.getShopInfo(),t.getPetMedal()})).finally((function(){t.loading=!1,Object(j["b"])(t.type,t.id)}))},loadPetSkills:function(t){var e=this,i=[],n=[];for(var s in this.petSkills=[],t)s.startsWith("Level")&&t[s]&&i.push(t[s]),s.startsWith("SkillID")&&t[s]&&n.push(t[s]);Object(r["e"])({ids:n.join(","),client:this.client}).then((function(t){i.forEach((function(i,s){var a=t.data.filter((function(t){return t.Level===i})),r=a.find((function(t){return t.SkillID===n[s]}));r&&e.petSkills.push(r)}))}))},getShopInfo:function(){var t=this,e={item_type:this.pet.ItemTabType,item_id:this.pet.ItemTabIndex};Object(r["d"])(e).then((function(e){t.shopInfo=(null===e||void 0===e?void 0:e.data)||""}))},getPetType:function(t){var e=C.find((function(e){return e.class===t}));return(null===e||void 0===e?void 0:e.name)||""},getPetSource:function(t){var e=I.find((function(e){return~~t===~~e.source}));return(null===e||void 0===e?void 0:e.name)||""},getPetDesc:function(t){var e,i=new RegExp("<text>text=([\\s\\S]*?)font=(\\d+)[\\s\\S]*?<\\/text>","gimy"),n=[];while(e=i.exec(t))n.push(e);for(var s=[],a=0,r=n;a<r.length;a++){var o=r[a];s.push({font:~~o[2],text:o[1].slice(1,-2).replace(/[\\n]/g,"")})}return s},goBack:function(){this.$router.push({name:"list"})},goItem:function(){var t=this.pet,e=t.ItemTabType,i=t.ItemTabIndex,n=Object(_["getLink"])("item","".concat(e,"_").concat(i));window.open(n,"_blank")},getPetLucky:function(){var t=this;Object(r["b"])().then((function(e){var i=e.data.std,n=S()(new Date).format("MDD");t.luckyList=i[n]}))},getLink:_["getLink"],getPetMedal:function(){var t=this,e=new Set;this.medalList.forEach((function(t){for(var i in t.pets=[],t)i.includes("PetIndex")&&t[i]&&(t.pets=[].concat(Object(a["a"])(t.pets),[t[i]]),e.add(t[i]))})),Object(r["c"])({ids:Object(a["a"])(e).join(","),client:this.client}).then((function(e){var i=e.data.list;t.medalList.map((function(e){var n=i.filter((function(t){return e.pets.includes(t.Index)}));return t.$set(e,"petList",n),e}))}))}},filters:{iconLink:_["iconLink"],cleanResourceText:function(t){return t&&t.startsWith("获取线索：")?t.replace("获取线索：",""):t}},created:function(){this.getPetLucky()},mounted:function(){this.getPetInfo()}},L=E,R=(i("3ac3"),Object(p["a"])(L,n,s,!1,null,null,null));e["default"]=R.exports},bb2f:function(t,e,i){var n=i("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bd8e:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-wiki"},[t.wiki_post&&t.wiki_post.post?i("div",{staticClass:"m-wiki-post-panel"},[i("WikiPanel",{attrs:{"wiki-post":t.wiki_post}},[i("template",{slot:"head-title"},[i("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),i("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),i("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),i("span",{staticClass:"u-txt"},[t._v(t._s(t.title))])]),i("template",{slot:"head-actions"},[i("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publish_url}},[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v("完善"+t._s(t.title))])])]),i("template",{slot:"body"},[t.compatible?i("div",{staticClass:"m-wiki-compatible"},[i("i",{staticClass:"el-icon-warning-outline"}),t._v(" 暂无怀旧服攻略，以下为正式服攻略，仅作参考，"),i("a",{staticClass:"s-link",attrs:{href:t.publish_url}},[t._v("参与修订")]),t._v("。 ")]):t._e(),i("Article",{attrs:{content:t.wiki_post.post.content}}),i("div",{staticClass:"m-wiki-signature"},[i("i",{staticClass:"el-icon-edit"}),t._v(" 本次修订由 "),i("b",[t._v(t._s(t.user_name))]),t._v(" 提交于"+t._s(t.updated_at)+" ")]),i("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:t.type,adminBoxcoinEnable:!1,userBoxcoinEnable:!1}})],1)],2),i("WikiRevisions",{attrs:{type:t.source_type,"source-id":t.source_id,isGame:!0}})],1):t._e(),t.is_empty?i("div",{staticClass:"m-wiki-post-empty"},[i("i",{staticClass:"el-icon-s-opportunity"}),i("span",[t._v("暂无攻略，我要")]),i("a",{staticClass:"s-link",attrs:{href:t.publish_url}},[t._v("完善攻略")])]):t._e()])},s=[],a=(i("99af"),i("a974")),r=i("662c"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("WikiPanel",{staticClass:"c-wiki-revisions",attrs:{scene:"detail"}},[i("template",{slot:"head-title"},[i("i",{staticClass:"el-icon-time"}),i("span",[t._v("历史版本")])]),i("template",{slot:"body"},[i("div",{staticClass:"m-revisions-panel"},[t.versions&&t.versions.length?t._e():i("div",{staticClass:"u-empty"},[null===t.versions?i("span",[t._v("🎉 数据加载中...")]):t._e(),!1===t.versions?i("span",[t._v("⚠️ 数据加载异常")]):t._e(),t.versions&&!t.versions.length?i("span",[t._v("💧 暂无数据")]):t._e()]),t.versions&&t.versions.length?i("table",{staticClass:"m-histories"},[i("tr",[i("th",[t._v("版本")]),i("th",[t._v("更新时间")]),i("th",[t._v("贡献者")]),i("th",[t._v("修订说明")])]),t._l(t.versions,(function(e,n){return i("tr",{key:n,staticClass:"history"},[i("td",[i("a",{attrs:{href:t.link(t.type,e.source_id+"/"+e.id)},domProps:{textContent:t._s("v"+(t.versions.length-n))},on:{click:function(i){return t.redirectRevision(e,i)}}})]),i("td",{domProps:{textContent:t._s(t.ts2str(e.updated))}}),i("td",[i("a",{attrs:{href:e.user_id?t.author_url(e.user_id):null},domProps:{textContent:t._s(e.user_nickname)}})]),i("td",{domProps:{textContent:t._s(e.remark)}})])}))],2):t._e()])])],2)},c=[],l=(i("caad"),i("2532"),i("fb6a"),i("ac1f"),i("5319"),i("4328")),u=i.n(l),d=i("41cb");let p={newest(t,e,i=1,n="std"){if(e)return Object(d["b"])()({method:"GET",url:"/api/wiki/post",params:{type:t,source_id:e,supply:i,client:n}})},newests(t){return Object(d["b"])()({method:"GET",url:"/api/wiki/posts/newest",params:{type:t}})},versions(t,e){if(e)return Object(d["b"])()({method:"GET",url:"/api/wiki/post/versions",params:{type:t,source_id:e}})},view(t,e={}){return t?Object(d["b"])()({method:"GET",url:"/api/wiki/post/"+t,params:e}):null},save(t){return Object(d["b"])()({method:"POST",url:"/api/wiki/post",data:u.a.stringify({post:t})})},myList(t){return Object(d["b"])()({method:"GET",url:"/api/my/wiki/posts",params:t})},myRemove(t){return t?Object(d["b"])()({method:"PUT",url:`/api/my/wiki/post/${t}/remove`}):null}};var f=i("85e4"),v=i("65c2"),h={name:"WikiRevisions",props:["type","sourceId","isGame"],data:function(){return{versions:null}},computed:{baseUrl:function(){return location.href.includes("classic")||location.href.includes("origin")?v["__OriginRoot"]:v["__Root"]},prefix:function(){return this.isGame?this.baseUrl.slice(0,-1):""}},methods:{link:function(t,e){return this.prefix+Object(f["getLink"])(t,e)},author_url:function(t){return this.prefix+Object(f["authorLink"])(t)},ts2str:f["ts2str"],redirectRevision:function(t,e){!this.isGame&&this.$router&&(e.preventDefault(),this.$router.replace({path:"/view/".concat(t.source_id,"/").concat(t.id)}))}},components:{WikiPanel:r["a"]},watch:{sourceId:{immediate:!0,handler:function(){var t=this;this.sourceId&&p.versions(this.type,this.sourceId).then((function(e){e=e.data,t.versions=200===e.code&&e.data.versions}),(function(){t.versions=!1}))}}}},m=h,_=(i("ad91"),i("2877")),g=Object(_["a"])(m,o,c,!1,null,null,null),b=g.exports,k={name:"Wiki",components:{WikiPanel:r["a"],WikiRevisions:b,Article:a["a"]},props:["title","source_type","source_id","type","id"],data:function(){return{wiki_post:null,compatible:!1}},computed:{post_content:function(){var t;return null===(t=this.wiki_post)||void 0===t?void 0:t.post},is_empty:function(){var t;return!(null!==(t=this.wiki_post)&&void 0!==t&&t.post)},isRevision:function(){return!!this.$route.params.post_id},client:function(){return this.$store.state.client},params:function(){return{type:this.source_type,source_id:this.id,supply:1,client:this.client}},user_name:function(){var t,e;return null===(t=this.wiki_post)||void 0===t||null===(e=t.post)||void 0===e?void 0:e.user_nickname},updated_at:function(){var t,e;return Object(f["ts2str"])(null===(t=this.wiki_post)||void 0===t||null===(e=t.post)||void 0===e?void 0:e.updated)},publish_url:function(){return Object(f["publishLink"])("".concat(this.source_type,"/").concat(this.source_id))}},methods:{loadData:function(){var t=this;"std"==this.client?p.newest(this.source_type,this.source_id,1,"std").then((function(e){var i;t.wiki_post=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data,console.log("获取正式服攻略")})):p.newest(this.source_type,this.source_id,1,"origin").then((function(e){var i;t.wiki_post=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data,console.log("获取怀旧服攻略")})).then((function(){t.post_content||p.newest(t.source_type,t.source_id,1,"std").then((function(e){var i;t.wiki_post=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data,t.compatible=!0,console.log("兼容：获取正式服攻略")}))}))}},watch:{source_id:{immediate:!0,handler:function(t){t&&this.loadData()}}},mounted:function(){}},y=k,x=(i("acda"),Object(_["a"])(y,n,s,!1,null,null,null));e["a"]=x.exports},c607:function(t,e,i){var n=i("da84"),s=i("83ab"),a=i("fce3"),r=i("c6b6"),o=i("9bf2").f,c=i("69f3").get,l=RegExp.prototype,u=n.TypeError;s&&a&&o(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===r(this))return!!c(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},c98d:function(t,e,i){},d86b:function(t,e,i){var n=i("d039");t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},ea20:function(t,e,i){},f183:function(t,e,i){var n=i("23e7"),s=i("e330"),a=i("d012"),r=i("861d"),o=i("1a2d"),c=i("9bf2").f,l=i("241c"),u=i("057f"),d=i("4fad"),p=i("90e3"),f=i("bb2f"),v=!1,h=p("meta"),m=0,_=function(t){c(t,h,{value:{objectID:"O"+m++,weakData:{}}})},g=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,h)){if(!d(t))return"F";if(!e)return"E";_(t)}return t[h].objectID},b=function(t,e){if(!o(t,h)){if(!d(t))return!0;if(!e)return!1;_(t)}return t[h].weakData},k=function(t){return f&&v&&d(t)&&!o(t,h)&&_(t),t},y=function(){x.enable=function(){},v=!0;var t=l.f,e=s([].splice),i={};i[h]=1,t(i).length&&(l.f=function(i){for(var n=t(i),s=0,a=n.length;s<a;s++)if(n[s]===h){e(n,s,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},x=t.exports={enable:y,fastKey:g,getWeakData:b,onFreeze:k};a[h]=!0},ffe5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-67436294.523f8bd3.js.map