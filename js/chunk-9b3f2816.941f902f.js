(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b3f2816"],{"1c59":function(t,e,n){"use strict";var i=n("6d61"),a=n("6566");i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"498b":function(t,e,n){},"4fadd":function(t,e,n){var i=n("d039"),a=n("861d"),r=n("c6b6"),s=n("d86b"),c=Object.isExtensible,o=i((function(){c(1)}));t.exports=o||s?function(t){return!!a(t)&&((!s||"ArrayBuffer"!=r(t))&&(!c||c(t)))}:c},6062:function(t,e,n){n("1c59")},"60d7":function(t){t.exports=JSON.parse('["蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","青梅煮酒"]')},6566:function(t,e,n){"use strict";var i=n("9bf2").f,a=n("7c73"),r=n("6964"),s=n("0366"),c=n("19aa"),o=n("7234"),u=n("2266"),d=n("c6d2"),l=n("4754"),f=n("2626"),v=n("83ab"),h=n("f183").fastKey,p=n("69f3"),m=p.set,_=p.getterFor;t.exports={getConstructor:function(t,e,n,d){var l=t((function(t,i){c(t,f),m(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),v||(t.size=0),o(i)||u(i,t[d],{that:t,AS_ENTRIES:n})})),f=l.prototype,p=_(e),g=function(t,e,n){var i,a,r=p(t),s=b(t,e);return s?s.value=n:(r.last=s={index:a=h(e,!0),key:e,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=s),i&&(i.next=s),v?r.size++:t.size++,"F"!==a&&(r.index[a]=s)),t},b=function(t,e){var n,i=p(t),a=h(e);if("F"!==a)return i.index[a];for(n=i.first;n;n=n.next)if(n.key==e)return n};return r(f,{clear:function(){var t=this,e=p(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,v?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),i=b(e,t);if(i){var a=i.next,r=i.previous;delete n.index[i.index],i.removed=!0,r&&(r.next=a),a&&(a.previous=r),n.first==i&&(n.first=a),n.last==i&&(n.last=r),v?n.size--:e.size--}return!!i},forEach:function(t){var e,n=p(this),i=s(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),r(f,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),v&&i(f,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var i=e+" Iterator",a=_(e),r=_(i);d(t,e,(function(t,e){m(this,{type:i,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?l("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,l(void 0,!0))}),n?"entries":"values",!n,!0),f(e)}}},6930:function(t,e,n){},"6d61":function(t,e,n){"use strict";var i=n("23e7"),a=n("da84"),r=n("e330"),s=n("94ca"),c=n("cb2d"),o=n("f183"),u=n("2266"),d=n("19aa"),l=n("1626"),f=n("7234"),v=n("861d"),h=n("d039"),p=n("1c7e"),m=n("d44e"),_=n("7156");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),y=g?"set":"add",k=a[t],x=k&&k.prototype,Y=k,w={},C=function(t){var e=r(x[t]);c(x,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!v(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!v(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!v(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},D=s(t,!l(k)||!(b||x.forEach&&!h((function(){(new k).entries().next()}))));if(D)Y=n.getConstructor(e,t,g,y),o.enable();else if(s(t,!0)){var O=new Y,S=O[y](b?{}:-0,1)!=O,j=h((function(){O.has(1)})),L=p((function(t){new k(t)})),M=!b&&h((function(){var t=new k,e=5;while(e--)t[y](e,e);return!t.has(-0)}));L||(Y=e((function(t,e){d(t,x);var n=_(new k,t,Y);return f(e)||u(e,n[y],{that:n,AS_ENTRIES:g}),n})),Y.prototype=x,x.constructor=Y),(j||M)&&(C("delete"),C("has"),g&&C("get")),(M||S)&&C(y),b&&x.clear&&delete x.clear}return w[t]=Y,i({global:!0,constructor:!0,forced:Y!=k},w),m(Y,t),b||n.setStrong(Y,t,g),Y}},"85b5":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("841c");var i=function(){var t=this,e=t._self._c;return t.id?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-adventure-single"},[e("div",{staticClass:"m-adventure-navigation"},[e("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),e("el-input",{staticClass:"u-input",attrs:{placeholder:"请输入奇遇或宠物名字搜索"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.goSearch},slot:"append"})],1)],1),e("div",{staticClass:"m-adventure-header"},[e("h1",{staticClass:"m-adventure-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"m-trigger-links"},[e("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achieve_id),target:"_blank"}},[e("i",{staticClass:"el-icon-trophy"}),t._v(" 成就信息 ")])])]),e("div",{staticClass:"m-adventure-content"},[e("task",{attrs:{id:t.id}})],1),t.achieve_id?e("div",{staticClass:"m-adventure-wiki"},[e("Wiki",{attrs:{source_type:"achievement",source_id:t.achieve_id,type:t.type,id:t.id,title:"奇遇攻略",source_title:t.title}})],1):t._e(),e("div",{staticClass:"m-adventure-serendipity"},[e("Serendipity",{attrs:{title:t.title}})],1),e("div",{staticClass:"m-pvx-comment"},[e("Comment",{attrs:{id:t.id,category:t.type,order:"desc"}})],1)]):t._e()},a=[],r=(n("14d9"),n("d3b7"),n("85e4")),s=n("bd8e"),c=n("bed2"),o=(n("b0c0"),function(){var t=this,e=t._self._c;return t.task?e("div",{staticClass:"m-adventure-task"},[e("el-carousel",{staticClass:"u-carousel",attrs:{autoplay:!1,type:"card"}},t._l(t.task,(function(n,i){return e("el-carousel-item",{key:i},[e("span",{staticClass:"u-img",style:t.imgStyle(n)})])})),1),e("span",{staticClass:"u-name"},[t._v(t._s(t.task.name))])],1):t._e()}),u=[],d=n("2909"),l=(n("466d"),n("159b"),n("5319"),n("6062"),n("3ca3"),n("ddb0"),{name:"task",props:["id"],inject:["__imgRoot"],components:{},data:function(){return{task:""}},computed:{client:function(){return this.$store.state.client}},methods:{imgNameTga:function(t){return t.match(/(\S*)Adventure\/(\S*)\.tga/)[2]},imgStyle:function(t){return{backgroundImage:"url("+this.__imgRoot+"adventure/".concat(this.client,"/")+t+".png)"}},loadData:function(){var t=this;Object(c["b"])(this.id).then((function(e){var n=[];e.data.forEach((function(e){if(e.szFramePath){var i,a=null===(i=e.szFramePath)||void 0===i?void 0:i.replace(/\\/g,"/");n.push(t.imgNameTga(a))}})),t.task=Object(d["a"])(new Set(n))}))}},filters:{},created:function(){},mounted:function(){this.loadData()}}),f=l,v=n("2877"),h=Object(v["a"])(f,o,u,!1,null,null,null),p=h.exports,m=function(){var t=this,e=t._self._c;return t.title?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-serendipity"},[e("div",{staticClass:"u-title"},[e("span",{staticClass:"u-label"},[e("i",{staticClass:"el-icon-present"}),t._v(" 触发记录 "),e("el-select",{staticClass:"u-server",attrs:{placeholder:"区服",size:"small"},on:{change:t.changeServer},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},t._l(t.servers,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("a",{staticClass:"u-more",attrs:{href:"https://j3cx.com/serendipity",target:"_blank"}},[t._v("查看更多 »")])]),t.list&&t.list.length>0?e("ul",{staticClass:"u-list"},[t._m(0),t._l(t.list,(function(n,i){return e("li",{key:i},[e("span",{staticClass:"u-date"},[t._v(t._s(t._f("showDate")(n.date_str)))]),e("span",{staticClass:"u-time"},[t._v(t._s(t._f("wikiDate")(n.dwTime)))]),e("span",{staticClass:"u-server"},[t._v(t._s(n.region)+"-"+t._s(n.server))]),e("span",{staticClass:"u-name"},[t._v(t._s(n.name||"匿名"))])])}))],2):e("el-alert",{staticClass:"u-alert",attrs:{title:"无记录",type:"info",center:"",closable:!1}})],1):t._e()},_=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"u-header"},[e("span",{staticClass:"u-date"},[t._v("日期")]),e("span",{staticClass:"u-time"},[t._v("激活时间")]),e("span",{staticClass:"u-server"},[t._v("服务器")]),e("span",{staticClass:"u-name"},[t._v("玩家")])])}],g=n("60d7"),b=n("41cb");function y(){return Object(b["a"])().get("/api/cms/user/my/info")}function k(t){var e="https://pull.j3cx.com/";return b["h"].get("/api/serendipity",{baseURL:e,params:t})}var x=n("8f09"),Y=n("c9d2"),w={name:"serendipity",props:["title"],components:{},data:function(){return{servers:g,server:"长安城",list:[],loading:!1}},computed:{params:function(){return{server:this.server,serendipity:this.title,start:0,pageIndex:1,pageSize:10}}},methods:{loadSerendipity:function(){var t=this;this.loading=!0,k(this.params).then((function(e){t.list=e.data.data.data})).finally((function(){t.loading=!1}))},changeServer:function(){this.loadSerendipity()}},filters:{wikiDate:function(t){return Object(x["b"])(1e3*t)},showDate:function(t){return Object(x["a"])(t)}},mounted:function(){var t=this;Y["a"].isLogin()?y().then((function(e){t.server=e.data.data.jx3_server||"长安城"})).then((function(){t.loadSerendipity()})):this.loadSerendipity()}},C=w,D=(n("ef52"),Object(v["a"])(C,m,_,!1,null,null,null)),O=D.exports,S=n("23d8"),j=n("9616"),L={name:"adventureSingle",props:[],components:{Wiki:s["a"],task:p,Serendipity:O,Comment:S["a"]},data:function(){return{type:"adventure",achieve_id:"",data:"",task:[],isPet:!0,loading:!1,search:""}},computed:{id:function(){return this.$route.params.id},title:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.szName}},watch:{id:{immediate:!0,handler:function(t){t&&this.getData()}}},methods:{getLink:r["getLink"],goBack:function(){this.$router.push({name:"list"})},getData:function(){var t=this;this.loading=!0,Object(c["a"])(this.id).then((function(e){t.isPet=!1,t.data=e.data})).finally((function(){t.loading=!1,Object(j["b"])(t.type,t.id)})),Object(c["d"])(this.id).then((function(e){t.achieve_id=e.data.achievement_id}))},goSearch:function(){this.$router.push({name:"list",params:{search:this.search}})}},mounted:function(){}},M=L,z=(n("95fe"),Object(v["a"])(M,i,a,!1,null,null,null));e["default"]=z.exports},"8f09":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return c}));var i=n("c1df"),a=n.n(i);function r(t){return a()(t).fromNow()}function s(t){return a()(t).format("YYYY-MM-DD")}function c(t){return a()(t).format("YYYY-MM-DD HH:mm:ss")}a.a.locale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY年MM月DD日",LLL:"YYYY年MM月DD日Ah点mm分",LLLL:"YYYY年MM月DD日ddddAh点mm分",l:"YYYY-M-D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"下午"===e||"晚上"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})},"95fe":function(t,e,n){"use strict";n("6930")},bb2f:function(t,e,n){var i=n("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bed2:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c}));var i=n("41cb");n("65c2");function a(t){return Object(i["e"])().get("/serendipities",{params:t})}function r(t){return Object(i["e"])().get("/serendipity/".concat(t))}function s(t){return Object(i["e"])().get("/serendipity/".concat(t,"/task"))}function c(t){return Object(i["e"])().get("/serendipity/".concat(t,"/achievement"))}},d86b:function(t,e,n){var i=n("d039");t.exports=i((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},ef52:function(t,e,n){"use strict";n("498b")},f183:function(t,e,n){var i=n("23e7"),a=n("e330"),r=n("d012"),s=n("861d"),c=n("1a2d"),o=n("9bf2").f,u=n("241c"),d=n("057f"),l=n("4fadd"),f=n("90e3"),v=n("bb2f"),h=!1,p=f("meta"),m=0,_=function(t){o(t,p,{value:{objectID:"O"+m++,weakData:{}}})},g=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,p)){if(!l(t))return"F";if(!e)return"E";_(t)}return t[p].objectID},b=function(t,e){if(!c(t,p)){if(!l(t))return!0;if(!e)return!1;_(t)}return t[p].weakData},y=function(t){return v&&h&&l(t)&&!c(t,p)&&_(t),t},k=function(){x.enable=function(){},h=!0;var t=u.f,e=a([].splice),n={};n[p]=1,t(n).length&&(u.f=function(n){for(var i=t(n),a=0,r=i.length;a<r;a++)if(i[a]===p){e(i,a,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},x=t.exports={enable:k,fastKey:g,getWeakData:b,onFreeze:y};r[p]=!0}}]);
//# sourceMappingURL=chunk-9b3f2816.941f902f.js.map