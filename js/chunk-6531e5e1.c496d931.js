(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6531e5e1"],{"097b6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-pet-single"},[n("div",{staticClass:"m-toolbar"},[n("el-button",{attrs:{size:"medium",icon:"el-icon-arrow-left"},on:{click:t.goBack}},[t._v("返回列表")]),n("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-s-promotion"},on:{click:t.goItem}},[t._v("查看物品")])],1),n("div",{staticClass:"v-pet-panel flex"},[n("petCard",{staticClass:"u-pet-card",attrs:{petObject:t.pet}}),n("div",{staticClass:"v-pet-info flex"},[n("div",{staticClass:"u-pet-name"},[t._v(t._s(t.pet.Name))]),n("div",{},[t._l(t.petWiki.skills,(function(e,i){return[n("el-popover",{key:i,attrs:{trigger:"click","popper-class":"u-pet-skill-pop","visible-arrow":!1,placement:"top"}},[n("div",{staticClass:"u-desc"},[n("div",[t._v(t._s(e.Name))]),n("div",[t._v(t._s(e.Desc))])]),n("img",{staticClass:"u-icon",attrs:{slot:"reference",src:t._f("iconLink")(e.IconID),alt:""},slot:"reference"})])]}))],2),n("div",{staticClass:"v-pet-orange"},[t._v(" "+t._s(t.getPetType(t.pet.Class))+" · "+t._s(t.getPetSource(t.pet.Source))+" ")]),n("div",t._l(t.pet.Star,(function(t){return n("i",{key:t,staticClass:"el-icon-star-on"})})),0),n("div",[t._v("宠物分数："+t._s(t.pet.Score))]),n("div",{staticClass:"u-pet-desc"},[t._v("宠物说明： "),t._l(t.getPetDesc(t.pet.Desc),(function(e){return[n("span",{key:e.text},[t._v(t._s(e.text))])]}))],2),n("div",{staticClass:"u-source-text"},[t._l(t.getPetDesc(t.pet.OutputDes),(function(e){return[n("span",{key:e.text},[t._v(t._s(e.text))])]}))],2),t.shopInfo.RewardsPrice||t.shopInfo.CoinPrice?n("div",{staticClass:"u-shop-text"},[t._v(" 商城价格： "),n("el-tag",{staticClass:"u-credit",attrs:{type:"warning"}},[t._v("积分："+t._s(t.shopInfo.RewardsPrice))]),n("el-tag",{attrs:{type:"danger"}},[t._v("通宝："+t._s(t.shopInfo.CoinPrice))])],1):t._e()]),n("div",{staticClass:"m-pet-wiki"},[n("wiki-panel",{attrs:{scene:"detail",wikiPost:t.postPet,borderNone:!0}})],1)],1)])},c=[],r=(n("7db0"),n("d3b7"),n("b0c0"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("5319"),n("fb6a"),n("99af"),n("9b7f")),a=n("41cb"),s=function(t,e){return Object(a["c"])().get("api/wiki/post?type=".concat(t,"&source_id=").concat(e,"&supply=1"))},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-pet-listItemA"},[n("img",{staticClass:"v-pet-petImg",attrs:{src:t.getBgPath(t.petObject.BgPath)}}),n("img",{staticClass:"v-pet-petFrame",attrs:{src:t.getFrame(t.petObject.Quality)}}),n("div",{staticClass:"v-pet-grayStar flex"},t._l(5,(function(t){return n("img",{key:t,attrs:{src:"https://icon.jx3box.com/pvx/pet/misc/newpets-81.png"}})})),0),n("div",{staticClass:"v-pet-goldStar flex"},t._l(t.petObject.Star,(function(t){return n("img",{key:t,attrs:{src:"https://icon.jx3box.com/pvx/pet/misc/newpets-18.png"}})})),0),n("div",{staticClass:"v-pet-score flex"},[t._v(" "+t._s(t.petObject.Score?t.petObject.Score:"？")+" ")]),n("span",[t._v(t._s(t.petObject.Name))])])},u=[],p=(n("466d"),{props:{petObject:{}},data:function(){return{}},methods:{getBgPath:function(t){if(t){var e=t.match(/.*\\(.*?).tga/);return"kp_WJ_运输机甲001"==e[1]&&(e[1]="kp_wj_运输机甲001"),"https://icon.jx3box.com/pvx/pet/images/"+e[1]+".png"}},getFrame:function(t){var e="";if(t){switch(t){case 2:e="/greenborder.png";break;case 3:e="/blueborder.png";break;case 4:e="/purpleborder.png";break;case 5:e="/purpleborder.png";break}return"https://icon.jx3box.com/pvx/pet/frame"+e}}}}),l=p,d=(n("2d4f"),n("2877")),f=Object(d["a"])(l,o,u,!1,null,null,null),v=f.exports,g=n("662c"),m=n("60f8"),h=n("4649"),b=n("85e4"),_={name:"PetSingle",props:[],components:{petCard:v,WikiPanel:g["a"]},data:function(){return{pet:{},petWiki:{},shopInfo:"",postPet:""}},computed:{id:function(){return this.$route.params.id},source_id:function(t){var e=t.pet;return(null===e||void 0===e?void 0:e.ItemTabType)+"_"+(null===e||void 0===e?void 0:e.ItemTabIndex)},client:function(){return this.$store.state.client}},watch:{},methods:{getPetInfo:function(){var t=this;Object(r["a"])(this.id).then((function(e){t.pet=e.data,t.getPetWiki(),t.getShopInfo()}))},getPetWiki:function(){var t=this;s("item",this.source_id).then((function(e){var n,i,c;t.petWiki=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.data)||void 0===i||null===(c=i.source)||void 0===c?void 0:c.pet,t.petWiki.achievement_id&&s("achievement",t.petWiki.achievement_id).then((function(e){var n,i;t.postPet=(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.post)||""}))}))},getShopInfo:function(){var t=this,e={item_type:this.pet.ItemTabType,item_id:this.pet.ItemTabIndex};Object(r["d"])(e).then((function(e){t.shopInfo=(null===e||void 0===e?void 0:e.data)||""}))},getPetType:function(t){var e=m.find((function(e){return e.class===t}));return(null===e||void 0===e?void 0:e.name)||""},getPetSource:function(t){var e=h.find((function(e){return~~t===~~e.source}));return(null===e||void 0===e?void 0:e.name)||""},getPetDesc:function(t){var e,n=new RegExp("<text>text=([\\s\\S]*?)font=([0-9]+)[\\s\\S]*?<\\/text>","gimy"),i=[];while(e=n.exec(t))i.push(e);for(var c=[],r=0,a=i;r<a.length;r++){var s=a[r];c.push({font:~~s[2],text:s[1].slice(1,-2).replace(/[\\n]/g,"")})}return c},goBack:function(){this.$router.push({name:"list"})},goItem:function(){var t=this.pet,e=t.ItemTabType,n=t.ItemTabIndex,i=Object(b["getLink"])("item","".concat(e,"_").concat(n));window.open(i,"_blank")}},filters:{iconLink:b["iconLink"]},created:function(){},mounted:function(){this.getPetInfo()}},x=_,k=(n("d889"),Object(d["a"])(x,i,c,!1,null,null,null));e["default"]=k.exports},"25f0":function(t,e,n){"use strict";var i=n("e330"),c=n("5e77").PROPER,r=n("6eeb"),a=n("825a"),s=n("3a9b"),o=n("577e"),u=n("d039"),p=n("ad6d"),l="toString",d=RegExp.prototype,f=d[l],v=i(p),g=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),m=c&&f.name!=l;(g||m)&&r(RegExp.prototype,l,(function(){var t=a(this),e=o(t.source),n=t.flags,i=o(void 0===n&&s(d,t)&&!("flags"in d)?v(t):n);return"/"+e+"/"+i}),{unsafe:!0})},"2d4f":function(t,e,n){"use strict";n("ea20")},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"466d":function(t,e,n){"use strict";var i=n("c65b"),c=n("d784"),r=n("825a"),a=n("50c4"),s=n("577e"),o=n("1d80"),u=n("dc4a"),p=n("8aa5"),l=n("14c3");c("match",(function(t,e,n){return[function(e){var n=o(this),c=void 0==e?void 0:u(e,t);return c?i(c,e,n):new RegExp(e)[t](s(n))},function(t){var i=r(this),c=s(t),o=n(e,i,c);if(o.done)return o.value;if(!i.global)return l(i,c);var u=i.unicode;i.lastIndex=0;var d,f=[],v=0;while(null!==(d=l(i,c))){var g=s(d[0]);f[v]=g,""===g&&(i.lastIndex=p(c,a(i.lastIndex),u)),v++}return 0===v?null:f}]}))},"4d63":function(t,e,n){var i=n("83ab"),c=n("da84"),r=n("e330"),a=n("94ca"),s=n("7156"),o=n("9112"),u=n("9bf2").f,p=n("241c").f,l=n("3a9b"),d=n("44e7"),f=n("577e"),v=n("ad6d"),g=n("9f7f"),m=n("6eeb"),h=n("d039"),b=n("1a2d"),_=n("69f3").enforce,x=n("2626"),k=n("b622"),y=n("fce3"),I=n("107c"),w=k("match"),P=c.RegExp,C=P.prototype,S=c.SyntaxError,j=r(v),O=r(C.exec),E=r("".charAt),R=r("".replace),T=r("".indexOf),D=r("".slice),W=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,A=/a/g,B=new P(N)!==N,J=g.MISSED_STICKY,$=g.UNSUPPORTED_Y,L=i&&(!B||J||y||I||h((function(){return A[w]=!1,P(N)!=N||P(A)==A||"/a/i"!=P(N,"i")}))),F=function(t){for(var e,n=t.length,i=0,c="",r=!1;i<=n;i++)e=E(t,i),"\\"!==e?r||"."!==e?("["===e?r=!0:"]"===e&&(r=!1),c+=e):c+="[\\s\\S]":c+=e+E(t,++i);return c},z=function(t){for(var e,n=t.length,i=0,c="",r=[],a={},s=!1,o=!1,u=0,p="";i<=n;i++){if(e=E(t,i),"\\"===e)e+=E(t,++i);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:O(W,D(t,i+1))&&(i+=2,o=!0),c+=e,u++;continue;case">"===e&&o:if(""===p||b(a,p))throw new S("Invalid capture group name");a[p]=!0,r[r.length]=[p,u],o=!1,p="";continue}o?p+=e:c+=e}return[c,r]};if(a("RegExp",L)){for(var U=function(t,e){var n,i,c,r,a,u,p=l(C,this),v=d(t),g=void 0===e,m=[],h=t;if(!p&&v&&g&&t.constructor===U)return t;if((v||l(C,t))&&(t=t.source,g&&(e="flags"in h?h.flags:j(h))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),h=t,y&&"dotAll"in N&&(i=!!e&&T(e,"s")>-1,i&&(e=R(e,/s/g,""))),n=e,J&&"sticky"in N&&(c=!!e&&T(e,"y")>-1,c&&$&&(e=R(e,/y/g,""))),I&&(r=z(t),t=r[0],m=r[1]),a=s(P(t,e),p?this:C,U),(i||c||m.length)&&(u=_(a),i&&(u.dotAll=!0,u.raw=U(F(t),n)),c&&(u.sticky=!0),m.length&&(u.groups=m)),t!==h)try{o(a,"source",""===h?"(?:)":h)}catch(b){}return a},Y=function(t){t in U||u(U,t,{configurable:!0,get:function(){return P[t]},set:function(e){P[t]=e}})},q=p(P),K=0;q.length>K;)Y(q[K++]);C.constructor=U,U.prototype=C,m(c,"RegExp",U)}x("RegExp")},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},"9b7f":function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return p}));n("99af");var i=n("41cb"),c=n("65c2"),r=n("bc3a"),a=n.n(r);function s(t){return Object(i["e"])().get("/pets",{params:t})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return Object(i["e"])().get("/pet/".concat(t,"?client=").concat(e))}function u(t){var e=t.item_type,n=t.item_id,c=t.client,r=void 0===c?"std":c;return Object(i["e"])().get("/shop",{params:{client:r,itemType:e,itemId:n}})}function p(){return a.a.get(c["__iconPath"]+"pvx/pet/output/pet_lucky.json")}},c607:function(t,e,n){var i=n("da84"),c=n("83ab"),r=n("fce3"),a=n("c6b6"),s=n("9bf2").f,o=n("69f3").get,u=RegExp.prototype,p=i.TypeError;c&&r&&s(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!o(this).dotAll;throw p("Incompatible receiver, RegExp required")}}})},d889:function(t,e,n){"use strict";n("dd66")},dd66:function(t,e,n){},ea20:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6531e5e1.c496d931.js.map