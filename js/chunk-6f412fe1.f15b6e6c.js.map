{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./src/components/book/common/item_icon.vue","webpack:///src/components/book/common/item_icon.vue","webpack:///./src/components/book/common/item_icon.vue?3370","webpack:///./src/components/book/common/item_icon.vue?9c18","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/components/PvxUser.vue?00b0","webpack:///./src/components/PvxUser.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue","webpack:///node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue?6c0f","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue?3144","webpack:///node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?8ccb","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?210a","webpack:///src/components/PvxUser.vue","webpack:///./src/components/PvxUser.vue?906b","webpack:///./src/components/PvxUser.vue?ee72","webpack:///./src/service/book.js","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/book/Single.vue?38c0","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./src/components/book/common/item_icon.vue?ebb0","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?0877","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/book/Single.vue","webpack:///src/views/book/Single.vue","webpack:///./src/views/book/Single.vue?88b6","webpack:///./src/views/book/Single.vue?7527","webpack:///./src/components/book/BookCard.vue","webpack:///src/components/book/BookCard.vue","webpack:///./src/components/book/BookCard.vue?7031","webpack:///./src/components/book/BookCard.vue?a556","webpack:///./src/utils/index.js","webpack:///./src/components/book/BookCard.vue?0259"],"names":["$","flattenIntoArray","toObject","lengthOfArrayLike","toIntegerOrInfinity","arraySpeciesCreate","target","proto","flat","depthArg","arguments","length","undefined","O","this","sourceLen","A","render","_vm","_c","_self","staticClass","attrs","slot","class","background","onlyIcon","is_vertical","vertical","onlyName","_e","style","concat","size","getLink","source","id","iconLink","IconID","backgroundImage","item_border","opacity","Quality","item_border_quest","display_amount","_v","_s","Name","staticRenderFns","name","data","real_id","maybeBook","components","Item","props","type","Number","default","item_id","String","amount","Boolean","methods","get_data","_this","get_item","client","then","res","item","Object","keys","sessionStorage","setItem","cache_key","JSON","stringify","catch","e","_e$data","code","IsQuest","__imgPath","computed","$store","state","watch","immediate","handler","_cache","getItem","parse","console","log","mounted","component","$values","values","stat","wiki_post","post","publish_url","compatible","content","user_name","updated_at","_t","key","author_id","authors","directives","rawName","value","loading","expression","comments","sourceId","page","total","pageSize","on","handleCurrentChange","reply_form","domProps","$event","composing","$set","user_nickname","create_comment","_l","comment","user_id","author_url","parent_id","parent","show","ts2str","updated","children","authorLink","form","app","$parent","$message","message","User","getInfo","location","href","includes","get_comments","filter","outputs","_loop","c","index","map","push","wikiComment","list","i","current_page","_this2","source_id","finally","WikiPanel","Comment","Article","WikiRevisions","WikiComments","required","is_empty","post_id","loadRevision","loadData","$route","params","isRevision","_this$wiki_post","_this$wiki_post$post","_this$wiki_post2","_this$wiki_post2$post","_this$wiki_post3","_this$wiki_post3$post","fav_title","_this$wiki_post4","_this$wiki_post4$sour","_this$wiki_post5","_this$wiki_post5$user","_this$wiki_post5$user2","users","user","user_avatar","avatar","display_name","nickname","wiki","mix","supply","isEmpty","triggerStat","getById","_res$data","publishLink","postStat","$node","getList","get","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","CHROME_BUG","FORCED","forced","reduce","callbackfn","addToUnscopables","DESCRIPTORS","uncurryThis","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","createMethod","TO_ENTRIES","it","result","module","exports","entries","IndexedObject","nativeJoin","join","ES3_STRINGS","separator","isArray","doesNotExceedSafeInteger","bind","original","start","depth","mapper","thisArg","element","elementLen","targetIndex","sourceIndex","mapFn","aCallable","$TypeError","TypeError","IS_RIGHT","that","argumentsLength","memo","self","right","ref","goBack","book","Desc","contentInfo","ExtendProfessionID1","test","isVertical","arrowShow","noMore","toMore","noBack","toBack","toSwitch","getOrigin","bookMapSite","dialogVisible","indexOf","getBossOrigin","getShopOrigin","getQuestOrigin","questId","questName","getProfessionType","BookName","RequireLevel","copy","ID","staticStyle","RequirePlayerLevel","RequireLevelExt","CostVigor","copyList","meterial","count","bookList","listLoading","AchievementID","idKey","isPhone","parseInt","position","Jx3boxMap","BookCard","ItemIcon","PvxUser","bookWrap","$refs","sW","scrollWidth","sLeft","scrollLeft","cW","clientWidth","step","Math","ceil","scrollBy","behavior","sH","scrollHeight","sTop","scrollTop","cH","clientHeight","top","$router","path","fbMaps","maps_std","maps_orgin","maps","dungeon","a","b","mItem","map_id","mode","drops","orgin","forEach","BossName","find","MapID","shopNames","ShopNames","replace","quests","Quests","questList","split","tempId","DoodadTemplateID","bookMapInfo","bookProfession","getData","_data$copy","contents","assign","title","x","y","z","keyArr","len","recentBook","dispatch","getBookList","keyword","$nextTick","_this$book","ItemID","bookMapInfoStd","bookMapInfoOrigin","_this3","wrapSW","wrapCW","bol","_this4","wrapSH","wrapCH","deleteNull","obj","prototype","toString","call","mobile","navigator","userAgent","match"],"mappings":"mIACA,IAAIA,EAAI,EAAQ,QACZC,EAAmB,EAAQ,QAC3BC,EAAW,EAAQ,QACnBC,EAAoB,EAAQ,QAC5BC,EAAsB,EAAQ,QAC9BC,EAAqB,EAAQ,QAIjCL,EAAE,CAAEM,OAAQ,QAASC,OAAO,GAAQ,CAClCC,KAAM,WACJ,IAAIC,EAAWC,UAAUC,OAASD,UAAU,QAAKE,EAC7CC,EAAIX,EAASY,MACbC,EAAYZ,EAAkBU,GAC9BG,EAAIX,EAAmBQ,EAAG,GAE9B,OADAG,EAAEL,OAASV,EAAiBe,EAAGH,EAAGA,EAAGE,EAAW,OAAgBH,IAAbH,EAAyB,EAAIL,EAAoBK,IAC7FO,M,kDCjBPC,EAAS,WAAkB,IAAIC,EAAIJ,KAAKK,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,aAAa,CAACE,YAAY,SAASC,MAAM,CAAC,UAAY,cAAc,QAAU,QAAQ,iBAAgB,EAAM,eAAe,kBAAkB,CAACH,EAAG,WAAW,CAACI,KAAK,aAAa,CAACJ,EAAG,MAAM,CAACE,YAAY,kBAAkBG,MAAM,CAAEC,YAAaP,EAAIQ,SAAUC,YAAaT,EAAIU,WAAY,CAAGV,EAAIW,SAA4qBX,EAAIY,KAAtqBX,EAAG,IAAI,CAACE,YAAY,cAAcU,MAAK,UAAAC,OAAYd,EAAIe,KAAI,cAAAD,OAAad,EAAIe,KAAI,MAAMX,MAAM,CAAC,OAAS,SAAS,KAAOJ,EAAIgB,QAAQ,OAAQhB,EAAIiB,OAAOC,MAAM,CAACjB,EAAG,MAAM,CAACE,YAAY,mBAAmBU,MAAK,UAAAC,OAAYd,EAAIe,KAAI,cAAAD,OAAad,EAAIe,KAAI,MAAMX,MAAM,CAAC,IAAMJ,EAAImB,SAASnB,EAAIiB,OAAOG,WAAWnB,EAAG,MAAM,CAACE,YAAY,uBAAuBU,MAAO,CAAEQ,gBAAiBrB,EAAIsB,YAAYtB,EAAIiB,QAASM,QAA+B,GAAtBvB,EAAIiB,OAAOO,QAAe,GAAM,KAAOvB,EAAG,MAAM,CAACE,YAAY,qBAAqBU,MAAO,CAAEQ,gBAAiBrB,EAAIyB,kBAAkBzB,EAAIiB,WAAqC,IAAvBjB,EAAI0B,eAAsBzB,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACH,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAI0B,mBAAmB1B,EAAIY,OAAkBZ,EAAIQ,SAAqIR,EAAIY,KAA/HX,EAAG,MAAM,CAACE,YAAY,cAAcG,MAAK,gBAAAQ,OAAiBd,EAAIiB,OAAOO,UAAW,CAACxB,EAAI2B,GAAG,IAAI3B,EAAI4B,GAAG5B,EAAIiB,OAAOY,MAAM,WAAoB5B,EAAG,WAAW,CAACG,MAAM,CAAC,KAAOJ,EAAIiB,WAAW,IAE1tCa,EAAkB,G,gFCiDP,GACfC,KAAA,WACAC,KAAA,WACA,OACAf,OAAA,GACAgB,QAAA,KACAC,WAAA,IAGAC,WAAA,CACA,WAAAC,QAEAC,MAAA,CACAtB,KAAA,CACAuB,KAAAC,OACAC,QAAA,IAEAC,QAAA,CACAH,KAAAI,OACAF,QAAA,MAEAG,OAAA,CACAL,KAAAC,OACAC,QAAA,GAEA7B,SAAA,CACA2B,KAAAM,QACAJ,SAAA,GAEAhC,SAAA,CACA8B,KAAAM,QACAJ,SAAA,GAEA9B,SAAA,CACA4B,KAAAM,QACAJ,SAAA,IAGAK,QAAA,CACAC,SAAA,SAAAL,GAAA,IAAAM,EAAA,KACAN,GACAO,eAAAP,EAAA,KAAAQ,QACAC,MAAA,SAAAC,GACA,IAAAnB,EAAAmB,EAAAnB,KACAoB,EAAApB,OAAAoB,KACAC,OAAAC,KAAAF,GAAA3D,SACAsD,EAAA9B,OAAAmC,EACAG,eAAAC,QAAAT,EAAAU,UAAAC,KAAAC,UAAAP,QAGAQ,OAAA,SAAAC,GAAA,IAAAC,EAEA,aAAAD,QAAA,IAAAA,GAAA,QAAAC,EAAAD,EAAA7B,YAAA,IAAA8B,OAAA,EAAAA,EAAAC,QACA,IAAAhB,EAAAb,YACAa,EAAAb,WAAA,EACAa,EAAAd,QAAA,GAAAnB,OAAAiC,EAAAN,QAAA,KAAA3B,OAAAiC,EAAAJ,aAMAxB,uBACAH,qBACAS,kBAAA,SAAA2B,GACA,OAAAA,EAAAY,QAAA,SAAAlD,OAAAmD,eAAA,yBACA,IAEA3C,YAAA,SAAA8B,GACA,OAAAA,EAAA5B,SACA,OACA,aAAAV,OAAAmD,eAAA,wBACA,OACA,aAAAnD,OAAAmD,eAAA,0BACA,OACA,aAAAnD,OAAAmD,eAAA,0BACA,QACA,YAIAC,SAAA,CACAjB,OAAA,WACA,YAAAkB,OAAAC,MAAAnB,QAEAQ,UAAA,WACA,cAAA3C,OAAA,KAAAmC,OAAA,KAAAnC,OAAA,KAAAmB,UAEAP,eAAA,WACA,gBAAAQ,UACA,KAAAS,OAEA,IAIA0B,MAAA,CACApC,QAAA,CACAqC,WAAA,EACAC,QAAA,WACA,IAAAC,EAAAjB,eAAAkB,QAAA,KAAAhB,WACA,GAAAe,EACA,IACA,KAAAvD,OAAAyC,KAAAgB,MAAAF,GACA,MAAAX,GACAc,QAAAC,IAAAf,EAAA,kBACA,KAAAf,SAAA,KAAAb,cAGA,KAAAa,SAAA,KAAAb,YAKA4C,QAAA,WACA,KAAA5C,QAAA,KAAAQ,UCrKkb,I,wBCQ9aqC,EAAY,eACd,EACA/E,EACA+B,GACA,EACA,KACA,KACA,MAIa,OAAAgD,E,gCCnBf,IAAIhG,EAAI,EAAQ,QACZiG,EAAU,EAAQ,QAAgCC,OAItDlG,EAAE,CAAEM,OAAQ,SAAU6F,MAAM,GAAQ,CAClCD,OAAQ,SAAgBrF,GACtB,OAAOoF,EAAQpF,O,qCCPnB,W,4DCAII,EAAS,WAAkB,IAAIC,EAAIJ,KAAKK,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAAEH,EAAIkF,WAAalF,EAAIkF,UAAUC,KAAMlF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,YAAYJ,EAAIkF,YAAY,CAACjF,EAAG,WAAW,CAACI,KAAK,cAAc,CAACJ,EAAG,MAAM,CAACK,MAAM,SAASF,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,QAAU,cAAc,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,wdAAwdH,EAAG,OAAO,CAACE,YAAY,SAAS,CAACH,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAI+B,MAAM,UAAU9B,EAAG,WAAW,CAACI,KAAK,gBAAgB,CAACJ,EAAG,IAAI,CAACE,YAAY,+BAA+BC,MAAM,CAAC,KAAOJ,EAAIoF,YAAY,GAADtE,OAAId,EAAIsC,KAAI,KAAAxB,OAAId,EAAIkB,OAAQ,CAACjB,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,OAAO,CAACD,EAAI2B,GAAG,KAAK3B,EAAI4B,GAAG5B,EAAI+B,MAAM,YAAY9B,EAAG,WAAW,CAACI,KAAK,QAAQ,CAAEL,EAAIqF,WAAYpF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4BH,EAAI2B,GAAG,yBAAyB1B,EAAG,IAAI,CAACE,YAAY,SAASC,MAAM,CAAC,KAAOJ,EAAIoF,YAAY,GAADtE,OAAId,EAAIsC,KAAI,KAAAxB,OAAId,EAAIkB,OAAQ,CAAClB,EAAI2B,GAAG,UAAU3B,EAAI2B,GAAG,QAAQ3B,EAAIY,KAAKX,EAAG,UAAU,CAACG,MAAM,CAAC,QAAUJ,EAAIkF,UAAUC,KAAKG,WAAWrF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBH,EAAI2B,GAAG,WAAW1B,EAAG,IAAI,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIuF,cAAcvF,EAAI2B,GAAG,OAAO3B,EAAI4B,GAAG5B,EAAIwF,YAAY,QAAQ,IAAI,GAAGxF,EAAIyF,GAAG,eAAexF,EAAG,gBAAgB,CAACG,MAAM,CAAC,KAAOJ,EAAIsC,KAAK,YAAYtC,EAAIkB,OAAO,GAAGjB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,0BAA0BF,EAAG,OAAO,CAACD,EAAI2B,GAAG,aAAa1B,EAAG,IAAI,CAACE,YAAY,SAASC,MAAM,CAAC,KAAOJ,EAAIoF,YAAY,GAADtE,OAAId,EAAIsC,KAAI,KAAAxB,OAAId,EAAIkB,OAAQ,CAAClB,EAAI2B,GAAG,YAAY1B,EAAG,MAAM,CAACyF,IAAI1F,EAAIsC,KAAO,QAAUtC,EAAIkB,GAAGf,YAAY,QAAQC,MAAM,CAAC,OAASJ,EAAIkB,GAAG,SAAWlB,EAAIsC,KAAK,UAAYtC,EAAIkF,UAAUjE,OAAOY,KAAK,OAAS7B,EAAI2F,UAAU,oBAAqB,EAAM,mBAAoB,EAAM,QAAU3F,EAAI4F,QAAQ,KAAO,OAAO,OAAS5F,EAAIiD,UAAUhD,EAAG,eAAe,CAACG,MAAM,CAAC,KAAOJ,EAAIsC,KAAK,YAAYI,OAAO1C,EAAIkB,QAAQ,IAEl7EY,EAAkB,G,4FCFlB/B,EAAS,WAAkB,IAAIC,EAAIJ,KAAKK,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,WAAW,CAACI,KAAK,cAAc,CAACJ,EAAG,IAAI,CAACE,YAAY,4BAA4BF,EAAG,OAAO,CAACD,EAAI2B,GAAG,YAAY1B,EAAG,WAAW,CAACI,KAAK,QAAQ,CAACJ,EAAG,MAAM,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYC,MAAO/F,EAAIgG,QAASC,WAAW,YAAY9F,YAAY,oBAAoB,CAAGH,EAAIkG,UAAalG,EAAIkG,SAASzG,OAAkQO,EAAIY,KAA9PX,EAAG,MAAM,CAACE,YAAY,WAAW,CAAmB,OAAjBH,EAAIkG,SAAmBjG,EAAG,OAAO,CAACD,EAAI2B,GAAG,iBAAiB3B,EAAIY,MAAuB,IAAjBZ,EAAIkG,SAAoBjG,EAAG,OAAO,CAACD,EAAI2B,GAAG,eAAe3B,EAAIY,KAAMZ,EAAIkG,WAAalG,EAAIkG,SAASzG,OAAQQ,EAAG,OAAO,CAACD,EAAI2B,GAAG,aAAa3B,EAAIY,OAAgBX,EAAG,UAAU,CAACG,MAAM,CAAC,SAAWJ,EAAIkG,SAAS,YAAYlG,EAAImG,YAAYlG,EAAG,gBAAgB,CAACE,YAAY,mBAAmBC,MAAM,CAAC,WAAa,GAAG,sBAAsB,GAAG,eAAeJ,EAAIoG,KAAK,MAAQpG,EAAIqG,MAAM,YAAYrG,EAAIsG,SAAS,OAAS,4BAA4BC,GAAG,CAAC,iBAAiBvG,EAAIwG,uBAAuBvG,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,CAACH,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,OAAO,CAACD,EAAI2B,GAAG,UAAU1B,EAAG,WAAW,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,QAAQ+D,QAAQ,UAAUC,MAAO/F,EAAIyG,WAAWnB,QAASW,WAAW,uBAAuB9F,YAAY,kBAAkBuG,SAAS,CAAC,MAAS1G,EAAIyG,WAAWnB,SAAUiB,GAAG,CAAC,MAAQ,SAASI,GAAWA,EAAOvH,OAAOwH,WAAiB5G,EAAI6G,KAAK7G,EAAIyG,WAAY,UAAWE,EAAOvH,OAAO2G,WAAW9F,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG,SAAS1B,EAAG,QAAQ,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,QAAQ+D,QAAQ,UAAUC,MAAO/F,EAAIyG,WAAWK,cAAeb,WAAW,6BAA6B7F,MAAM,CAAC,KAAO,QAAQsG,SAAS,CAAC,MAAS1G,EAAIyG,WAAWK,eAAgBP,GAAG,CAAC,MAAQ,SAASI,GAAWA,EAAOvH,OAAOwH,WAAiB5G,EAAI6G,KAAK7G,EAAIyG,WAAY,gBAAiBE,EAAOvH,OAAO2G,aAAa9F,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAWmG,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO3G,EAAI+G,eAAe/G,EAAIyG,eAAe,CAACxG,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,OAAO,CAACD,EAAI2B,GAAG,WAAW,IAAI,MAAM,IAEnmEG,EAAkB,GCFlB/B,G,8BAAS,WAAkB,IAAIC,EAAIJ,KAAKK,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACE,YAAY,cAAcH,EAAIgH,GAAIhH,EAAIkG,UAAU,SAASe,EAAQvB,GAAK,OAAOzF,EAAG,KAAK,CAACyF,IAAIA,EAAIvF,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO6G,EAAQC,QAAUlH,EAAImH,WAAWF,EAAQC,SAAW,KAAK,OAAS,UAAUR,SAAS,CAAC,YAAc1G,EAAI4B,GAAGqF,EAAQH,kBAAmBG,EAAQG,UAAW,CAACnH,EAAG,OAAO,CAACD,EAAI2B,GAAG,UAAU1B,EAAG,IAAI,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO6G,EAAQI,OAAOH,QAC1hBlH,EAAImH,WAAWF,EAAQI,OAAOH,SAC9B,KAAK,OAAS,UAAUR,SAAS,CAAC,YAAc1G,EAAI4B,GAAGqF,EAAQI,OAAOP,mBAAmB9G,EAAIY,MAAM,GAAGX,EAAG,IAAI,CAACE,YAAY,YAAYuG,SAAS,CAAC,UAAY1G,EAAI4B,GAAGqF,EAAQ3B,YAAYrF,EAAG,MAAM,CAACE,YAAY,WAAW,CAAE8G,EAAQR,YAAcQ,EAAQR,WAAWa,KAAMrH,EAAG,YAAY,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,WAAWmG,GAAG,CAAC,MAAQ,SAASI,GAAQM,EAAQR,WAAWa,MAAQL,EAAQR,WAAWa,QAAQ,CAACrH,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,OAAO,CAACD,EAAI2B,GAAG,UAAU1B,EAAG,YAAY,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAImG,GAAG,CAAC,MAAQ,SAASI,GAAQM,EAAQR,WAAWa,MAAQL,EAAQR,WAAWa,QAAQ,CAACrH,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,OAAO,CAACD,EAAI2B,GAAG,UAAU1B,EAAG,OAAO,CAACE,YAAY,SAASuG,SAAS,CAAC,YAAc1G,EAAI4B,GAAG5B,EAAIuH,OAAON,EAAQO,cAAc,GAAIP,EAAQR,YAAcQ,EAAQR,WAAWa,KAAMrH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,QAAQ+D,QAAQ,UAAUC,MAAOkB,EAAQR,WAAWnB,QAASW,WAAW,+BAA+B9F,YAAY,kBAAkBuG,SAAS,CAAC,MAASO,EAAQR,WAAWnB,SAAUiB,GAAG,CAAC,MAAQ,SAASI,GAAWA,EAAOvH,OAAOwH,WAAiB5G,EAAI6G,KAAKI,EAAQR,WAAY,UAAWE,EAAOvH,OAAO2G,WAAW9F,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG,SAAS1B,EAAG,QAAQ,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,QAAQ+D,QAAQ,UAAUC,MAAOkB,EAAQR,WAAWK,cAAeb,WAAW,qCAAqC7F,MAAM,CAAC,KAAO,QAAQsG,SAAS,CAAC,MAASO,EAAQR,WAAWK,eAAgBP,GAAG,CAAC,MAAQ,SAASI,GAAWA,EAAOvH,OAAOwH,WAAiB5G,EAAI6G,KAAKI,EAAQR,WAAY,gBAAiBE,EAAOvH,OAAO2G,aAAa9F,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAWmG,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO3G,EAAI+G,eAAeE,EAAQR,WAAYQ,EAAQ/F,OAAO,CAACjB,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,OAAO,CAACD,EAAI2B,GAAG,WAAW,GAAG3B,EAAIY,OAAQqG,EAAQQ,SAAShI,OAAQQ,EAAG,cAAc,CAACG,MAAM,CAAC,SAAW6G,EAAQQ,SAAS,YAAYzH,EAAImG,YAAYnG,EAAIY,MAAM,MAAK,KAEjgEkB,EAAkB,G,YCgGP,GACfC,KAAA,cACAM,MAAA,wBACAQ,QAAA,CACAsE,WAAAO,gBACAH,mBACAR,eAAA,SAAAY,EAAAP,GACA,IAAAQ,EAAA,KAAAC,QACAD,EAAAb,iBAAAa,IAAAC,SACAD,EAAAb,eAOAa,EAAAb,eAAAY,EAAAP,GANA,KAAAU,SAAA,CACAC,QAAA,gBACAzF,KAAA,eChHsW,I,YCOlWwC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oBCyCA,GACf/C,KAAA,eACAM,MAAA,oBACAL,KAAA,WACA,OACAkE,SAAA,KACAO,WAAA,CACAnB,QAAA,GACAwB,cAAAkB,OAAAC,UAAAlG,MAEAqE,KAAA,EACAE,SAAA,GACAD,MAAA,EACAL,SAAA,IAGA9B,SAAA,CACAjB,OAAA,WACA,OAAAiF,SAAAC,KAAAC,SAAA,YAAAF,SAAAC,KAAAC,SAAA,2BAGAvF,QAAA,CACAwF,aAAA,eAAAtF,EAAA,KA8BA,SAAAuF,EAAApC,EAAAmB,GACA,IAAAkB,EAAA,GAAAC,EAAA,WAEA,IAAAC,EAAAvC,EAAAwC,GACA,IAAAD,EAAA,iBACA,GAAAA,EAAArB,YAAAC,EAAA,CAEA,IAAAI,EAAAa,EAAAG,EAAAhB,SAAAgB,EAAAvH,IACAuH,EAAAhB,WAAAkB,KAAA,SAAAvF,GAWA,OAVAA,EAAAiE,OAAA,CACAH,QAAAuB,EAAAvB,QACAJ,cAAA2B,EAAA3B,cACA5F,GAAAuH,EAAAvH,IAEAkC,EAAAqD,WAAA,CACAa,MAAA,EACAhC,QAAA,GACAwB,cAAAkB,OAAAC,UAAAlG,MAEAqB,KAEAmF,EAAAK,KAAAH,KAnBA,QAAAC,KAAAxC,EAAAsC,IAsBA,OAAAD,EArDA,KAAAjG,MAAA,KAAA6D,WAEA,KAAAH,SAAA,EACA6C,OAAAC,KAAA,CAAAxG,KAAA,KAAAA,KAAApB,GAAA,KAAAiF,UAAA,CAAAlD,OAAA,KAAAA,OAAAmD,KAAA,KAAAA,OACAlD,MACA,SAAAC,GAEA,GADAA,IAAAnB,KACA,MAAAmB,EAAAY,KAAA,CAEA,IADA,IAAAmC,EAAA/C,EAAAnB,KAAAkE,SACA6C,EAAA,EAAAA,EAAA7C,EAAAzG,OAAAsJ,IACA7C,EAAA6C,GAAA,eACAzB,MAAA,EACAhC,QAAA,GACAwB,cAAAkB,OAAAC,UAAAlG,MAGAgB,EAAAqD,KAAAjD,EAAAnB,KAAAgH,aACAjG,EAAAsD,MAAAlD,EAAAnB,KAAAqE,MACAtD,EAAAmD,SAAAoC,EAAApC,EAAA,GAEAnD,EAAAiD,SAAA,MAGA,WACAjD,EAAAmD,UAAA,EACAnD,EAAAiD,SAAA,OA+BAe,eAAA,SAAAY,GAAA,IAAAsB,EAAA,KAAA7B,EAAA5H,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,KAEA,GAAAmI,EAAArC,QAAA,CAOA,IAAAtD,EAAA,CACAiF,QAAA,CACA3E,KAAA,KAAAA,KACA4G,UAAA,KAAA/C,SACAiB,YACAN,cAAAa,EAAAb,eAAAkB,OAAAC,UAAAlG,KACAuD,QAAAqC,EAAArC,SAEArC,OAAA,KAAAA,QAEA4F,OAAA1D,KAAA,CAAAnD,QAAA,IACAkB,MACA,SAAAC,GACAA,IAAAnB,KACA,MAAAmB,EAAAY,MACA4D,EAAArC,QAAA,GACA2D,EAAAnB,SAAA,CACAC,QAAA,aACAzF,KAAA,aAGA2G,EAAAnB,SAAA,CACAC,QAAA,GAAAjH,OAAAqC,EAAA4E,SACAzF,KAAA,eAGA,WACA2G,EAAAnB,SAAA,CACAC,QAAA,YACAzF,KAAA,eAIA6G,SAAA,WACAxB,EAAAL,MAAA,UAxCA,KAAAQ,SAAA,CACAC,QAAA,gBACAzF,KAAA,aAyCAkE,oBAAA,SAAAJ,GACA,KAAAA,OACA,KAAAiC,iBAGAlG,WAAA,CACAiH,iBACAC,WAEAhF,MAAA,CACA8B,SAAA,CACA7B,WAAA,EACAC,QAAA,WACA,KAAA8D,mBCrMuW,ICQnW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCqDA,GACftG,KAAA,UACAI,WAAA,CACAiH,iBACAE,eACAC,qBACAC,gBAEAnH,MAAA,CACAnB,GAAA,CACAuI,UAAA,GAEA1H,KAAA,CACAO,KAAAI,OACAF,QAAA,IAEAF,KAAA,CACAA,KAAAI,OACA+G,UAAA,IAGAzH,KAAA,WACA,OACAkD,UAAA,CACAjE,OAAA,GACAkE,KAAA,MAEAE,YAAA,EACAqE,UAAA,IAGArF,MAAA,CACAnD,GAAA,CACAoD,WAAA,EACAC,QAAA,WACA,KAAAoF,QACA,KAAAC,eAEA,KAAAC,aAIAF,QAAA,CACApF,QAAA,WACA,KAAAqF,kBAIA1F,SAAA,CACAjB,OAAA,WACA,YAAAkB,OAAAC,MAAAnB,QAGA0G,QAAA,WACA,YAAAG,OAAAC,OAAAJ,SAEAK,WAAA,WACA,aAAAF,OAAAC,OAAAJ,SAEAhE,UAAA,eAAAsE,EAAAC,EACA,iBAAAD,EAAA,KAAA/E,iBAAA,IAAA+E,GAAA,QAAAC,EAAAD,EAAA9E,YAAA,IAAA+E,OAAA,EAAAA,EAAAhD,UAEA3B,UAAA,eAAA4E,EAAAC,EACA,eAAAD,EAAA,KAAAjF,iBAAA,IAAAiF,GAAA,QAAAC,EAAAD,EAAAhF,YAAA,IAAAiF,OAAA,EAAAA,EAAAtD,eAEAtB,WAAA,eAAA6E,EAAAC,EACA,OAAA/C,oBAAA,QAAA8C,EAAA,KAAAnF,iBAAA,IAAAmF,GAAA,QAAAC,EAAAD,EAAAlF,YAAA,IAAAmF,OAAA,EAAAA,EAAA9C,UAEA+C,UAAA,eAAAC,EAAAC,EACA,eAAAD,EAAA,KAAAtF,iBAAA,IAAAsF,GAAA,QAAAC,EAAAD,EAAAvJ,cAAA,IAAAwJ,OAAA,EAAAA,EAAA5I,MAEA+D,QAAA,WACA,IAAA8E,EAAAC,EAAAC,EAAA,YAAAZ,WAaA,IAXA,QAAAU,EAAA,KAAAxF,iBAAA,IAAAwF,GAAA,QAAAC,EAAAD,EAAAG,aAAA,IAAAF,GACA,QADAC,EAAAD,EACArC,QAAA,SAAAwC,GAAA,OAAAA,EAAA5J,aAAA,IAAA0J,OADA,EAAAA,EAEAjC,KAAA,SAAAmC,GACA,OACA5D,QAAA4D,EAAA5J,GACA6J,YAAAD,EAAAE,OACAC,aAAAH,EAAAI,eAEA,KAMArI,QAAA,CACA7B,qBAEA6I,SAAA,eAAA9G,EAAA,KAEA,KAAA7B,IACAiK,OAAAC,IAAA,CAAA9I,KAAA,KAAAA,KAAApB,GAAA,KAAAA,GAAA+B,OAAA,KAAAA,QAAA,CAAAoI,OAAA,IAAAnI,MAAA,SAAAC,GACA,IAAAgC,EAAAhC,EAAAgC,KAAAlE,EAAAkC,EAAAlC,OAAAoE,EAAAlC,EAAAkC,WAAAiG,EAAAnI,EAAAmI,QAAAT,EAAA1H,EAAA0H,MACA9H,EAAAmC,UAAA,CACAC,OACAlE,SACA4J,SAEA9H,EAAA2G,SAAA4B,EACAvI,EAAAsC,gBAGA,KAAAkG,eAEA3B,aAAA,eAAAX,EAAA,KAEAkC,OAAAK,QAAA,KAAA7B,QAAA,CAAArH,KAAA,KAAAA,OAAAY,MAAA,SAAAC,GAAA,IAAAsI,EACAxC,EAAA/D,UAAA,OAAA/B,QAAA,IAAAA,GAAA,QAAAsI,EAAAtI,EAAAnB,YAAA,IAAAyJ,OAAA,EAAAA,EAAAzJ,QAEA,KAAAuJ,eAEAnG,YAAAsG,iBACAH,YAAA,WACA,eAAAtI,OACA0I,eAAA,UAAA7K,OAAAwB,MAAA,KAAApB,IAEAyK,eAAA,KAAArJ,KAAA,KAAApB,OC/L4Y,ICQxY,G,WAAY,eACd,EACAnB,EACA+B,GACA,EACA,KACA,KACA,OAIa,S,2CCnBf,oFACMhD,EAAI8M,iBAEH,SAASC,EAAS9B,GACvB,OAAOjL,EAAEgN,IAAI,SAAU,CAAE/B,WAGpB,SAAS9B,EAAS8B,GACvB,OAAOjL,EAAEgN,IAAI,QAAS,CAAE/B,a,oCCP1B,IAAIjL,EAAI,EAAQ,QACZiN,EAAU,EAAQ,QAA6BC,KAC/CC,EAAsB,EAAQ,QAC9BC,EAAiB,EAAQ,QACzBC,EAAU,EAAQ,QAIlBC,GAAcD,GAAWD,EAAiB,IAAMA,EAAiB,GACjEG,EAASD,IAAeH,EAAoB,UAIhDnN,EAAE,CAAEM,OAAQ,QAASC,OAAO,EAAMiN,OAAQD,GAAU,CAClDE,OAAQ,SAAgBC,GACtB,IAAI/M,EAASD,UAAUC,OACvB,OAAOsM,EAAQnM,KAAM4M,EAAY/M,EAAQA,EAAS,EAAID,UAAU,QAAKE,O,oCCjBzE,W,uECEA,IAAI+M,EAAmB,EAAQ,QAG/BA,EAAiB,S,oCCLjB,W,2JCAA,IAAIC,EAAc,EAAQ,QACtBC,EAAc,EAAQ,QACtBC,EAAa,EAAQ,QACrBC,EAAkB,EAAQ,QAC1BC,EAAwB,EAAQ,QAA8CC,EAE9EC,EAAuBL,EAAYG,GACnClE,EAAO+D,EAAY,GAAG/D,MAGtBqE,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAKIzH,EALA/F,EAAIkN,EAAgBM,GACpB7J,EAAOsJ,EAAWjN,GAClBF,EAAS6D,EAAK7D,OACdsJ,EAAI,EACJqE,EAAS,GAEb,MAAO3N,EAASsJ,EACdrD,EAAMpC,EAAKyF,KACN2D,IAAeM,EAAqBrN,EAAG+F,IAC1CkD,EAAKwE,EAAQF,EAAa,CAACxH,EAAK/F,EAAE+F,IAAQ/F,EAAE+F,IAGhD,OAAO0H,IAIXC,EAAOC,QAAU,CAGfC,QAASN,GAAa,GAGtBjI,OAAQiI,GAAa,K,ssTClCvB,W,2DCCA,IAAInO,EAAI,EAAQ,QACZ6N,EAAc,EAAQ,QACtBa,EAAgB,EAAQ,QACxBX,EAAkB,EAAQ,QAC1BZ,EAAsB,EAAQ,QAE9BwB,EAAad,EAAY,GAAGe,MAE5BC,EAAcH,GAAiBnK,OAC/BgJ,EAASsB,IAAgB1B,EAAoB,OAAQ,KAIzDnN,EAAE,CAAEM,OAAQ,QAASC,OAAO,EAAMiN,OAAQD,GAAU,CAClDqB,KAAM,SAAcE,GAClB,OAAOH,EAAWZ,EAAgBjN,WAAqBF,IAAdkO,EAA0B,IAAMA,O,kCCf7E,IAAIC,EAAU,EAAQ,QAClB5O,EAAoB,EAAQ,QAC5B6O,EAA2B,EAAQ,QACnCC,EAAO,EAAQ,QAIfhP,EAAmB,SAAUK,EAAQ4O,EAAU/M,EAAQpB,EAAWoO,EAAOC,EAAOC,EAAQC,GAC1F,IAGIC,EAASC,EAHTC,EAAcN,EACdO,EAAc,EACdC,IAAQN,GAASJ,EAAKI,EAAQC,GAGlC,MAAOI,EAAc3O,EACf2O,KAAevN,IACjBoN,EAAUI,EAAQA,EAAMxN,EAAOuN,GAAcA,EAAaR,GAAY/M,EAAOuN,GAEzEN,EAAQ,GAAKL,EAAQQ,IACvBC,EAAarP,EAAkBoP,GAC/BE,EAAcxP,EAAiBK,EAAQ4O,EAAUK,EAASC,EAAYC,EAAaL,EAAQ,GAAK,IAEhGJ,EAAyBS,EAAc,GACvCnP,EAAOmP,GAAeF,GAGxBE,KAEFC,IAEF,OAAOD,GAGTlB,EAAOC,QAAUvO,G,muNCjCjB,IAAI2P,EAAY,EAAQ,QACpB1P,EAAW,EAAQ,QACnBwO,EAAgB,EAAQ,QACxBvO,EAAoB,EAAQ,QAE5B0P,EAAaC,UAGb3B,EAAe,SAAU4B,GAC3B,OAAO,SAAUC,EAAMtC,EAAYuC,EAAiBC,GAClDN,EAAUlC,GACV,IAAI7M,EAAIX,EAAS8P,GACbG,EAAOzB,EAAc7N,GACrBF,EAASR,EAAkBU,GAC3B+I,EAAQmG,EAAWpP,EAAS,EAAI,EAChCsJ,EAAI8F,GAAY,EAAI,EACxB,GAAIE,EAAkB,EAAG,MAAO,EAAM,CACpC,GAAIrG,KAASuG,EAAM,CACjBD,EAAOC,EAAKvG,GACZA,GAASK,EACT,MAGF,GADAL,GAASK,EACL8F,EAAWnG,EAAQ,EAAIjJ,GAAUiJ,EACnC,MAAMiG,EAAW,+CAGrB,KAAME,EAAWnG,GAAS,EAAIjJ,EAASiJ,EAAOA,GAASK,EAAOL,KAASuG,IACrED,EAAOxC,EAAWwC,EAAMC,EAAKvG,GAAQA,EAAO/I,IAE9C,OAAOqP,IAIX3B,EAAOC,QAAU,CAGftB,KAAMiB,GAAa,GAGnBiC,MAAOjC,GAAa,K,qFCxClBlN,EAAS,WAAkB,IAAIC,EAAIJ,KAAKK,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACkP,IAAI,iBAAiBhP,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACsG,GAAG,CAAC,MAAQvG,EAAIoP,SAAS,CAACpP,EAAI2B,GAAG,WAAW,GAAI3B,EAAIqP,KAAMpP,EAAG,MAAM,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYC,MAAO/F,EAAIgG,QAASC,WAAW,YAAY9F,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACH,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIqP,KAAKxN,SAAS5B,EAAG,IAAI,CAACE,YAAY,YAAYuG,SAAS,CAAC,UAAY1G,EAAI4B,GAAG5B,EAAIqP,KAAKC,WAAWrP,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAAEH,EAAIqP,KAAKE,YAAatP,EAAG,MAAM,CAACE,YAAY,uBAAuBG,MAAK,wBAAAQ,OAAyBd,EAAIqP,KAAKG,sBAAuB,CAACvP,EAAG,MAAM,CAACE,YAAY,cAAe,SAASsP,KAAKzP,EAAIqP,KAAKE,aAActP,EAAG,MAAM,CAACE,YAAY,eAAeG,MAAM,SAASmP,KAAKzP,EAAIqP,KAAKE,cAAgB,eAAe,CAACtP,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMJ,EAAImB,SAASnB,EAAIqP,KAAKE,YAAavP,EAAIiD,QAAQ,IAAMjD,EAAImB,SAASnB,EAAIqP,KAAKE,YAAavP,EAAIiD,aAAa,CAAChD,EAAG,MAAM,CAACkP,IAAI,WAAWhP,YAAY,eAAeG,MAAMN,EAAI0P,WAAa,WAAa,OAAO,CAACzP,EAAG,MAAM,CAACkP,IAAI,YAAYhP,YAAY,SAAS,CAACH,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIqP,KAAKxN,SAAS5B,EAAG,MAAM,CAACkP,IAAI,cAAchP,YAAY,UAAUuG,SAAS,CAAC,UAAY1G,EAAI4B,GAAG5B,EAAIqP,KAAKE,kBAAmBvP,EAAI2P,UAAW1P,EAAG,MAAM,CAACE,YAAY,UAAUG,MAAMN,EAAI0P,WAAa,WAAa,OAAO,CAACzP,EAAG,MAAM,CAACE,YAAY,OAAOG,MAAMN,EAAI4P,QAAU,WAAWrJ,GAAG,CAAC,MAAQvG,EAAI6P,SAAS,CAAC5P,EAAG,IAAI,CAACK,MAAMN,EAAI0P,WAAa,qBAAuB,yBAAyBzP,EAAG,MAAM,CAACE,YAAY,QAAQG,MAAMN,EAAI8P,QAAU,WAAWvJ,GAAG,CAAC,MAAQvG,EAAI+P,SAAS,CAAC9P,EAAG,IAAI,CAACK,MAAMN,EAAI0P,WAAa,sBAAwB,yBAAyB1P,EAAIY,KAAKX,EAAG,MAAM,CAACE,YAAY,SAASoG,GAAG,CAAC,MAAQvG,EAAIgQ,WAAW,CAAChQ,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAI0P,WAAa,KAAO,WAAW,GAAG1P,EAAIY,KAAKX,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,6BAA6B,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,YAAY,UAAU,EAAI,stBAAstB,KAAO,eAAeH,EAAG,OAAO,CAACD,EAAI2B,GAAG,YAAY1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAAG,CAAC,KAAM,MAAMiI,SAASpI,EAAIiQ,UAAUjQ,EAAIqP,OAAmmCpP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACH,EAAI2B,GAAG,QAAqC,OAA5B3B,EAAIiQ,UAAUjQ,EAAIqP,MAAgBpP,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACH,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIiQ,UAAUjQ,EAAIqP,OAAO,KAAMrP,EAAIkQ,YAAYzQ,OAAQQ,EAAG,IAAI,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,gBAAgBmG,GAAG,CAAC,MAAQ,SAASI,GAAQ3G,EAAImQ,eAAgB,KAAQ,CAACnQ,EAAI2B,GAAG,UAAU3B,EAAIY,OAAOX,EAAG,OAAO,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIiQ,UAAUjQ,EAAIqP,YAA/9CpP,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACH,EAAI2B,GAAG,SAAS1B,EAAG,aAAa,CAACG,MAAM,CAAC,UAAY,MAAM,eAAe,wBAAwB,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,KAAO,WAAWC,KAAK,WAAW,CAAEL,EAAIiQ,UAAUjQ,EAAIqP,MAAMe,QAAQ,OAAS,EAAG,CAACnQ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACH,EAAI2B,GAAG,QAAQ1B,EAAG,MAAM,CAACE,YAAY,UAAUuG,SAAS,CAAC,UAAY1G,EAAI4B,GAAG5B,EAAIqQ,cAAcrQ,EAAIqP,WAAWrP,EAAIY,KAAMZ,EAAIiQ,UAAUjQ,EAAIqP,MAAMe,QAAQ,OAAS,EAAG,CAACnQ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACH,EAAI2B,GAAG,QAAQ1B,EAAG,MAAM,CAACE,YAAY,YAAYuG,SAAS,CAAC,UAAY1G,EAAI4B,GAAG5B,EAAIsQ,cAActQ,EAAIqP,WAAWrP,EAAIY,KAAMZ,EAAIiQ,UAAUjQ,EAAIqP,MAAMe,QAAQ,OAAS,EAAG,CAACnQ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACH,EAAI2B,GAAG,QAAQ1B,EAAG,MAAM,CAACE,YAAY,cAAcH,EAAIgH,GAAIhH,EAAIuQ,eAAevQ,EAAIqP,OAAO,SAASjM,GAAM,OAAOnD,EAAG,MAAM,CAACyF,IAAItC,EAAKoN,QAAQrQ,YAAY,cAAc,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,OAAS,SAAS,KAAOJ,EAAIgB,QAAQ,QAASoC,EAAKoN,WAAW,CAACxQ,EAAI2B,GAAG,KAAK3B,EAAI4B,GAAGwB,EAAKqN,WAAW,YAAW,IAAIzQ,EAAIY,MAAM,GAAGX,EAAG,OAAO,CAACK,MAAkC,OAA5BN,EAAIiQ,UAAUjQ,EAAIqP,OAAkB,gBAAgB,CAACrP,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIiQ,UAAUjQ,EAAIqP,aAAa,GAAmZpP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACH,EAAI2B,GAAG,SAAS3B,EAAI4B,GAAG,IAAM5B,EAAI0Q,kBAAkB1Q,EAAIqP,KAAKG,qBAAuB,IAAMxP,EAAIqP,KAAKsB,UAAU,OAAO1Q,EAAG,MAAM,CAACE,YAAY,eAAe,CAACH,EAAI2B,GAAG,QAAQ3B,EAAI4B,GAAG5B,EAAIqP,KAAKuB,mBAAoB5Q,EAAIqP,KAAKwB,MAAQ7Q,EAAIqP,KAAKwB,KAAKC,GAAI,CAAC7Q,EAAG,IAAI,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,6BAA6B,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACH,EAAG,OAAO,CAAC8Q,YAAY,CAAC,YAAY,aAAa3Q,MAAM,CAAC,GAAK,IAAI,UAAY,iBAAiB,EAAI,IAAI,EAAI,IAAI,MAAQ,KAAK,OAAS,OAAO,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,4BAA4B,KAAO,OAAO,OAAS,OAAO,eAAe,MAAM,kBAAkB,WAAWH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,YAAY,KAAO,UAAUH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,WAAW,OAAS,OAAO,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,aAAaH,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,YAAY,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,uCAAuC,KAAO,cAAcH,EAAG,OAAO,CAACD,EAAI2B,GAAG,YAAY1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG,WAAW1B,EAAG,OAAO,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIqP,KAAKwB,KAAKG,yBAAyB/Q,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG,WAAW1B,EAAG,OAAO,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIqP,KAAKwB,KAAKD,mBAAmB3Q,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAI0Q,kBAAkB1Q,EAAIqP,KAAKG,sBAAsB,SAASvP,EAAG,OAAO,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIqP,KAAKwB,KAAKI,sBAAsBhR,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG,WAAW1B,EAAG,OAAO,CAACD,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIqP,KAAKwB,KAAKK,gBAAiBlR,EAAIqP,KAAK8B,SAAS1R,OAAQQ,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACD,EAAI2B,GAAG,WAAW3B,EAAIgH,GAAIhH,EAAIqP,KAAK8B,UAAU,SAASC,GAAU,OAAOnR,EAAG,YAAY,CAACyF,IAAI0L,EAAS3O,QAAQrC,MAAM,CAAC,QAAUgR,EAAS3O,QAAQ,KAAO,GAAG,OAAS2O,EAASC,MAAM,UAAW,SAAW,GAAGrR,EAAIY,QAAQZ,EAAIY,MAAM,KAAMZ,EAAIsR,SAAS7R,OAAQQ,EAAG,MAAM,CAAC4F,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYC,MAAO/F,EAAIuR,YAAatL,WAAW,gBAAgB9F,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACH,EAAI2B,GAAG,MAAM3B,EAAI4B,GAAG5B,EAAIqP,KAAKsB,aAAc3Q,EAAIqP,KAAKmC,cAAevR,EAAG,IAAI,CAACE,YAAY,mBAAmBC,MAAM,CAAC,OAAS,SAAS,KAAOJ,EAAIgB,QAAQ,cAAehB,EAAIqP,KAAKmC,iBAAiB,CAACvR,EAAG,IAAI,CAACE,YAAY,oBAAoBF,EAAG,OAAO,CAACD,EAAI2B,GAAG,cAAc3B,EAAIY,OAAOX,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqBH,EAAIgH,GAAIhH,EAAIsR,UAAU,SAASlO,EAAKsF,GAAO,OAAOzI,EAAG,WAAW,CAACyF,IAAItC,EAAKqO,MAAQ/I,EAAMtI,MAAM,CAAC,KAAOgD,QAAU,OAAOpD,EAAIY,OAAOZ,EAAIY,KAAKX,EAAG,WAAW,CAACG,MAAM,CAAC,GAAKJ,EAAIkB,GAAG,KAAO,KAAK,KAAO,UAAUjB,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUJ,EAAImQ,cAAc,MAAQnQ,EAAI0R,UAAY,MAAQ,MAAM,OAAS,GAAG,mBAAmB,IAAInL,GAAG,CAAC,iBAAiB,SAASI,GAAQ3G,EAAImQ,cAAcxJ,KAAU,CAAC1G,EAAG,MAAM,CAACE,YAAY,cAAc,CAAEH,EAAIkQ,YAAYzQ,OAAQQ,EAAG,aAAa,CAACE,YAAY,YAAYC,MAAM,CAAC,SAASuR,SAAS3R,EAAIkQ,YAAY,GAAGvH,KAAK,MAAQ3I,EAAIkQ,YAAY,GAAG0B,YAAY5R,EAAIY,MAAM,MAAM,IAEvnPkB,EAAkB,G,oTCiNP,GACfC,KAAA,aACAI,WAAA,CAAA0P,iBAAAC,gBAAAC,gBAAAC,gBACAhQ,KAAA,WACA,OACAqD,YAAA,EACAqE,UAAA,EAEAgG,YAAA,EACAC,WAAA,EACAN,KAAA,CACAoC,MAAA,GACA5P,KAAA,GACAyN,KAAA,GACAqB,SAAA,GACApB,YAAA,IAEAvJ,SAAA,EACAkK,YAAA,GACAqB,aAAA,EACAD,SAAA,GACAnB,eAAA,EAEAP,QAAA,EAEAE,QAAA,IAGAjN,QAAA,CACAmN,SAAA,WACA,KAAAN,YAAA,KAAAA,WACA,KAAAI,QAAA,EACA,KAAAF,QAAA,GAEA8B,eACA7B,OAAA,WACA,IAAAH,EAAA,KAAAA,WACAuC,EAAA,KAAAC,MAAAD,SACA,GAAAvC,EAAA,CAEA,IAAAyC,EAAAF,EAAAG,YACAC,EAAAJ,EAAAK,WACAC,EAAAN,EAAAO,YACAC,EAAAC,KAAAC,KAAAJ,EAAA,GACAJ,EAAAE,EAAAE,GAEAN,EAAAW,SAAA,CACA5G,MAAAyG,EACAI,SAAA,WAEA,KAAAjD,QAAA,EACA,KAAAE,QAAA,IAEA,KAAAF,QAAA,EACA,KAAAE,QAAA,OAEA,CAEA,IAAAgD,EAAAb,EAAAc,aACAC,EAAAf,EAAAgB,UACAC,EAAAjB,EAAAkB,aACAV,EAAAC,KAAAC,KAAAO,EAAA,GACAJ,EAAAE,EAAAE,GAEAjB,EAAAW,SAAA,CACAQ,IAAAX,EACAI,SAAA,WAEA,KAAAjD,QAAA,EACA,KAAAE,QAAA,IAEA,KAAAF,QAAA,EACA,KAAAE,QAAA,KAIAC,OAAA,WACA,IAAAL,EAAA,KAAAA,WACAuC,EAAA,KAAAC,MAAAD,SACA,GAAAvC,EAAA,CAEA,IAAA2C,EAAAJ,EAAAK,WACAC,EAAAN,EAAAO,YACAC,EAAAC,KAAAC,KAAAJ,EAAA,GACAF,EAAA,GAEAJ,EAAAW,SAAA,CACA5G,KAAAyG,EACAI,SAAA,WAEA,KAAA/C,QAAA,EACA,KAAAF,QAAA,IAEA,KAAAE,QAAA,EACA,KAAAF,QAAA,OAEA,CAEA,IAAAoD,EAAAf,EAAAgB,UACAC,EAAAjB,EAAAkB,aACAV,EAAAC,KAAAC,KAAAO,EAAA,GACAF,EAAA,GAEAf,EAAAW,SAAA,CACAQ,KAAAX,EACAI,SAAA,WAEA,KAAA/C,QAAA,EACA,KAAAF,QAAA,IAEA,KAAAE,QAAA,EACA,KAAAF,QAAA,KAIAR,OAAA,WACA,KAAAiE,QAAAzK,KAAA,CAAA0K,KAAA,OAEAnS,uBACAkP,cAAA,SAAAhB,GACA,IAAAkE,EAAA,aAAAtQ,OAAAuQ,EAAAC,EACAC,EAAArQ,OAAA2B,OAAAuO,GACA5K,KAAA,SAAAvF,GAAA,OAAAC,OAAA2B,OAAA5B,EAAAuQ,YACApH,QAAA,SAAAqH,EAAAC,GACA,OAAAD,EAAA9S,OAAA+S,MAEAlL,KAAA,SAAAvF,GACA,OAAAA,EAAAsQ,KAAA/K,KAAA,SAAAmL,GACA,OACAC,OAAAxR,OAAAuR,EAAAC,QACAhS,KAAA+R,EAAAE,KAAA5Q,EAAArB,YAIAzC,OACA2U,EAAA,OAAA5E,QAAA,IAAAA,OAAA,EAAAA,EAAA4E,MACA,GAAAA,KAAAxU,OAAA,CACA,IAAAyU,EAAA,GAUA,OATAD,EAAAE,SAAA,SAAA/Q,GACA8Q,EACAA,GACAA,EAAA,aACA,IAAA9Q,EAAAgR,SAAA,KACAV,EAAAW,MAAA,SAAAP,GAAA,OAAAA,EAAAC,SAAA3Q,EAAAkR,SACA,IAAAZ,EAAAW,MAAA,SAAAP,GAAA,OAAAA,EAAAC,SAAA3Q,EAAAkR,SAAAvS,KAAA,IACA,OAEAmS,EAEA,UAEA5D,cAAA,SAAAjB,GACA,IAAAkF,EAAA,OAAAlF,QAAA,IAAAA,OAAA,EAAAA,EAAAmF,UAIA,OAHAD,IACAA,IAAAE,QAAA,iBAEAF,GAEAhE,eAAA,SAAAlB,GACA,IAAAqF,EAAA,OAAArF,QAAA,IAAAA,OAAA,EAAAA,EAAAsF,OACAC,EAAA,GAWA,OAVAF,IACAE,EAAAF,EAAAG,MAAA,KAAAlM,KAAA,SAAAvF,GACA,GAAAA,EAAAgN,QAAA,QACA,OACAI,QAAApN,EAAAyR,MAAA,QACApE,UAAArN,EAAAyR,MAAA,aAKAD,GAEA3E,UAAA,SAAA7M,GACA,IAAA0R,EAAA1R,EAAA2R,iBACAP,EAAA,OAAApR,QAAA,IAAAA,OAAA,EAAAA,EAAAoR,UACAP,EAAA7Q,EAAA6Q,OAAA,GACAS,EAAA,OAAAtR,QAAA,IAAAA,OAAA,EAAAA,EAAAuR,OACAT,EAAA,GAgBA,OAfAY,IACAZ,OAAA,cAAAc,YAAAF,GAAA,YAEAN,IACAN,OAAA,cAEAD,EAAAxU,SACAyU,OAAA,cAEAQ,IACAR,OAAA,cAEAA,IACAA,EAAA,MAEAA,GAEAxD,kBAAA,SAAApO,GACA,OAAA2S,EAAAZ,MAAA,SAAAjR,GAAA,OAAAA,EAAAlC,KAAAqB,OAAAD,MACA2S,EAAAZ,MAAA,SAAAjR,GAAA,OAAAA,EAAAlC,KAAAqB,OAAAD,MAAAP,KACA,IAEAmT,QAAA,eAAAnS,EAAA,KACA,KAAAiD,SAAA,EACAiC,eAAA,CACA/G,GAAA,KAAAuQ,MACAxO,OAAA,KAAAA,SAEAC,MAAA,SAAAC,GAAA,IAAAgS,EACAnT,EAAAmB,EAAAnB,KASA,GARAA,EAAAuN,YAAAvN,EAAAoT,SAAAzM,KAAA,SAAAvF,GAAA,OAAAA,EAAAkC,QAAAmP,QAAA,kBAAA/G,KAAA,QACA1L,EAAA+S,kBAAAhS,EAAAiS,YAAAhT,EAAA+S,oBACAhS,EAAAmN,YAAAnN,EAAAiS,YAAAhT,EAAA+S,kBACAhS,EAAAmN,YAAA,GAAA0B,SAAA,GAAAvO,OAAAgS,OAAAtS,EAAAmN,YAAA,GAAA0B,SAAA,IACA0D,MAAAtT,EAAAH,KACAyD,QAAA,OAAAxE,OAAAiC,EAAAmN,YAAA,GAAA0B,SAAA,GAAA2D,EAAA,KAAAzU,OAAAiC,EAAAmN,YAAA,GAAA0B,SAAA,GAAA4D,EAAA,KAAA1U,OAAAiC,EAAAmN,YAAA,GAAA0B,SAAA,GAAA6D,EAAA,QAGA,OAAAzT,QAAA,IAAAA,GAAA,QAAAmT,EAAAnT,EAAA6O,YAAA,IAAAsE,KAAArE,GAAA,CACA,IAAA4E,EAAArS,OAAAC,KAAAtB,EAAA6O,MAAAvI,QAAA,SAAA5C,GAAA,OAAAA,EAAA0K,QAAA,qBACAuF,EAAAhE,SAAA+D,EAAAjW,OAAA,GACAuC,EAAAmP,SAAA,GACA,QAAApI,EAAA,EAAAA,GAAA4M,EAAA5M,IACA/G,EAAA6O,KAAA,kBAAA9H,IACA/G,EAAAmP,SAAAvI,KAAA,CACAnG,QAAAT,EAAA6O,KAAA,kBAAA9H,GAAA,IAAA/G,EAAA6O,KAAA,mBAAA9H,GACAsI,MAAArP,EAAA6O,KAAA,mBAAA9H,KAKAhG,EAAAsM,KAAArN,EAEA,IAAA4T,EAAA,CACAnE,MAAAzP,EAAAyP,MACA5P,KAAAG,EAAAH,KACAyN,KAAAtN,EAAAsN,KACAE,oBAAAxN,EAAAwN,qBAEAzM,EAAAoB,OAAA0R,SAAA,oBAAAD,GAEA7S,EAAAoB,OAAA0R,SAAA,qBAAA7T,EAAAwN,qBAEAzM,EAAA+S,YAAA9T,EAAA2O,aAEAxH,SAAA,WACApG,EAAAiD,SAAA,MAGA8P,YAAA,SAAAC,GAAA,IAAA9M,EAAA,KACAc,EAAA,CACA3D,KAAA,EACAE,SAAAoL,iBAAA,KACAzO,OAAA,KAAAA,OACA8S,WAEA,KAAAC,WAAA,WAKA/M,EAAAsI,aAAA,EACA1F,eAAA9B,GACA7G,MAAA,SAAAC,GACA8F,EAAAqI,SAAAnO,EAAAnB,KAAA8G,MAAA,GACAG,EAAAsI,aAAA,KAEApI,SAAA,WACAF,EAAAsI,aAAA,SAIAvQ,sBAEA6D,QAAA,WACA,KAAAqQ,WAEAhR,SAAA,CACAuN,MAAA,WACA,YAAA3H,OAAAC,OAAA7I,IAEAA,GAAA,eAAA+U,EACA,eAAAA,EAAA,KAAA5G,YAAA,IAAA4G,OAAA,EAAAA,EAAAC,QAEAjT,OAAA,WACA,YAAAkB,OAAAC,MAAAnB,QAEA+R,YAAA,WACA,mBAAA/R,OAAAkT,EAAAC,IAGA/R,MAAA,CACAoN,MAAA,WACA,KAAAyD,WAEAhU,GAAA,eAAAmV,EAAA,KACA,SAAA5G,KAAA,KAAAJ,KAAAE,cAEA,KAAAyG,WAAA,WACA,IAAAM,EAAAD,EAAAnE,MAAAD,SAAAG,YACAmE,EAAAF,EAAAnE,MAAAD,SAAAO,YACA8D,EAAAC,IACAF,EAAA1G,WAAA,OAKAD,WAAA,SAAA8G,GAAA,IAAAC,EAAA,KACA,SAAAhH,KAAA,KAAAJ,KAAAE,eAEAiH,EAEA,KAAAR,WAAA,WACA,IAAAM,EAAAG,EAAAvE,MAAAD,SAAAG,YACAmE,EAAAE,EAAAvE,MAAAD,SAAAO,YACAiE,EAAA9G,UAAA2G,EAAAC,KAGA,KAAAP,WAAA,WACA,IAAAU,EAAAD,EAAAvE,MAAAD,SAAAc,aACA4D,EAAAF,EAAAvE,MAAAD,SAAAkB,aACAsD,EAAA9G,UAAA+G,EAAAC,SCnhB6Z,I,wBCQzZ7R,EAAY,eACd,EACA/E,EACA+B,GACA,EACA,KACA,KACA,MAIa,aAAAgD,E,2CCnBf,IAAI/E,EAAS,WAAkB,IAAIC,EAAIJ,KAAKK,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,cAAcG,MAAM,oBAAsBN,EAAIoD,KAAKoM,oBAAoBpP,MAAM,CAAC,KAAOJ,EAAIgB,QAAQhB,EAAIoD,KAAKqO,OAAO,OAAS,WAAW,CAACxR,EAAG,MAAM,CAACE,YAAY,SAAS,CAACH,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAIoD,KAAKvB,WAAW5B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOuG,SAAS,CAAC,UAAY1G,EAAI4B,GAAG5B,EAAIoD,KAAKkM,SAASrP,EAAG,MAAM,CAACE,YAAY,aAAauG,SAAS,CAAC,UAAY1G,EAAI4B,GAAG5B,EAAIoD,KAAKvB,cAE5fC,EAAkB,GCgBP,GACfO,MAAA,CACAe,KAAA,CACAd,KAAAe,OACAoG,UAAA,IAGAzH,KAAA,WACA,UAEAkC,SAAA,CACAjB,OAAA,WACA,YAAAkB,OAAAC,MAAAnB,SAGAJ,QAAA,CACA7B,QAAA,SAAAE,GACA,eAAAJ,OAAAI,MCnC+Z,I,wBCQ3Z4D,EAAY,eACd,EACA/E,EACA+B,GACA,EACA,KACA,KACA,MAIa,OAAAgD,E,uJCnBR,SAAS8R,EAAWC,GACvB,GAA4C,oBAAxCxT,OAAOyT,UAAUC,SAASC,KAAKH,GAA4B,CAC3D,IAAK,IAAMnR,KAAOmR,EACV,MAACnX,EAAW,KAAM,IAAI0I,SAASyO,EAAInR,YAC5BmR,EAAInR,GAGnB,OAAOmR,EAEP,OAAOA,EAIR,SAASnF,IACZ,IAAIuF,EAASC,UAAUC,UAAUC,MAC7B,mJAEJ,OAAkB,OAAXH,I,kCCjBX,W","file":"js/chunk-6f412fe1.f15b6e6c.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toIntegerOrInfinity(depthArg));\n    return A;\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-popover',{staticClass:\"u-item\",attrs:{\"placement\":\"right-start\",\"trigger\":\"hover\",\"visible-arrow\":false,\"popper-class\":\"u-item__popup\"}},[_c('template',{slot:\"reference\"},[_c('div',{staticClass:\"u-item__warpper\",class:{ background: !_vm.onlyIcon, is_vertical: _vm.vertical }},[(!_vm.onlyName)?_c('a',{staticClass:\"u-item-icon\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('item', _vm.source.id)}},[_c('img',{staticClass:\"u-item-icon__img\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"src\":_vm.iconLink(_vm.source.IconID)}}),_c('div',{staticClass:\"u-item-icon__quality\",style:({ backgroundImage: _vm.item_border(_vm.source), opacity: _vm.source.Quality == 5 ? 0.9 : 1 })}),_c('div',{staticClass:\"u-item-icon__quest\",style:({ backgroundImage: _vm.item_border_quest(_vm.source) })}),(_vm.display_amount !== 1)?_c('span',{staticClass:\"u-item-icon__count\"},[_vm._v(_vm._s(_vm.display_amount))]):_vm._e()]):_vm._e(),(!_vm.onlyIcon)?_c('div',{staticClass:\"u-item-name\",class:`e-jx3-item__q${_vm.source.Quality}`},[_vm._v(\" \"+_vm._s(_vm.source.Name)+\" \")]):_vm._e()])]),_c('jx3-item',{attrs:{\"item\":_vm.source}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: X3ZvaWQ\n * @Date: 2022-07-11 00:14:57\n * @LastEditors: X3ZvaWQ\n * @LastEditTime: 2022-08-23 20:11:18\n * @Description: 各个地方都有用到的，后端没有联物品表，只提供了物品id，通过该组件展示物品\n-->\n<template>\n    <el-popover\n        class=\"u-item\"\n        placement=\"right-start\"\n        trigger=\"hover\"\n        :visible-arrow=\"false\"\n        popper-class=\"u-item__popup\"\n    >\n        <template slot=\"reference\">\n            <div class=\"u-item__warpper\" :class=\"{ background: !onlyIcon, is_vertical: vertical }\">\n                <a\n                    class=\"u-item-icon\"\n                    target=\"_blank\"\n                    :style=\"`height:${size}px; width:${size}px`\"\n                    :href=\"getLink('item', source.id)\"\n                    v-if=\"!onlyName\"\n                >\n                    <img\n                        class=\"u-item-icon__img\"\n                        :style=\"`height:${size}px; width:${size}px`\"\n                        :src=\"iconLink(source.IconID)\"\n                    />\n                    <div\n                        class=\"u-item-icon__quality\"\n                        :style=\"{ backgroundImage: item_border(source), opacity: source.Quality == 5 ? 0.9 : 1 }\"\n                    ></div>\n                    <div class=\"u-item-icon__quest\" :style=\"{ backgroundImage: item_border_quest(source) }\"></div>\n                    <span class=\"u-item-icon__count\" v-if=\"display_amount !== 1\">{{ display_amount }}</span>\n                </a>\n                <div v-if=\"!onlyIcon\" class=\"u-item-name\" :class=\"`e-jx3-item__q${source.Quality}`\">\n                    {{ source.Name }}\n                </div>\n            </div>\n        </template>\n        <jx3-item :item=\"source\" />\n    </el-popover>\n</template>\n\n<script>\nimport Item from \"@jx3box/jx3box-editor/src/Item\";\nimport { get_item } from \"@jx3box/jx3box-editor/service/item\";\nimport { iconLink, getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nexport default {\n    name: \"ItemIcon\",\n    data() {\n        return {\n            source: {},\n            real_id: null,\n            maybeBook: false,\n        };\n    },\n    components: {\n        \"jx3-item\": Item,\n    },\n    props: {\n        size: {\n            type: Number,\n            default: 28,\n        },\n        item_id: {\n            type: String,\n            default: null,\n        },\n        amount: {\n            type: Number,\n            default: 1,\n        },\n        onlyName: {\n            type: Boolean,\n            default: false,\n        },\n        onlyIcon: {\n            type: Boolean,\n            default: false,\n        },\n        vertical: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    methods: {\n        get_data(item_id) {\n            if (item_id) {\n                get_item(item_id, this.client)\n                    .then((res) => {\n                        let data = res.data;\n                        let item = data.data.item;\n                        if (Object.keys(item).length) {\n                            this.source = item;\n                            sessionStorage.setItem(this.cache_key, JSON.stringify(item));\n                        }\n                    })\n                    .catch((e) => {\n                        //书籍类物品id为 type_id_recipe， 其中recipe记录在物品的count里面\n                        if (e?.data?.code == 400) {\n                            if (this.maybeBook === false) {\n                                this.maybeBook = true;\n                                this.real_id = `${this.item_id}_${this.amount}`;\n                            }\n                        }\n                    });\n            }\n        },\n        iconLink,\n        getLink,\n        item_border_quest(item) {\n            if (item.IsQuest > 0) return `url(${__imgPath}image/item/renwu.png)`;\n            return \"\";\n        },\n        item_border(item) {\n            switch (item.Quality) {\n                case 3:\n                    return `url(${__imgPath}image/item/blue.png)`;\n                case 4:\n                    return `url(${__imgPath}image/item/purple.png)`;\n                case 5:\n                    return `url(${__imgPath}image/item/orange.gif)`;\n                default:\n                    return \"\";\n            }\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        cache_key() {\n            return `item-${this.client}-${this.real_id}`;\n        },\n        display_amount() {\n            if (this.maybeBook === false) {\n                return this.amount;\n            } else {\n                return 1;\n            }\n        },\n    },\n    watch: {\n        real_id: {\n            immediate: true,\n            handler() {\n                let _cache = sessionStorage.getItem(this.cache_key);\n                if (_cache) {\n                    try {\n                        this.source = JSON.parse(_cache);\n                    } catch (e) {\n                        console.log(e, \"[Item]无法解析本地缓存\");\n                        this.get_data(this.real_id);\n                    }\n                } else {\n                    this.get_data(this.real_id);\n                }\n            },\n        },\n    },\n    mounted() {\n        this.real_id = this.item_id;\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/common/item_icon.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item_icon.vue?vue&type=template&id=7f0d2f02&\"\nimport script from \"./item_icon.vue?vue&type=script&lang=js&\"\nexport * from \"./item_icon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./item_icon.vue?vue&type=style&index=0&id=7f0d2f02&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=style&index=0&id=a3b1f978&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-pvx-user\"},[(_vm.wiki_post && _vm.wiki_post.post)?_c('div',{staticClass:\"m-wiki-post-panel\"},[_c('WikiPanel',{attrs:{\"wiki-post\":_vm.wiki_post}},[_c('template',{slot:\"head-title\"},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z\"}})]),_c('span',{staticClass:\"u-txt\"},[_vm._v(_vm._s(_vm.name)+\"攻略\")])]),_c('template',{slot:\"head-actions\"},[_c('a',{staticClass:\"el-button el-button--primary\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',[_vm._v(\"完善\"+_vm._s(_vm.name)+\"攻略\")])])]),_c('template',{slot:\"body\"},[(_vm.compatible)?_c('div',{staticClass:\"m-wiki-compatible\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 暂无缘起攻略，以下为重制攻略，仅作参考，\"),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_vm._v(\"参与修订\")]),_vm._v(\"。 \")]):_vm._e(),_c('Article',{attrs:{\"content\":_vm.wiki_post.post.content}}),_c('div',{staticClass:\"m-wiki-signature\"},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\" 本次修订由 \"),_c('b',[_vm._v(_vm._s(_vm.user_name))]),_vm._v(\" 提交于\"+_vm._s(_vm.updated_at)+\" \")])],1)],2),_vm._t(\"serendipity\"),_c('WikiRevisions',{attrs:{\"type\":_vm.type,\"source-id\":_vm.id}})],2):_c('div',{staticClass:\"m-wiki-post-empty\"},[_c('i',{staticClass:\"el-icon-s-opportunity\"}),_c('span',[_vm._v(\"暂无攻略，我要\")]),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`${_vm.type}/${_vm.id}`)}},[_vm._v(\"完善攻略\")])]),_c('Thx',{key:_vm.type + '-thx-' + _vm.id,staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":_vm.type,\"postTitle\":_vm.wiki_post.source.Name,\"userId\":_vm.author_id,\"adminBoxcoinEnable\":false,\"userBoxcoinEnable\":false,\"authors\":_vm.authors,\"mode\":\"wiki\",\"client\":_vm.client}}),_c('WikiComments',{attrs:{\"type\":_vm.type,\"source-id\":String(_vm.id)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WikiPanel',{staticClass:\"c-wiki-comments\",attrs:{\"scene\":\"detail\"}},[_c('template',{slot:\"head-title\"},[_c('i',{staticClass:\"el-icon-chat-line-round\"}),_c('span',[_vm._v(\"百科评论\")])]),_c('template',{slot:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-comments-panel\"},[(!_vm.comments || !_vm.comments.length)?_c('div',{staticClass:\"u-empty\"},[(_vm.comments === null)?_c('span',[_vm._v(\"🎉 数据加载中...\")]):_vm._e(),(_vm.comments === false)?_c('span',[_vm._v(\"⚠️ 数据加载异常\")]):_vm._e(),(_vm.comments && !_vm.comments.length)?_c('span',[_vm._v(\"💧 暂无评论\")]):_vm._e()]):_vm._e(),_c('Comment',{attrs:{\"comments\":_vm.comments,\"source-id\":_vm.sourceId}}),_c('el-pagination',{staticClass:\"u-pagination-box\",attrs:{\"background\":\"\",\"hide-on-single-page\":\"\",\"current-page\":_vm.page,\"total\":_vm.total,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, total\"},on:{\"current-change\":_vm.handleCurrentChange}}),_c('div',{staticClass:\"m-reply-form\",attrs:{\"id\":\"m-reply-form\"}},[_c('h4',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"回复\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reply_form.content),expression:\"reply_form.content\"}],staticClass:\"u-reply-content\",domProps:{\"value\":(_vm.reply_form.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.reply_form, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"u-author\"},[_c('span',[_vm._v(\"昵称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reply_form.user_nickname),expression:\"reply_form.user_nickname\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.reply_form.user_nickname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.reply_form, \"user_nickname\", $event.target.value)}}})]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create_comment(_vm.reply_form)}}},[_c('i',{staticClass:\"el-icon-check\"}),_c('span',[_vm._v(\"提交\")])])],1)],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"u-comments\"},_vm._l((_vm.comments),function(comment,key){return _c('li',{key:key,staticClass:\"u-comment-panel\"},[_c('div',{staticClass:\"u-comment\"},[_c('div',{staticClass:\"u-nickname-panel\"},[_c('a',{staticClass:\"u-nickname\",attrs:{\"href\":comment.user_id ? _vm.author_url(comment.user_id) : null,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(comment.user_nickname)}}),(comment.parent_id)?[_c('span',[_vm._v(\" 回复 \")]),_c('a',{staticClass:\"u-nickname\",attrs:{\"href\":comment.parent.user_id\n                                ? _vm.author_url(comment.parent.user_id)\n                                : null,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(comment.parent.user_nickname)}})]:_vm._e()],2),_c('p',{staticClass:\"u-content\",domProps:{\"innerHTML\":_vm._s(comment.content)}}),_c('div',{staticClass:\"m-reply\"},[(comment.reply_form && comment.reply_form.show)?_c('el-button',{staticClass:\"u-reply\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){comment.reply_form.show = !comment.reply_form.show}}},[_c('i',{staticClass:\"el-icon-arrow-up\"}),_c('span',[_vm._v(\"收起\")])]):_c('el-button',{staticClass:\"u-reply\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){comment.reply_form.show = !comment.reply_form.show}}},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"回复\")])]),_c('span',{staticClass:\"u-time\",domProps:{\"textContent\":_vm._s(_vm.ts2str(comment.updated))}})],1),(comment.reply_form && comment.reply_form.show)?_c('div',{staticClass:\"m-reply-form\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.reply_form.content),expression:\"comment.reply_form.content\"}],staticClass:\"u-reply-content\",domProps:{\"value\":(comment.reply_form.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(comment.reply_form, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"u-author\"},[_c('span',[_vm._v(\"昵称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.reply_form.user_nickname),expression:\"comment.reply_form.user_nickname\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(comment.reply_form.user_nickname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(comment.reply_form, \"user_nickname\", $event.target.value)}}})]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create_comment(comment.reply_form, comment.id)}}},[_c('i',{staticClass:\"el-icon-check\"}),_c('span',[_vm._v(\"提交\")])])],1):_vm._e()]),(comment.children.length)?_c('WikiComment',{attrs:{\"comments\":comment.children,\"source-id\":_vm.sourceId}}):_vm._e()],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <ul class=\"u-comments\">\n        <li\n            class=\"u-comment-panel\"\n            v-for=\"(comment, key) in comments\"\n            :key=\"key\"\n        >\n            <div class=\"u-comment\">\n                <!-- 评论内容 -->\n                <div class=\"u-nickname-panel\">\n                    <a\n                        class=\"u-nickname\"\n                        :href=\"\n                            comment.user_id ? author_url(comment.user_id) : null\n                        \"\n                        target=\"_blank\"\n                        v-text=\"comment.user_nickname\"\n                    ></a>\n                    <template v-if=\"comment.parent_id\">\n                        <span>&nbsp;回复&nbsp;</span>\n                        <a\n                            class=\"u-nickname\"\n                            :href=\"\n                                comment.parent.user_id\n                                    ? author_url(comment.parent.user_id)\n                                    : null\n                            \"\n                            target=\"_blank\"\n                            v-text=\"comment.parent.user_nickname\"\n                        ></a>\n                    </template>\n                </div>\n                <p class=\"u-content\" v-html=\"comment.content\"></p>\n                <!-- 其他 -->\n                <div class=\"m-reply\">\n                    <!-- 展开、收起 -->\n                    <el-button\n                        type=\"default\"\n                        v-if=\"comment.reply_form && comment.reply_form.show\"\n                        class=\"u-reply\"\n                        @click=\"\n                            comment.reply_form.show = !comment.reply_form.show\n                        \"\n                    >\n                        <i class=\"el-icon-arrow-up\"></i>\n                        <span>收起</span>\n                    </el-button>\n                    <el-button\n                        type=\"primary\"\n                        plain\n                        v-else\n                        class=\"u-reply\"\n                        @click=\"\n                            comment.reply_form.show = !comment.reply_form.show\n                        \"\n                    >\n                        <i class=\"el-icon-chat-dot-round\"></i>\n                        <span>回复</span>\n                    </el-button>\n                    <!-- 更新时间 -->\n                    <span\n                        class=\"u-time\"\n                        v-text=\"ts2str(comment.updated)\"\n                    ></span>\n                </div>\n                <!-- 评论回复表单 -->\n                <div class=\"m-reply-form\" v-if=\"comment.reply_form && comment.reply_form.show\">\n                    <textarea\n                        class=\"u-reply-content\"\n                        v-model=\"comment.reply_form.content\"\n                    ></textarea>\n                    <div class=\"u-author\">\n                        <span>昵称：</span>\n                        <input\n                            v-model=\"comment.reply_form.user_nickname\"\n                            type=\"text\"\n                        />\n                    </div>\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-submit\"\n                        @click=\"create_comment(comment.reply_form, comment.id)\"\n                    >\n                        <i class=\"el-icon-check\"></i>\n                        <span>提交</span>\n                    </el-button>\n                </div>\n            </div>\n            <WikiComment\n                v-if=\"comment.children.length\"\n                :comments=\"comment.children\"\n                :source-id=\"sourceId\"\n            />\n        </li>\n    </ul>\n</template>\n\n<script>\nimport { authorLink, ts2str } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"WikiComment\",\n    props: [\"comments\", \"sourceId\"],\n    methods: {\n        author_url: authorLink,\n        ts2str,\n        create_comment(form, parent_id) {\n            let app = this.$parent;\n            if (!app.create_comment) app = app.$parent;\n            if (!app.create_comment) {\n                this.$message({\n                    message: \"发布评论异常，请联系管理员\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            app.create_comment(form, parent_id);\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WikiComment.vue?vue&type=template&id=5cfca930&\"\nimport script from \"./WikiComment.vue?vue&type=script&lang=js&\"\nexport * from \"./WikiComment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <WikiPanel class=\"c-wiki-comments\" scene=\"detail\">\n        <template slot=\"head-title\">\n            <i class=\"el-icon-chat-line-round\"></i>\n            <span>百科评论</span>\n        </template>\n        <template slot=\"body\">\n            <div class=\"m-comments-panel\" v-loading=\"loading\">\n                <div class=\"u-empty\" v-if=\"!comments || !comments.length\">\n                    <span v-if=\"comments === null\">🎉 数据加载中...</span>\n                    <span v-if=\"comments === false\">⚠️ 数据加载异常</span>\n                    <span v-if=\"comments && !comments.length\">💧 暂无评论</span>\n                </div>\n                <!-- 递归评论组件 -->\n                <Comment :comments=\"comments\" :source-id=\"sourceId\" />\n                <el-pagination\n                    class=\"u-pagination-box\"\n                    background\n                    hide-on-single-page\n                    :current-page=\"page\"\n                    :total=\"total\"\n                    :page-size=\"pageSize\"\n                    layout=\"prev, pager, next, total\"\n                    @current-change=\"handleCurrentChange\"\n                ></el-pagination>\n                <!-- 回复表单 -->\n                <div id=\"m-reply-form\" class=\"m-reply-form\">\n                    <h4 class=\"u-title\">\n                        <i class=\"el-icon-chat-dot-round\"></i>\n                        <span>回复</span>\n                    </h4>\n                    <textarea\n                        class=\"u-reply-content\"\n                        v-model=\"reply_form.content\"\n                    ></textarea>\n                    <div class=\"u-author\">\n                        <span>昵称：</span>\n                        <input v-model=\"reply_form.user_nickname\" type=\"text\" />\n                    </div>\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-submit\"\n                        @click=\"create_comment(reply_form)\"\n                    >\n                        <i class=\"el-icon-check\"></i>\n                        <span>提交</span>\n                    </el-button>\n                </div>\n            </div>\n        </template>\n    </WikiPanel>\n</template>\n\n<script>\nimport WikiPanel from \"./WikiPanel\";\nimport Comment from \"./WikiComment.vue\";\nimport { wikiComment } from \"@jx3box/jx3box-common/js/wiki\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"WikiComments\",\n    props: [\"type\", \"sourceId\"],\n    data() {\n        return {\n            comments: null,\n            reply_form: {\n                content: \"\",\n                user_nickname: User.getInfo().name,\n            },\n            page: 1,\n            pageSize: 10,\n            total: 0,\n            loading: false,\n        };\n    },\n    computed: {\n        client: function () {\n            return location.href.includes(\"classic\") || location.href.includes(\"origin\") ? \"origin\" : \"std\";\n        },\n    },\n    methods: {\n        get_comments() {\n            if (!this.type || !this.sourceId) return;\n            // WikiComment.list(this.type, this.sourceId, this.client)\n            this.loading = true;\n            wikiComment.list({ type: this.type, id: this.sourceId }, { client: this.client, page: this.page })\n            .then(\n                (res) => {\n                    res = res.data;\n                    if (res.code === 200) {\n                        let comments = res.data.comments;\n                        for (let i = 0; i < comments.length; i++) {\n                            comments[i][\"reply_form\"] = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            };\n                        }\n                        this.page = res.data.current_page;\n                        this.total = res.data.total\n                        this.comments = filter(comments, 0);\n                        // this.comments = comments;\n                        this.loading = false;\n                    }\n                },\n                () => {\n                    this.comments = false;\n                    this.loading = false;\n                }\n            );\n\n            function filter(comments, parent) {\n                let outputs = [];\n                for (let index in comments) {\n                    let c = comments[index];\n                    if (!c) continue;\n                    if (c.parent_id === parent) {\n                        // 递归\n                        let children = filter(c.children, c.id);\n                        c.children = children.map((item) => {\n                            item.parent = {\n                                user_id: c.user_id,\n                                user_nickname: c.user_nickname,\n                                id: c.id,\n                            }\n                            item.reply_form = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            }\n                            return item\n                        });\n                        outputs.push(c);\n                    }\n                }\n                return outputs;\n            }\n        },\n        create_comment(form, parent_id = 0) {\n            // 校验评论内容\n            if (!form.content) {\n                this.$message({\n                    message: \"请先填写评论内容再尝试提交\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            const data = {\n                comment: {\n                    type: this.type,\n                    source_id: this.sourceId,\n                    parent_id: parent_id,\n                    user_nickname: form.user_nickname || User.getInfo().name,\n                    content: form.content,\n                },\n                client: this.client\n            }\n            wikiComment.post({ data }, {})\n                .then(\n                    (res) => {\n                        res = res.data;\n                        if (res.code === 200) {\n                            form.content = \"\";\n                            this.$message({\n                                message: \"提交成功，请等待审核\",\n                                type: \"success\",\n                            });\n                        } else\n                            this.$message({\n                                message: `${res.message}`,\n                                type: \"warning\",\n                            });\n                    },\n                    () => {\n                        this.$message({\n                            message: \"网络异常，提交失败\",\n                            type: \"warning\",\n                        });\n                    }\n                )\n                .finally(() => {\n                    form.show = false;\n                });\n        },\n        handleCurrentChange(page) {\n            this.page = page;\n            this.get_comments();\n        }\n    },\n    components: {\n        WikiPanel,\n        Comment,\n    },\n    watch: {\n        sourceId: {\n            immediate: true,\n            handler() {\n                this.get_comments();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/css/wiki-comments.less\";\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WikiComments.vue?vue&type=template&id=3ac92298&\"\nimport script from \"./WikiComments.vue?vue&type=script&lang=js&\"\nexport * from \"./WikiComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WikiComments.vue?vue&type=style&index=0&id=3ac92298&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <!-- 包含攻略、评论、历史版本、点赞等 -->\n    <div class=\"w-pvx-user\">\n        <!--攻略-->\n        <div class=\"m-wiki-post-panel\" v-if=\"wiki_post && wiki_post.post\">\n            <WikiPanel :wiki-post=\"wiki_post\">\n                <template slot=\"head-title\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z\"/></svg>\n                    <span class=\"u-txt\">{{ name }}攻略</span>\n                </template>\n                <template slot=\"head-actions\">\n                    <a class=\"el-button el-button--primary\" :href=\"publish_url(`${type}/${id}`)\">\n                        <i class=\"el-icon-edit\"></i>\n                        <span>完善{{ name }}攻略</span>\n                    </a>\n                </template>\n                <template slot=\"body\">\n                    <div class=\"m-wiki-compatible\" v-if=\"compatible\">\n                        <i class=\"el-icon-warning-outline\"></i> 暂无缘起攻略，以下为重制攻略，仅作参考，<a\n                            class=\"s-link\"\n                            :href=\"publish_url(`${type}/${id}`)\"\n                            >参与修订</a\n                        >。\n                    </div>\n                    <Article :content=\"wiki_post.post.content\" />\n                    <div class=\"m-wiki-signature\">\n                        <i class=\"el-icon-edit\"></i>\n                        本次修订由 <b>{{ user_name }}</b> 提交于{{ updated_at }}\n                    </div>\n                </template>\n            </WikiPanel>\n\n            <!-- 奇遇触发记录 -->\n            <slot name=\"serendipity\"></slot>\n\n            <!-- 历史版本 -->\n            <WikiRevisions :type=\"type\" :source-id=\"id\" />\n        </div>\n        <div class=\"m-wiki-post-empty\" v-else>\n            <i class=\"el-icon-s-opportunity\"></i>\n            <span>暂无攻略，我要</span>\n            <a class=\"s-link\" :href=\"publish_url(`${type}/${id}`)\">完善攻略</a>\n        </div>\n        <Thx\n            class=\"m-thx\"\n            :postId=\"id\"\n            :postType=\"type\"\n            :postTitle=\"wiki_post.source.Name\"\n            :userId=\"author_id\"\n            :adminBoxcoinEnable=\"false\"\n            :userBoxcoinEnable=\"false\"\n            :authors=\"authors\"\n            mode=\"wiki\"\n            :key=\"type + '-thx-' + id\"\n            :client=\"client\"\n        />\n        <!-- 百科评论 -->\n        <WikiComments :type=\"type\" :source-id=\"String(id)\" />\n    </div>\n</template>\n\n<script>\nimport { postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki.js\";\n\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport WikiPanel from \"@jx3box/jx3box-common-ui/src/wiki/WikiPanel\";\nimport WikiRevisions from \"@jx3box/jx3box-common-ui/src/wiki/WikiRevisions\";\nimport WikiComments from \"@jx3box/jx3box-common-ui/src/wiki/WikiComments\";\n\nimport { publishLink, ts2str, getLink } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"PvxUser\",\n    components: {\n        WikiPanel,\n        Article,\n        WikiRevisions,\n        WikiComments,\n    },\n    props: {\n        id: {\n            required: true,\n        },\n        name: {\n            type: String,\n            default: \"\",\n        },\n        type: {\n            type: String,\n            required: true,\n        },\n    },\n    data() {\n        return {\n            wiki_post: {\n                source: {},\n                post: null,\n            },\n            compatible: false,\n            is_empty: true,\n        };\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler() {\n                if (this.post_id) {\n                    this.loadRevision();\n                } else {\n                    this.loadData();\n                }\n            },\n        },\n        post_id: {\n            handler() {\n                this.loadRevision();\n            },\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        //wiki相关\n        post_id: function () {\n            return this.$route.params.post_id;\n        },\n        isRevision: function () {\n            return !!this.$route.params.post_id;\n        },\n        author_id: function () {\n            return ~~this.wiki_post?.post?.user_id;\n        },\n        user_name: function () {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        updated_at: function () {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        fav_title: function () {\n            return this.wiki_post?.source?.Name;\n        },\n        authors: function () {\n            if (!this.isRevision) {\n                return (\n                    this.wiki_post?.users\n                        ?.filter((user) => user.id)\n                        ?.map((user) => {\n                            return {\n                                user_id: user.id,\n                                user_avatar: user.avatar,\n                                display_name: user.nickname,\n                            };\n                        }) || []\n                );\n            }\n            return [];\n        },\n    },\n    methods: {\n        getLink,\n        //百科相关\n        loadData: function () {\n            // 获取最新攻略\n            if (this.id) {\n                wiki.mix({ type: this.type, id: this.id, client: this.client }, { supply: 1 }).then((res) => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users,\n                    };\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                });\n            }\n            this.triggerStat();\n        },\n        loadRevision: function () {\n            // 获取指定攻略\n            wiki.getById(this.post_id, { type: this.type }).then((res) => {\n                this.wiki_post = res?.data?.data;\n            });\n            this.triggerStat();\n        },\n        publish_url: publishLink,\n        triggerStat: function () {\n            if (this.client == \"origin\") {\n                postStat(`origin_${type}`, this.id);\n            } else {\n                postStat(this.type, this.id);\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.w-pvx-user {\n    & > div {\n        margin-top: 40px !important;\n    }\n    .c-wiki-panel {\n        margin-top: 40px !important;\n    }\n    .m-wiki-signature {\n        text-align: right;\n        color: #999;\n        font-size: 12px;\n        line-height: 2;\n        border-top: 1px dashed #ddd;\n        padding: 5px 0;\n    }\n\n    .u-msg-yellow {\n        color: #8a6d3b;\n        background-color: #fcf8e3;\n        border: 1px solid #faebcc;\n        padding: 8px 14px 8px 14px;\n        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n        border-radius: 4px;\n    }\n\n    .m-wiki-post-empty {\n        .u-msg-yellow;\n        .x;\n\n        .s-link {\n            .underline(@color-link);\n        }\n\n        letter-spacing: 2px;\n        .fz(14px);\n    }\n\n    .m-wiki-compatible {\n        .u-msg-yellow;\n        margin: 10px auto;\n        padding: 5px 10px;\n\n        a {\n            .underline(@color-link);\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PvxUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PvxUser.vue?vue&type=template&id=a3b1f978&\"\nimport script from \"./PvxUser.vue?vue&type=script&lang=js&\"\nexport * from \"./PvxUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PvxUser.vue?vue&type=style&index=0&id=a3b1f978&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $node } from \"@jx3box/jx3box-common/js/https\";\nconst $ = $node()\n\nexport function getList (params) {\n  return $.get(`/books`, { params });\n}\n\nexport function getInfo (params) {\n  return $.get(`/book`, { params });\n}","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\nvar FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=style&index=0&id=914b6a1c&prod&lang=less&\"","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=style&index=0&id=7f0d2f02&prod&lang=less&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=style&index=0&id=3ac92298&prod&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar FORCED = ES3_STRINGS || !arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  join: function join(separator) {\n    return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg) : false;\n  var element, elementLen;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        elementLen = lengthOfArrayLike(element);\n        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;\n      } else {\n        doesNotExceedSafeInteger(targetIndex + 1);\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"bookSingleWrap\",staticClass:\"book-single-wrapper\"},[_c('div',{staticClass:\"back-wrap\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"返回列表\")])],1),(_vm.book)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"book-single-content\"},[_c('div',{staticClass:\"book-header\"},[_c('h2',{staticClass:\"book-title\"},[_vm._v(_vm._s(_vm.book.Name))]),_c('p',{staticClass:\"book-desc\",domProps:{\"innerHTML\":_vm._s(_vm.book.Desc)}})]),_c('div',{staticClass:\"book-detail-wrapper\"},[(_vm.book.contentInfo)?_c('div',{staticClass:\"book-content-wrapper\",class:`book-content-wrapper-${_vm.book.ExtendProfessionID1}`},[_c('div',{staticClass:\"right-div\"}),(/^\\d+$/g.test(_vm.book.contentInfo))?_c('div',{staticClass:\"book-content\",class:/^\\d+$/g.test(_vm.book.contentInfo) && 'img-content'},[_c('img',{attrs:{\"src\":_vm.iconLink(_vm.book.contentInfo, _vm.client),\"alt\":_vm.iconLink(_vm.book.contentInfo, _vm.client)}})]):[_c('div',{ref:\"bookWrap\",staticClass:\"book-content\",class:_vm.isVertical ? 'vertical' : 'row'},[_c('div',{ref:\"bookTitle\",staticClass:\"title\"},[_vm._v(_vm._s(_vm.book.Name))]),_c('div',{ref:\"bookContent\",staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.book.contentInfo)}})]),(_vm.arrowShow)?_c('div',{staticClass:\"buttons\",class:_vm.isVertical ? 'vertical' : 'row'},[_c('div',{staticClass:\"left\",class:_vm.noMore && 'disabled',on:{\"click\":_vm.toMore}},[_c('i',{class:_vm.isVertical ? 'el-icon-arrow-left' : 'el-icon-arrow-down'})]),_c('div',{staticClass:\"right\",class:_vm.noBack && 'disabled',on:{\"click\":_vm.toBack}},[_c('i',{class:_vm.isVertical ? 'el-icon-arrow-right' : 'el-icon-arrow-up'})])]):_vm._e(),_c('div',{staticClass:\"switch\",on:{\"click\":_vm.toSwitch}},[_vm._v(_vm._s(_vm.isVertical ? \"古风\" : \"现代\"))])]],2):_vm._e(),_c('div',{staticClass:\"book-info\"},[_c('p',{staticClass:\"u-subtitle\"},[_c('svg',{attrs:{\"width\":\"23\",\"height\":\"18\",\"viewBox\":\"0 0 23 18\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M14.112.744l7.444 3.761a1.51 1.51 0 01.763 1.775c-.39 1.331-.347 1.89-.092 2.521.257.638.08 1.449-.587 1.87l-10.284 6.51c-.43.273-.98.315-1.457.082l-3.84-1.895-1.604-.805-1.14-.582-.696-.365-.36-.196-.26-.15C.978 12.655.66 11.405.665 10.45c.004-.971.338-2.184 1.265-2.85l.3-.207.858-.561 2.045-1.306L12.642.811a1.499 1.499 0 011.47-.067zm5.921 6.944l-8.673 5.49-.108.063-.11.052c-.11.408-.149.701-.145.973.002.162.02.328.055.517l.042.197 9.148-5.79-.072-.249a4.267 4.267 0 01-.138-.996l.001-.257zM2.8 9.678c-.09.25-.136.514-.134.78-.003.672.237 1.023.365 1.1l.308.175.626.333 1.77.903L9.01 14.6a5.01 5.01 0 01.1-1.416l.067-.288L2.8 9.678zm11.164-5.764a1 1 0 00-1.028 1.712l.1.06 2.1 1.1a1 1 0 001.028-1.712l-.1-.06-2.1-1.1z\",\"fill\":\"#24292E\"}})]),_c('span',[_vm._v(\"书籍信息\")])]),_c('div',{staticClass:\"u-book-info\"},[(!['其它', '碑铭'].includes(_vm.getOrigin(_vm.book)))?_c('div',{staticClass:\"u-item book-origin\"},[_vm._v(\" 来源： \"),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"popper-class\":\"book-notice-tooltip\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[(_vm.getOrigin(_vm.book).indexOf('秘境') > -1)?[_c('div',{staticClass:\"u-detail-item\"},[_vm._v(\"秘境\")]),_c('div',{staticClass:\"book-fb\",domProps:{\"innerHTML\":_vm._s(_vm.getBossOrigin(_vm.book))}})]:_vm._e(),(_vm.getOrigin(_vm.book).indexOf('商店') > -1)?[_c('div',{staticClass:\"u-detail-item\"},[_vm._v(\"商店\")]),_c('div',{staticClass:\"book-shop\",domProps:{\"innerHTML\":_vm._s(_vm.getShopOrigin(_vm.book))}})]:_vm._e(),(_vm.getOrigin(_vm.book).indexOf('任务') > -1)?[_c('div',{staticClass:\"u-detail-item\"},[_vm._v(\"任务\")]),_c('div',{staticClass:\"book-quest\"},_vm._l((_vm.getQuestOrigin(_vm.book)),function(item){return _c('div',{key:item.questId,staticClass:\"quest-item\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('quest', item.questId)}},[_vm._v(\" [\"+_vm._s(item.questName)+\"]\")])])}),0)]:_vm._e()],2),_c('span',{class:_vm.getOrigin(_vm.book) !== '其它' && 'book-special'},[_vm._v(_vm._s(_vm.getOrigin(_vm.book)))])])],1):_c('div',{staticClass:\"u-info-item\"},[_vm._v(\" 来源：\"),(_vm.getOrigin(_vm.book) === '碑铭')?_c('span',{staticClass:\"book-special\"},[_vm._v(_vm._s(_vm.getOrigin(_vm.book))+\" \"),(_vm.bookMapSite.length)?_c('a',{staticClass:\"look-site\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"查看位置\")]):_vm._e()]):_c('span',[_vm._v(_vm._s(_vm.getOrigin(_vm.book)))])]),_c('div',{staticClass:\"u-info-item\"},[_vm._v(\" 所属套书：\"+_vm._s(\"【\" + _vm.getProfessionType(_vm.book.ExtendProfessionID1) + \"】\" + _vm.book.BookName)+\" \")]),_c('div',{staticClass:\"u-info-item\"},[_vm._v(\"阅读等级：\"+_vm._s(_vm.book.RequireLevel))])]),(_vm.book.copy && _vm.book.copy.ID)?[_c('p',{staticClass:\"u-subtitle\"},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 16 16\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('mask',{staticStyle:{\"mask-type\":\"luminance\"},attrs:{\"id\":\"a\",\"maskUnits\":\"userSpaceOnUse\",\"x\":\"0\",\"y\":\"0\",\"width\":\"16\",\"height\":\"16\"}},[_c('path',{attrs:{\"d\":\"M1 15h3L15 4l-3-3L1 12v3z\",\"fill\":\"#fff\",\"stroke\":\"#fff\",\"stroke-width\":\"1.5\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 4l3 3z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M9 4l3 3\",\"stroke\":\"#fff\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('g',{attrs:{\"mask\":\"url(#a)\"}},[_c('path',{attrs:{\"d\":\"M-.883-.38h16.97v16.971H-.882V-.379z\",\"fill\":\"#000\"}})])]),_c('span',[_vm._v(\"抄录要求\")])]),_c('div',{staticClass:\"u-book-info\"},[_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"角色等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequirePlayerLevel))])]),_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"阅读等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequireLevel))])]),_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(_vm._s(_vm.getProfessionType(_vm.book.ExtendProfessionID1))+\"等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequireLevelExt))])]),_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"精力消耗：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.CostVigor))])]),(_vm.book.copyList.length)?_c('div',{staticClass:\"u-info-item\"},[_c('span',[_vm._v(\"所需材料：\")]),_vm._l((_vm.book.copyList),function(meterial){return _c('item-icon',{key:meterial.item_id,attrs:{\"item_id\":meterial.item_id,\"size\":28,\"amount\":meterial.count,\"onlyIcon\":true}})})],2):_vm._e()])]:_vm._e()],2)]),(_vm.bookList.length)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticClass:\"m-book-list\"},[_c('div',{staticClass:\"u-title\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"套书·\"+_vm._s(_vm.book.BookName))]),(_vm.book.AchievementID)?_c('a',{staticClass:\"book-achievement\",attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('achievement', _vm.book.AchievementID)}},[_c('i',{staticClass:\"el-icon-warning\"}),_c('span',[_vm._v(\"该套书有成就\")])]):_vm._e()]),_c('div',{staticClass:\"book-list-wrapper\"},[_c('div',{staticClass:\"book-list-content\"},_vm._l((_vm.bookList),function(item,index){return _c('BookCard',{key:item.idKey + index,attrs:{\"item\":item}})}),1)])]):_vm._e()]):_vm._e(),_c('pvx-user',{attrs:{\"id\":_vm.id,\"name\":\"书籍\",\"type\":\"item\"}}),_c('el-dialog',{attrs:{\"title\":\"碑铭位置\",\"visible\":_vm.dialogVisible,\"width\":_vm.isPhone() ? '90%' : '38%',\"center\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"m-book-map\"},[(_vm.bookMapSite.length)?_c('jx3box-map',{staticClass:\"u-content\",attrs:{\"map-id\":parseInt(_vm.bookMapSite[0].map),\"datas\":_vm.bookMapSite[0].position}}):_vm._e()],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"bookSingleWrap\" class=\"book-single-wrapper\">\n        <div class=\"back-wrap\">\n            <el-button @click=\"goBack\">返回列表</el-button>\n        </div>\n        <div v-if=\"book\" class=\"book-single-content\" v-loading=\"loading\">\n            <div class=\"book-header\">\n                <h2 class=\"book-title\">{{ book.Name }}</h2>\n                <p class=\"book-desc\" v-html=\"book.Desc\"></p>\n            </div>\n            <div class=\"book-detail-wrapper\">\n                <div\n                    v-if=\"book.contentInfo\"\n                    class=\"book-content-wrapper\"\n                    :class=\"`book-content-wrapper-${book.ExtendProfessionID1}`\"\n                >\n                    <div class=\"right-div\"></div>\n                    <div\n                        v-if=\"/^\\d+$/g.test(book.contentInfo)\"\n                        class=\"book-content\"\n                        :class=\"/^\\d+$/g.test(book.contentInfo) && 'img-content'\"\n                    >\n                        <img :src=\"iconLink(book.contentInfo, client)\" :alt=\"iconLink(book.contentInfo, client)\" />\n                    </div>\n                    <template v-else>\n                        <div ref=\"bookWrap\" class=\"book-content\" :class=\"isVertical ? 'vertical' : 'row'\">\n                            <div ref=\"bookTitle\" class=\"title\">{{ book.Name }}</div>\n                            <div ref=\"bookContent\" class=\"content\" v-html=\"book.contentInfo\"></div>\n                        </div>\n                        <div v-if=\"arrowShow\" class=\"buttons\" :class=\"isVertical ? 'vertical' : 'row'\">\n                            <div class=\"left\" :class=\"noMore && 'disabled'\" @click=\"toMore\">\n                                <i :class=\"isVertical ? 'el-icon-arrow-left' : 'el-icon-arrow-down'\"></i>\n                                <!-- <span>继续</span> -->\n                            </div>\n                            <div class=\"right\" :class=\"noBack && 'disabled'\" @click=\"toBack\">\n                                <!-- <span>返回</span> -->\n                                <i :class=\"isVertical ? 'el-icon-arrow-right' : 'el-icon-arrow-up'\"></i>\n                            </div>\n                        </div>\n                        <div class=\"switch\" @click=\"toSwitch\">{{ isVertical ? \"古风\" : \"现代\" }}</div>\n                    </template>\n                </div>\n                <div class=\"book-info\">\n                    <p class=\"u-subtitle\">\n                        <svg width=\"23\" height=\"18\" viewBox=\"0 0 23 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.112.744l7.444 3.761a1.51 1.51 0 01.763 1.775c-.39 1.331-.347 1.89-.092 2.521.257.638.08 1.449-.587 1.87l-10.284 6.51c-.43.273-.98.315-1.457.082l-3.84-1.895-1.604-.805-1.14-.582-.696-.365-.36-.196-.26-.15C.978 12.655.66 11.405.665 10.45c.004-.971.338-2.184 1.265-2.85l.3-.207.858-.561 2.045-1.306L12.642.811a1.499 1.499 0 011.47-.067zm5.921 6.944l-8.673 5.49-.108.063-.11.052c-.11.408-.149.701-.145.973.002.162.02.328.055.517l.042.197 9.148-5.79-.072-.249a4.267 4.267 0 01-.138-.996l.001-.257zM2.8 9.678c-.09.25-.136.514-.134.78-.003.672.237 1.023.365 1.1l.308.175.626.333 1.77.903L9.01 14.6a5.01 5.01 0 01.1-1.416l.067-.288L2.8 9.678zm11.164-5.764a1 1 0 00-1.028 1.712l.1.06 2.1 1.1a1 1 0 001.028-1.712l-.1-.06-2.1-1.1z\" fill=\"#24292E\"/></svg>\n                        <span>书籍信息</span>\n                    </p>\n                    <div class=\"u-book-info\">\n                        <div v-if=\"!['其它', '碑铭'].includes(getOrigin(book))\" class=\"u-item book-origin\">\n                            来源：\n                            <el-tooltip placement=\"top\" popper-class=\"book-notice-tooltip\">\n                                <div slot=\"content\">\n                                    <template v-if=\"getOrigin(book).indexOf('秘境') > -1\">\n                                        <div class=\"u-detail-item\">秘境</div>\n                                        <div class=\"book-fb\" v-html=\"getBossOrigin(book)\"></div>\n                                    </template>\n                                    <template v-if=\"getOrigin(book).indexOf('商店') > -1\">\n                                        <div class=\"u-detail-item\">商店</div>\n                                        <div class=\"book-shop\" v-html=\"getShopOrigin(book)\"></div>\n                                    </template>\n                                    <template v-if=\"getOrigin(book).indexOf('任务') > -1\">\n                                        <div class=\"u-detail-item\">任务</div>\n                                        <div class=\"book-quest\">\n                                            <div\n                                                class=\"quest-item\"\n                                                v-for=\"item in getQuestOrigin(book)\"\n                                                :key=\"item.questId\"\n                                            >\n                                                <a target=\"_blank\" :href=\"getLink('quest', item.questId)\">\n                                                    [{{ item.questName }}]</a\n                                                >\n                                            </div>\n                                        </div>\n                                    </template>\n                                </div>\n                                <span :class=\"getOrigin(book) !== '其它' && 'book-special'\">{{ getOrigin(book) }}</span>\n                            </el-tooltip>\n                        </div>\n                        <div v-else class=\"u-info-item\">\n                            来源：<span v-if=\"getOrigin(book) === '碑铭'\" class=\"book-special\"\n                                >{{ getOrigin(book) }}\n                                <a\n                                    class=\"look-site\"\n                                    href=\"javascript:;\"\n                                    v-if=\"bookMapSite.length\"\n                                    @click=\"dialogVisible = true\"\n                                    >查看位置</a\n                                >\n                            </span>\n                            <!-- 其它 -->\n                            <span v-else>{{ getOrigin(book) }}</span>\n                        </div>\n                        <div class=\"u-info-item\">\n                            所属套书：{{ \"【\" + getProfessionType(book.ExtendProfessionID1) + \"】\" + book.BookName }}\n                        </div>\n                        <div class=\"u-info-item\">阅读等级：{{ book.RequireLevel }}</div>\n                    </div>\n                    <template v-if=\"book.copy && book.copy.ID\">\n                        <p class=\"u-subtitle\">\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><mask id=\"a\" style=\"mask-type:luminance\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"><path d=\"M1 15h3L15 4l-3-3L1 12v3z\" fill=\"#fff\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linejoin=\"round\"/><path d=\"M9 4l3 3z\" fill=\"#fff\"/><path d=\"M9 4l3 3\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></mask><g mask=\"url(#a)\"><path d=\"M-.883-.38h16.97v16.971H-.882V-.379z\" fill=\"#000\"/></g></svg>\n                            <span>抄录要求</span>\n                        </p>\n                        <div class=\"u-book-info\">\n                            <div class=\"u-info-item\">\n                                <span>角色等级：</span>\n                                <span>{{ book.copy.RequirePlayerLevel }}</span>\n                            </div>\n                            <div class=\"u-info-item\">\n                                <span>阅读等级：</span>\n                                <span>{{ book.copy.RequireLevel }}</span>\n                            </div>\n                            <div class=\"u-info-item\">\n                                <span>{{ getProfessionType(book.ExtendProfessionID1) }}等级：</span>\n                                <span>{{ book.copy.RequireLevelExt }}</span>\n                            </div>\n                            <div class=\"u-info-item\">\n                                <span>精力消耗：</span>\n                                <span>{{ book.copy.CostVigor }}</span>\n                            </div>\n                            <div v-if=\"book.copyList.length\" class=\"u-info-item\">\n                                <span>所需材料：</span>\n                                <item-icon\n                                    v-for=\"meterial in book.copyList\"\n                                    :key=\"meterial.item_id\"\n                                    :item_id=\"meterial.item_id\"\n                                    :size=\"28\"\n                                    :amount=\"meterial.count\"\n                                    :onlyIcon=\"true\"\n                                ></item-icon>\n                            </div>\n                        </div>\n                    </template>\n                </div>\n            </div>\n            <!-- 套书列表 -->\n            <div v-if=\"bookList.length\" class=\"m-book-list\" v-loading=\"listLoading\">\n                <div class=\"u-title\">\n                    <span class=\"title\">套书·{{ book.BookName }}</span>\n                    <a\n                        v-if=\"book.AchievementID\"\n                        class=\"book-achievement\"\n                        target=\"_blank\"\n                        :href=\"getLink('achievement', book.AchievementID)\"\n                    >\n                        <!-- [{{ book.achievement ? book.achievement.Name : \"\" }}] -->\n                        <i class=\"el-icon-warning\"></i>\n                        <span>该套书有成就</span>\n                    </a>\n                </div>\n                <div class=\"book-list-wrapper\">\n                    <div class=\"book-list-content\">\n                        <BookCard :item=\"item\" v-for=\"(item, index) in bookList\" :key=\"item.idKey + index\"></BookCard>\n                    </div>\n                </div>\n            </div>\n            <!-- 碑铭信息 -->\n            <!-- <div v-if=\"bookMapSite.length\" class=\"m-book-map\">\n                <div class=\"u-title\">\n                    <span class=\"u-txt\">碑铭信息</span>\n                </div>\n                <jx3box-map\n                    class=\"u-content\"\n                    :map-id=\"parseInt(bookMapSite[0].map)\"\n                    :datas=\"bookMapSite[0].position\"\n                ></jx3box-map>\n            </div> -->\n        </div>\n        <!-- 包含攻略、评论、历史版本、点赞等 书籍，宠物等物品为item, 声望成就等为achievement -->\n        <pvx-user :id=\"id\" name=\"书籍\" type=\"item\"></pvx-user>\n        <!-- 碑铭信息 -->\n        <el-dialog\n            title=\"碑铭位置\"\n            :visible.sync=\"dialogVisible\"\n            :width=\"isPhone() ? '90%' : '38%'\"\n            center\n            destroy-on-close\n        >\n            <div class=\"m-book-map\">\n                <jx3box-map\n                    v-if=\"bookMapSite.length\"\n                    class=\"u-content\"\n                    :map-id=\"parseInt(bookMapSite[0].map)\"\n                    :datas=\"bookMapSite[0].position\"\n                ></jx3box-map>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport Jx3boxMap from \"@jx3box/jx3box-map/src/components/Map.vue\";\nimport ItemIcon from \"@/components/book/common/item_icon.vue\";\nimport BookCard from \"@/components/book/BookCard\";\nimport PvxUser from \"@/components/PvxUser.vue\";\n\nimport bookProfession from \"@/assets/data/book_profession.json\";\n// 碑铭坐标json\nimport bookMapInfoStd from \"@/assets/data/stele_std_fwd.json\";\nimport bookMapInfoOrigin from \"@/assets/data/stele_origin_fwd.json\";\n\n// 副本地图json\nimport maps_std from \"@jx3box/jx3box-data/data/fb/fb_map.json\";\nimport maps_orgin from \"@jx3box/jx3box-data/data/fb/fb_map_origin.json\";\n\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nimport { getLink, iconLink } from \"@jx3box/jx3box-common/js/utils\";\n\nimport { getInfo, getList } from \"@/service/book\";\nimport { isPhone } from \"@/utils/index\";\n\nexport default {\n    name: \"bookSingle\",\n    components: { Jx3boxMap, BookCard, ItemIcon, PvxUser },\n    data() {\n        return {\n            compatible: false,\n            is_empty: true,\n            // 是否古风\n            isVertical: true,\n            arrowShow: false,\n            book: {\n                idKey: \"\",\n                Name: \"\",\n                Desc: \"\",\n                BookName: \"\",\n                contentInfo: \"\",\n            },\n            loading: false,\n            bookMapSite: [], // 碑铭点位信息\n            listLoading: false,\n            bookList: [],\n            dialogVisible: false,\n            // 是否还有更多\n            noMore: false,\n            // 是否还可以返回\n            noBack: true,\n        };\n    },\n    methods: {\n        toSwitch() {\n            this.isVertical = !this.isVertical;\n            this.noBack = true;\n            this.noMore = false;\n        },\n        isPhone,\n        toMore() {\n            const isVertical = this.isVertical;\n            const bookWrap = this.$refs.bookWrap;\n            if (isVertical) {\n                // 当前为古风\n                const sW = bookWrap.scrollWidth;\n                const sLeft = bookWrap.scrollLeft;\n                const cW = bookWrap.clientWidth;\n                const step = Math.ceil(cW / 4);\n                if (sW + sLeft > cW) {\n                    // 没到尽头\n                    bookWrap.scrollBy({\n                        left: -step,\n                        behavior: \"smooth\",\n                    });\n                    this.noMore = false;\n                    this.noBack = false;\n                } else {\n                    this.noMore = true;\n                    this.noBack = false;\n                }\n            } else {\n                // 当前为现代\n                const sH = bookWrap.scrollHeight;\n                const sTop = bookWrap.scrollTop;\n                const cH = bookWrap.clientHeight;\n                const step = Math.ceil(cH / 2);\n                if (sH - sTop > cH) {\n                    // 没到底\n                    bookWrap.scrollBy({\n                        top: step,\n                        behavior: \"smooth\",\n                    });\n                    this.noMore = false;\n                    this.noBack = false;\n                } else {\n                    this.noMore = true;\n                    this.noBack = false;\n                }\n            }\n        },\n        toBack() {\n            const isVertical = this.isVertical;\n            const bookWrap = this.$refs.bookWrap;\n            if (isVertical) {\n                // 当前为古风\n                const sLeft = bookWrap.scrollLeft;\n                const cW = bookWrap.clientWidth;\n                const step = Math.ceil(cW / 4);\n                if (sLeft < 0) {\n                    // 没到尽头\n                    bookWrap.scrollBy({\n                        left: step,\n                        behavior: \"smooth\",\n                    });\n                    this.noBack = false;\n                    this.noMore = false;\n                } else {\n                    this.noBack = true;\n                    this.noMore = false;\n                }\n            } else {\n                // 当前为现代\n                const sTop = bookWrap.scrollTop;\n                const cH = bookWrap.clientHeight;\n                const step = Math.ceil(cH / 2);\n                if (sTop > 0) {\n                    // 没到顶\n                    bookWrap.scrollBy({\n                        top: -step,\n                        behavior: \"smooth\",\n                    });\n                    this.noBack = false;\n                    this.noMore = false;\n                } else {\n                    this.noBack = true;\n                    this.noMore = false;\n                }\n            }\n        },\n        goBack() {\n            this.$router.push({ path: \"/\" });\n        },\n        iconLink,\n        getBossOrigin(book) {\n            const fbMaps = this.client === \"std\" ? maps_std : maps_orgin;\n            const maps = Object.values(fbMaps)\n                .map((item) => Object.values(item.dungeon))\n                .reduce(function (a, b) {\n                    return a.concat(b);\n                })\n                .map((item) => {\n                    return item.maps.map((mItem) => {\n                        return {\n                            map_id: Number(mItem.map_id),\n                            name: mItem.mode + item.name,\n                        };\n                    });\n                })\n                .flat();\n            const drops = book?.drops;\n            if (drops && drops.length) {\n                let orgin = \"\";\n                drops.forEach((item) => {\n                    orgin =\n                        orgin +\n                        (orgin ? \"<br />\" : \"\") +\n                        (\"[\" + item.BossName + \"]\") +\n                        (maps.find((mItem) => mItem.map_id === item.MapID)\n                            ? \"(\" + maps.find((mItem) => mItem.map_id === item.MapID).name + \")\"\n                            : \"\");\n                });\n                return orgin;\n            }\n            return \"\";\n        },\n        getShopOrigin(book) {\n            let shopNames = book?.ShopNames;\n            if (shopNames) {\n                shopNames = shopNames.replace(/\\|/g, \"<br />\");\n            }\n            return shopNames;\n        },\n        getQuestOrigin(book) {\n            const quests = book?.Quests;\n            let questList = [];\n            if (quests) {\n                questList = quests.split(\";\").map((item) => {\n                    if (item.indexOf(\":\") > -1) {\n                        return {\n                            questId: item.split(\":\")[0],\n                            questName: item.split(\":\")[1],\n                        };\n                    }\n                });\n            }\n            return questList;\n        },\n        getOrigin(item) {\n            const tempId = item.DoodadTemplateID;\n            const ShopNames = item?.ShopNames;\n            const drops = item.drops || [];\n            const quests = item?.Quests;\n            let orgin = \"\";\n            if (tempId) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + (this.bookMapInfo[tempId] ? \"碑铭\" : \"其它\");\n            }\n            if (ShopNames) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"商店\";\n            }\n            if (drops.length) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"秘境\";\n            }\n            if (quests) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"任务\";\n            }\n            if (!orgin) {\n                orgin = \"其它\";\n            }\n            return orgin;\n        },\n        getProfessionType(type) {\n            return bookProfession.find((item) => item.id === Number(type))\n                ? bookProfession.find((item) => item.id === Number(type)).name\n                : \"\";\n        },\n        getData() {\n            this.loading = true;\n            getInfo({\n                id: this.idKey,\n                client: this.client,\n            })\n                .then((res) => {\n                    const data = res.data;\n                    data.contentInfo = data.contents.map((item) => item.content.replace(/\\\\n/g, \"<br>\")).join(\"<br>\");\n                    if (data.DoodadTemplateID && this.bookMapInfo[data.DoodadTemplateID]) {\n                        this.bookMapSite = this.bookMapInfo[data.DoodadTemplateID];\n                        this.bookMapSite[0].position[0] = Object.assign(this.bookMapSite[0].position[0], {\n                            title: data.Name,\n                            content: `坐标：(${this.bookMapSite[0].position[0].x},${this.bookMapSite[0].position[0].y},${this.bookMapSite[0].position[0].z})`,\n                        });\n                    }\n                    if (data?.copy?.ID) {\n                        const keyArr = Object.keys(data.copy).filter((key) => key.indexOf(\"RequireItem\") > -1);\n                        let len = parseInt(keyArr.length / 3);\n                        data.copyList = [];\n                        for (let i = 1; i <= len; i++) {\n                            if (data.copy[\"RequireItemType\" + i]) {\n                                data.copyList.push({\n                                    item_id: data.copy[\"RequireItemType\" + i] + \"_\" + data.copy[\"RequireItemIndex\" + i],\n                                    count: data.copy[\"RequireItemCount\" + i],\n                                });\n                            }\n                        }\n                    }\n                    this.book = data;\n                    // 保存最近阅读\n                    const recentBook = {\n                        idKey: data.idKey,\n                        Name: data.Name,\n                        Desc: data.Desc,\n                        ExtendProfessionID1: data.ExtendProfessionID1,\n                    };\n                    this.$store.dispatch(\"setRecentReadList\", recentBook);\n                    // 保存当前书籍类型\n                    this.$store.dispatch(\"setCurrentBookType\", data.ExtendProfessionID1);\n                    // 获取套书列表\n                    this.getBookList(data.BookName);\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        getBookList(keyword) {\n            const params = {\n                page: 1,\n                pageSize: isPhone() ? 8 : 16,\n                client: this.client,\n                keyword,\n            };\n            this.$nextTick(() => {\n                // const listWidth = this.$refs.bookSingleWrap?.clientWidth;\n                // if (!isPhone() && Math.floor(listWidth / 210) < params.pageSize) {\n                //     params.pageSize = Math.floor(listWidth / 210);\n                // }\n                this.listLoading = true;\n                getList(params)\n                    .then((res) => {\n                        this.bookList = res.data.list || [];\n                        this.listLoading = false;\n                    })\n                    .finally(() => {\n                        this.listLoading = false;\n                    });\n            });\n        },\n        getLink,\n    },\n    mounted() {\n        this.getData();\n    },\n    computed: {\n        idKey: function () {\n            return this.$route.params.id;\n        },\n        id: function () {\n            return this.book?.ItemID;\n        },\n        client() {\n            return this.$store.state.client;\n        },\n        bookMapInfo() {\n            return this.client === \"std\" ? bookMapInfoStd : bookMapInfoOrigin;\n        },\n    },\n    watch: {\n        idKey() {\n            this.getData();\n        },\n        id() {\n            if (!/^\\d+$/g.test(this.book.contentInfo)) {\n                // 非图片\n                this.$nextTick(() => {\n                    const wrapSW = this.$refs.bookWrap.scrollWidth;\n                    const wrapCW = this.$refs.bookWrap.clientWidth;\n                    if (wrapSW > wrapCW) {\n                        this.arrowShow = true;\n                    }\n                });\n            }\n        },\n        isVertical(bol) {\n            if (!/^\\d+$/g.test(this.book.contentInfo)) {\n                // 非图片\n                if (bol) {\n                    // 竖版\n                    this.$nextTick(() => {\n                        const wrapSW = this.$refs.bookWrap.scrollWidth;\n                        const wrapCW = this.$refs.bookWrap.clientWidth;\n                        this.arrowShow = wrapSW > wrapCW;\n                    });\n                } else {\n                    this.$nextTick(() => {\n                        const wrapSH = this.$refs.bookWrap.scrollHeight;\n                        const wrapCH = this.$refs.bookWrap.clientHeight;\n                        this.arrowShow = wrapSH > wrapCH;\n                    });\n                }\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/single.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Single.vue?vue&type=template&id=914b6a1c&\"\nimport script from \"./Single.vue?vue&type=script&lang=js&\"\nexport * from \"./Single.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Single.vue?vue&type=style&index=0&id=914b6a1c&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-book-card\"},[_c('a',{staticClass:\"u-book-info\",class:`u-profession-bg--` + _vm.item.ExtendProfessionID1,attrs:{\"href\":_vm.getLink(_vm.item.idKey),\"target\":\"_blank\"}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.item.Name))])]),_c('div',{staticClass:\"u-desc-info\"},[_c('div',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(_vm.item.Desc)}}),_c('div',{staticClass:\"desc-title\",domProps:{\"innerHTML\":_vm._s(_vm.item.Name)}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-book-card\">\n        <a\n            class=\"u-book-info\"\n            :class=\"`u-profession-bg--` + item.ExtendProfessionID1\"\n            :href=\"getLink(item.idKey)\"\n            target=\"_blank\"\n        >\n            <div class=\"title\">{{ item.Name }}</div>\n        </a>\n        <div class=\"u-desc-info\">\n            <div class=\"desc\" v-html=\"item.Desc\"></div>\n            <div class=\"desc-title\" v-html=\"item.Name\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        item: {\n            type: Object,\n            required: true,\n        },\n    },\n    data: function () {\n        return {};\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n    },\n    methods: {\n        getLink(id) {\n            return `/book/${id}`;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/card.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./BookCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./BookCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookCard.vue?vue&type=template&id=4370ebea&\"\nimport script from \"./BookCard.vue?vue&type=script&lang=js&\"\nexport * from \"./BookCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookCard.vue?vue&type=style&index=0&id=4370ebea&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function deleteNull(obj) {\n    if (Object.prototype.toString.call(obj) === \"[object Object]\") {\n        for (const key in obj) {\n            if ([undefined, null, \"\"].includes(obj[key])) {\n                delete obj[key];\n            }\n        }\n        return obj;\n    } else {\n        return obj;\n    }\n}\n\nexport function isPhone() {\n    let mobile = navigator.userAgent.match(\n        /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i\n    );\n    return mobile !== null;\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./BookCard.vue?vue&type=style&index=0&id=4370ebea&prod&lang=less&\""],"sourceRoot":""}