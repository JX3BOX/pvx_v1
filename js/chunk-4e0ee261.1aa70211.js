(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e0ee261"],{"0295":function(t){t.exports=JSON.parse('{"whole":{"BodyHeight":{"name":"身高","role":null,"tip":null},"HemlineSize":{"name":"裙摆大小","role":"2","tip":"仅对使用新骨骼的外装生效"}},"neck":{"HeadSize":{"name":"头部大小","role":null,"tip":null},"NeckLength":{"name":"脖子长度","role":null,"tip":null},"NeckSize":{"name":"脖子粗细","role":null,"tip":null}},"body":{"ShoulderWidth":{"name":"肩膀宽度","role":null,"tip":null},"ShoulderThick":{"name":"肩膀厚度","role":null,"tip":null},"ChestWidth":{"name":"上身宽度","role":null,"tip":null},"ChestThick":{"name":"上身厚度","role":null,"tip":null},"BreastSize":{"name":"胸部大小","role":"2","tip":null},"BreastAngle":{"name":"胸部角度","role":"2","tip":null},"LoinWidth":{"name":"腰部宽度","role":null,"tip":null},"LoinThick":{"name":"腰部厚度","role":null,"tip":null},"LoinUpDown":{"name":"腰部位置","role":null,"tip":null},"BellyWidth":{"name":"腹部宽度","role":null,"tip":null},"BellyThick":{"name":"腹部厚度","role":null,"tip":null},"HipWidth":{"name":"髋部宽度","role":null,"tip":null},"HipThick":{"name":"髋部厚度","role":null,"tip":null}},"arm":{"ArmSize":{"name":"整体臂长","role":null,"tip":null},"UpperArmSize":{"name":"上臂大小","role":null,"tip":null},"UpperForearmSize":{"name":"前臂上部","role":null,"tip":null},"LowerForearmSize":{"name":"前臂下部","role":null,"tip":null},"HandSize":{"name":"手掌大小","role":null,"tip":null},"FingerLength":{"name":"手指长度","role":null,"tip":null},"FingerSize":{"name":"手指粗细","role":null,"tip":null}},"leg":{"LegSize":{"name":"整体腿长","role":null,"tip":null},"UpperThighSize":{"name":"大腿上部","role":null,"tip":null},"LowerThighSize":{"name":"大腿下部","role":null,"tip":null},"CalfSize":{"name":"小腿大小","role":null,"tip":null},"FootSize":{"name":"脚掌大小","role":null,"tip":null}}}')},"0495":function(t,e,n){"use strict";n("0d55")},"07ac":function(t,e,n){"use strict";var a=n("23e7"),i=n("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},"0cfc":function(t,e,n){"use strict";var a=n("5530"),i=function(){var t=this,e=t._self._c;return e("router-link",{directives:[{name:"reporter",rawName:"v-reporter",value:{data:Object(a["a"])({href:"/body/"+t.item.id},t.reporter),caller:"body_index"},expression:"{\n        data: {\n            href: '/body/' + item.id,\n            ...reporter,\n        },\n        caller: 'body_index',\n    }"}],class:["m-body-item",{onlyPic:t.onlyPic,noName:t.noName}],attrs:{to:"/".concat(t.item.id),target:"_blank"}},[t.imgLink?e("img",{staticClass:"u-pic",attrs:{src:t.showThumb(t.imgLink),loading:"lazy"}}):e("img",{staticClass:"u-pic",attrs:{src:n("b43d")}}),t.item.star?e("i",{staticClass:"u-mark u-mark--star"},[t._v("编辑推荐")]):t._e(),~~t.item.price_type&&t.item.price_count?e("i",{staticClass:"u-mark u-mark--pay"},[t._v("付费")]):t._e(),e("div",{staticClass:"m-op"},[e("div",{staticClass:"u-title"},[t._v(t._s(t.item.title))]),e("a",{staticClass:"u-author",attrs:{href:t.authorLink(t.item.user_id)},on:{click:function(e){return e.stopPropagation(),t.onAuthorClick.apply(null,arguments)}}},[t._v(" 作者: "+t._s(t.item.original?t.author:t.item.author_name||"匿名")+" ")])])])},o=[],s=(n("65c2"),n("85e4")),r={name:"item",props:["item","reporter","onlyPic","noName"],data:function(){return{markmap:{newbie:"热门",advanced:"推荐",recommended:"精选"}}},computed:{author:function(){return this.item.display_name||"匿名"},imgLink:function(){var t;return null===(t=this.item.images)||void 0===t?void 0:t[0]}},methods:{showThumb:function(t){return Object(s["getThumbnail"])(t,360)},authorLink:s["authorLink"],onAuthorClick:function(){this.item.original||window.open(this.item.author_link,"_blank")}}},c=r,l=(n("0495"),n("2877")),u=Object(l["a"])(c,i,o,!1,null,null,null);e["a"]=u.exports},"0d55":function(t,e,n){},"21a6":function(t,e,n){(function(n){var a,i,o;(function(n,s){i=[],a=s,o="function"===typeof a?a.apply(e,i):a,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function a(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){c(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,r=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,e,n){var r=s.URL||s.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):i(c.href)?a(t,e,n):o(c,c.target="_blank")):(c.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(i(t))a(t,n,s);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){o(r)}))}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var o="application/octet-stream"===t.type,c=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&c||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var d=s.URL||s.webkitURL,p=d.createObjectURL(t);i?i.location=p:location.href=p,i=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});s.saveAs=c.saveAs=c,t.exports=c}))}).call(this,n("c8ba"))},4508:function(t,e,n){"use strict";n("8cbe")},"51eb":function(t,e,n){"use strict";var a=n("825a"),i=n("485a"),o=TypeError;t.exports=function(t){if(a(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw o("Incorrect hint");return i(this,t)}},"67be":function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"m",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"k",(function(){return c})),n.d(e,"j",(function(){return l})),n.d(e,"l",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return m})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return b}));n("99af");var a=n("41cb");function i(t){return Object(a["c"])().get("/api/pvxbody",{params:t})}function o(t){return Object(a["c"])().get("/api/pvxbody/".concat(t))}function s(t){return Object(a["c"])().put("/api/pvxbody/".concat(t,"/manager/set/star"))}function r(t){return Object(a["c"])().put("/api/pvxbody/".concat(t,"/manager/cancel/star"))}function c(t,e){return e?Object(a["c"])().put("/api/pvxbody/".concat(t,"/manager/online")):Object(a["c"])().put("/api/pvxbody/".concat(t,"/online"))}function l(t,e){return e?Object(a["c"])().put("/api/pvxbody/".concat(t,"/manager/offline")):Object(a["c"])().put("/api/pvxbody/".concat(t,"/offline"))}function u(t){var e=t.postType,n=t.PostId,i=t.priceType,o=t.priceCount,s=t.payUserId,r=t.accessUserId;return Object(a["e"])({mute:!0}).post("/api/buy-licence/article/".concat(e,"/").concat(n,"/pay/").concat(i,"/").concat(o,"/from/").concat(s,"/to/").concat(r))}function d(t){return Object(a["e"])().get("/api/buy-licence/result/".concat(t))}function p(t,e){return Object(a["c"])().get("/api/charge_attachment/pvxbody/".concat(t),{params:e})}function f(t,e){return Object(a["c"])().get("/api/charge_attachment/download/pvxbody/".concat(t,"/").concat(e))}function m(t){return Object(a["c"])().get("/api/pvxbody/random-one/with-many-face",{params:t})}function v(t){return Object(a["c"])().get("/api/pvxbody/random",{params:t})}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3?arguments[3]:void 0,o={client:e,type:t,source_type:"body"};return n&&(o.per=n),i&&(o.source_ids=i),Object(a["a"])({mute:!0}).get("/api/cms/news/v2",{params:o})}},"6d90":function(t,e,n){"use strict";n("ba8b")},"6f53":function(t,e,n){"use strict";var a=n("83ab"),i=n("d039"),o=n("e330"),s=n("e163"),r=n("df75"),c=n("fc6a"),l=n("d1e7").f,u=o(l),d=o([].push),p=a&&i((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),f=function(t){return function(e){var n,i=c(e),o=r(i),l=p&&null===s(i),f=o.length,m=0,v=[];while(f>m)n=o[m++],a&&!(l?n in i:u(i,n))||d(v,t?[n,i[n]]:i[n]);return v}};t.exports={entries:f(!0),values:f(!1)}},"702d":function(t,e,n){(function(t){"undefined"===typeof DO_NOT_EXPORT_CRC?t(e):t({})})((function(t){function e(){for(var t=0,e=new Array(256),n=0;256!=n;++n)t=n,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,e[n]=t;return"undefined"!==typeof Int32Array?new Int32Array(e):e}t.version="1.2.2";var n=e();function a(t){var e=0,n=0,a=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(a=0;256!=a;++a)i[a]=t[a];for(a=0;256!=a;++a)for(n=t[a],e=256+a;e<4096;e+=256)n=i[e]=n>>>8^t[255&n];var o=[];for(a=1;16!=a;++a)o[a-1]="undefined"!==typeof Int32Array?i.subarray(256*a,256*a+256):i.slice(256*a,256*a+256);return o}var i=a(n),o=i[0],s=i[1],r=i[2],c=i[3],l=i[4],u=i[5],d=i[6],p=i[7],f=i[8],m=i[9],v=i[10],b=i[11],h=i[12],y=i[13],_=i[14];function g(t,e){for(var a=-1^e,i=0,o=t.length;i<o;)a=a>>>8^n[255&(a^t.charCodeAt(i++))];return~a}function w(t,e){for(var a=-1^e,i=t.length-15,g=0;g<i;)a=_[t[g++]^255&a]^y[t[g++]^a>>8&255]^h[t[g++]^a>>16&255]^b[t[g++]^a>>>24]^v[t[g++]]^m[t[g++]]^f[t[g++]]^p[t[g++]]^d[t[g++]]^u[t[g++]]^l[t[g++]]^c[t[g++]]^r[t[g++]]^s[t[g++]]^o[t[g++]]^n[t[g++]];i+=15;while(g<i)a=a>>>8^n[255&(a^t[g++])];return~a}function k(t,e){for(var a=-1^e,i=0,o=t.length,s=0,r=0;i<o;)s=t.charCodeAt(i++),s<128?a=a>>>8^n[255&(a^s)]:s<2048?(a=a>>>8^n[255&(a^(192|s>>6&31))],a=a>>>8^n[255&(a^(128|63&s))]):s>=55296&&s<57344?(s=64+(1023&s),r=1023&t.charCodeAt(i++),a=a>>>8^n[255&(a^(240|s>>8&7))],a=a>>>8^n[255&(a^(128|s>>2&63))],a=a>>>8^n[255&(a^(128|r>>6&15|(3&s)<<4))],a=a>>>8^n[255&(a^(128|63&r))]):(a=a>>>8^n[255&(a^(224|s>>12&15))],a=a>>>8^n[255&(a^(128|s>>6&63))],a=a>>>8^n[255&(a^(128|63&s))]);return~a}t.table=n,t.bstr=g,t.buf=w,t.str=k}))},8172:function(t,e,n){"use strict";var a=n("e065"),i=n("57b9");a("toPrimitive"),i()},"84c2":function(t){t.exports=JSON.parse('{"a":{"1":"成男","2":"成女","5":"正太","6":"萝莉"}}')},"8cbe":function(t,e,n){},9929:function(t,e,n){"use strict";n("ea82")},a0b6:function(t,e,n){t.exports=n.p+"img/box.44b43359.svg"},a15b:function(t,e,n){"use strict";var a=n("23e7"),i=n("e330"),o=n("44ad"),s=n("fc6a"),r=n("a640"),c=i([].join),l=o!==Object,u=l||!r("join",",");a({target:"Array",proto:!0,forced:u},{join:function(t){return c(s(this),void 0===t?",":t)}})},ade3:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("53ca");n("8172"),n("efec"),n("a4d3"),n("e01a"),n("d3b7"),n("d9e2"),n("a9e3");function i(t,e){if("object"!==Object(a["a"])(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Object(a["a"])(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=i(t,"string");return"symbol"===Object(a["a"])(e)?e:String(e)}function s(t,e,n){return e=o(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},aec7:function(t){t.exports=JSON.parse('{"1":{"value":"whole","label":"整体"},"2":{"value":"neck","label":"头颈"},"3":{"value":"body","label":"躯干"},"4":{"value":"arm","label":"上肢"},"5":{"value":"leg","label":"下肢"}}')},afe2:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"p-face-single"},[e("div",{staticClass:"m-navigation"},[e("el-button",{staticClass:"u-goback",attrs:{size:"medium",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),e("div",{staticClass:"u-right-btn"},[t.isSinglePage&&t.isEditor?e("div",{staticClass:"u-op m-face-btn-box"},[e("div",{staticClass:"m-face-btn-box"},[e("el-button",{staticClass:"u-btn",class:t.isStar?"off":"on",attrs:{type:"danger",icon:t.isStar?"el-icon-star-on":"el-icon-star-off",size:"medium"},on:{click:t.starSet}},[t._v(" "+t._s(t.starText)+" ")]),e("el-button",{staticClass:"u-btn",class:1!==t.status?"top":"bottom",attrs:{type:"danger",icon:1!==t.status?"el-icon-top":"el-icon-bottom",size:"medium"},on:{click:t.statusSet}},[t._v(" "+t._s(t.statusText)+" ")])],1)]):t._e(),e("a",{staticClass:"m-face-btn-box",attrs:{href:t.publish_link}},[e("el-button",{staticClass:"u-publish u-btn",attrs:{type:"primary",size:"medium",icon:"el-icon-edit"}},[t._v(" 发布 ")])],1)])],1),e("div",{staticClass:"m-header"},[e("div",{staticClass:"m-avatar"},[t.post.original?e("Avatar",{staticClass:"u-avatar",attrs:{uid:t.post.user_id,url:t.post.user_avatar,frame:t.post.user_avatar_frame}}):t._e()],1),e("div",{staticClass:"m-header-info"},[e("h2",[t._v(t._s(t.post.title||"无标题"))]),e("div",{staticClass:"u-author"},[t._v(" By "),t.post.original?e("a",{staticClass:"u-name",attrs:{href:t.authorLink(t.post.user_id),target:"_blank"}},[t._v(t._s(t.post.display_name))]):t.post.author_link?e("a",{staticClass:"u-name",attrs:{href:t.post.author_link,target:"_blank"}},[t._v(t._s(t.post.author_name))]):e("span",{staticClass:"u-name"},[t._v(t._s(t.post.author_name))]),e("time",{staticClass:"u-time"},[t._v(t._s(t.post.updated_at))]),t.canEdit?e("a",{attrs:{href:t.editLink("face",t.post.id),target:"_blank"}},[e("i",{staticClass:"el-icon-edit-outline u-edit-icon"}),t._v(" 编辑 ")]):t._e()]),e("div",{staticClass:"u-meta"},[t.post.star?e("i",{staticClass:"u-mark"},[t._v("★ 编辑推荐")]):t._e(),t.post.is_fr?e("i",{staticClass:"u-fr"},[t._v("首发")]):t._e(),t.post.original?e("i",{staticClass:"u-original"},[t._v("原创")]):t._e(),e("i",{staticClass:"u-client",class:t.post.client||"std"},[t._v(t._s(t.showClientLabel(t.post.client)))]),t.post.body_type?e("i",{staticClass:"u-bodytype",class:"u-bodytype-"+t.post.body_type},[t._v(t._s(t.showBodyTypeLabel(t.post.body_type)))]):t._e()])]),t.topicText?e("div",{staticClass:"m-topic"},[t._v(t._s(t.topicText))]):t._e()]),e("div",{staticClass:"m-face-content"},[t.previewSrcList&&t.previewSrcList.length>0?e("div",{staticClass:"m-single-pics m-single-content-box"},[e("div",{staticClass:"u-bg"},[e("img",{attrs:{src:t.showPic(t.activePic)}}),e("div",{staticClass:"u-mask"})]),e("el-carousel",{staticClass:"m-carousel",attrs:{interval:4e3,type:"card",arrow:"always"},on:{change:t.carouselChange}},t._l(t.previewSrcList,(function(n,a){return e("el-carousel-item",{key:a},[e("div",{staticClass:"m-face-pic"},[e("el-image",{ref:"previewImage",refInFor:!0,staticClass:"u-pic",attrs:{fit:"contain",src:t.showPic(n),"preview-src-list":t.resolveImageArr(t.previewSrcList)},on:{"!click":function(e){return t.handlePreviewImage(a)}}})],1)])})),1)],1):t._e(),t.post.price_type&&0!=t.post.price_type&&!t.has_buy?e("div",{staticClass:"m-face-pay"},[e("div",{staticClass:"m-face-pay-info"},[e("span",{staticClass:"u-text"},[t._v("该体型数据售价：")]),e("el-tag",{attrs:{effect:"dark",color:"#ffad31",round:""}},[1==t.post.price_type?e("span",[t._v(t._s(t.post.price_count)+" 盒币")]):t._e(),2==t.post.price_type?e("span",[t._v(t._s(t.post.price_count)+" 金箔")]):t._e()]),e("el-button",{staticClass:"u-btn",attrs:{type:"primary",size:"small",icon:"el-icon-shopping-cart-2",loading:t.payBtnLoading},on:{click:t.facePay}},[t._v(" 购买 ")])],1),e("img",{staticClass:"u-box-img",attrs:{src:n("a0b6")}})]):t._e()]),t.post.remark?e("div",{staticClass:"m-desc"},[e("el-divider",{attrs:{"content-position":"left"}},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 说明")]),t.post.remark?e("div",{staticClass:"u-desc"},[t._v(t._s(t.post.remark))]):t._e()],1):t._e(),t.has_buy&&t.bodydata?e("div",{staticClass:"m-single-data m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("独家数据分析")]),t.bodydata?e("bodydata",{attrs:{data:t.bodydata}}):t._e()],1):t._e(),t.has_buy&&t.downFileList&&t.downFileList.length>0?e("div",{staticClass:"m-face-files m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("原始文件列表")]),e("ul",{staticClass:"m-face-files-list"},t._l(t.downFileList,(function(n){return e("li",{key:n.id},[e("div",[e("span",{staticClass:"u-label"},[t._v("名称: "),e("em",[t._v(t._s(n.name))])]),e("span",{staticClass:"u-label"},[t._v("版本 : "),e("em",[t._v(t._s(n.created_at))])]),n.describe?e("span",{staticClass:"u-label"},[t._v("备注 ： "),e("em",[t._v(t._s(n.describe))])]):t._e()]),e("el-button",{staticClass:"u-action",attrs:{icon:"el-icon-download",size:"mini",type:"primary",round:""},on:{click:function(e){return t.getDownUrl(n.uuid)}}},[t._v("下载")])],1)})),0)],1):t._e(),e("div",{staticClass:"m-author m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("上传作者")]),e("div",{staticClass:"u-author-info"},[e("Avatar",{staticClass:"u-avatar",attrs:{uid:t.post.user_id,url:t.post.user_avatar,frame:t.post.user_avatar_frame}}),e("a",{attrs:{href:t.authorLink(t.post.user_id),target:"_blank"}},[e("div",{staticClass:"u-name"},[t._v(t._s(t.post.display_name))])])],1)],1),e("div",{staticClass:"m-random-list m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("作者其他作品")]),e("div",{staticClass:"u-list"},t._l(t.randomList,(function(t){return e("bodyItem",{key:t.id,attrs:{noName:!0,item:t}})})),1)],1),t.faceList.length?e("div",{staticClass:"m-random-list m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("体型搭配 & 其他脸型数据")]),e("div",{staticClass:"u-list"},[e("bodyItem",{attrs:{onlyPic:!0,item:t.body}}),t._l(t.faceList,(function(t){return e("faceItem",{key:t.id,attrs:{item:t,onlyPic:!0}})}))],2)],1):t._e(),e("Thx",{staticClass:"m-thx m-single-content-box",attrs:{postId:t.id,postType:"body",postTitle:t.post.title||"无标题",userId:t.post.user_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,client:t.post.client}}),e("div",{staticClass:"m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("讨论")]),e("Comment",{attrs:{id:t.id,category:"body"}})],1)],1)},i=[],o=n("5530"),s=(n("caad"),n("14d9"),n("ac1f"),n("841c"),n("d3b7"),n("4e82"),n("d81d"),n("67be")),r=n("85e4"),c=n("9616"),l=n("23d8"),u=n("c9d2"),d=n("84c2"),p=n("65c2"),f=n("5a0c"),m=n.n(f),v=(n("07ac"),function(){var t=this,e=t._self._c;return t.ready?e("div",{staticClass:"c-facedat"},[e("el-tabs",{staticClass:"c-facedat-preivew",attrs:{type:t.tab_type},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(Object.values(t.group_tabs),(function(n){return e("el-tab-pane",{key:n.value,attrs:{label:n.label,name:n.value}},[e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-list"},t._l(t.currentGroup,(function(n,a){return e("li",{key:a},[e("label",[t._v(t._s(n.name))]),e("span",[t._v(t._s(n.value))]),e("el-slider",{staticClass:"u-range",attrs:{min:n.min,max:n.max,disabled:t.lock},model:{value:t.body_data.tBody[n.key],callback:function(e){t.$set(t.body_data.tBody,n.key,e)},expression:"body_data.tBody[item.key]"}})],1)})),0)])])})),1),e("div",{staticClass:"c-facedat-btns"},[e("el-button",{staticClass:"u-btn",attrs:{type:"primary",disabled:!t.body_data,icon:"el-icon-receiving"},on:{click:t.buildData}},[t._v("导出正式服")])],1)],1):t._e()}),b=[],h=(n("4de4"),n("b64b"),n("25f0"),n("2ef0")),y=n.n(h),_=n("162f"),g=n("21a6"),w=n("aec7"),k=n("0295"),C=n("fb5f"),L=n("bb9e"),x={name:"Bodydat",props:["data","lock","tab_type"],data:function(){return{active:"whole",body_data:"",body_type:"",group_tabs:w,group_fields:k,field_range:L,types:C.bodyMap}},computed:{ready:function(){return!!this.body_data},currentFieldRanges:function(){return L[this.types[this.body_type].value]},currentGroupFields:function(){return this.group_fields[this.active]},currentGroup:function(){var t=this;return Object.keys(this.group_fields[this.active]).filter((function(e){return t.currentFieldRanges[e].use_for_body_type})).map((function(e){return Object(o["a"])(Object(o["a"])(Object(o["a"])({key:e},t.currentGroupFields[e]),t.currentFieldRanges[e]),{},{value:t.body_data.tBody[e]})}))}},watch:{data:{immediate:!0,deep:!0,handler:function(){this.render()}}},methods:{render:function(){if(!this.data)return this.body_data="",void(this.body_type="");try{var t=JSON.parse(this.data);this.body_type=t.nRoleType.toString(),this.body_data=t}catch(e){this.body_data="",this.body_type="",this.$notify.error({title:"错误",message:"体型数据无法解析"})}},buildData:function(){if(this.body_data){var t=Object(_["dump"])(y.a.cloneDeep(this.body_data)),e=new Blob([t],{type:"application/dat;charset=utf-8"});Object(g["saveAs"])(e,Date.now()+".dat")}}},mounted:function(){}},j=x,O=(n("4508"),n("2877")),S=Object(O["a"])(j,v,b,!1,null,null,null),T=S.exports,B=n("0cfc"),A=n("cb31"),I=["single"],P={name:"single",components:{Comment:l["a"],faceItem:A["a"],bodydata:T,bodyItem:B["a"]},data:function(){return{loading:!1,search:"",post:{},stat:{},has_buy:!1,client_map:p["__clients"],downFileList:[],downloadParams:{pageIndex:1,pageSize:10,total:0},payBtnLoading:!1,randomList:[],carouselActive:0,isEditor:u["a"].isEditor(),topic_info:null,body:{},faceList:[]}},computed:{publish_link:function(){return Object(r["publishLink"])("body")},id:function(){return~~this.$route.params.id},isAuthor:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.user_id)==u["a"].getInfo().uid||!1},bodydata:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.data)||""},previewSrcList:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.images)||[]},canEdit:function(){var t;return u["a"].isEditor()||(null===(t=this.post)||void 0===t?void 0:t.user_id)==u["a"].getInfo().uid},activePic:function(){return this.previewSrcList[this.carouselActive]},isSinglePage:function(){return I.includes(this.$route.name)},status:function(){var t;return(null===(t=this.$store.state.faceSingle)||void 0===t?void 0:t.status)||1},statusText:function(){return 1!==this.status?"上架":"下架"},isStar:function(){var t;return(null===(t=this.$store.state.faceSingle)||void 0===t?void 0:t.star)||0},starText:function(){return this.isStar?"取消精选":"精选"},topicText:function(){return this.topic_info?"".concat(m()(this.topic_info.created_at).format("YYYY年MM月DD日"),"荣登头条榜"):""}},created:function(){this.getData()},methods:{showAvatar:function(t){return Object(r["showAvatar"])(t,"l")},showThumbnail:function(t){return Object(r["resolveImagePath"])(t)},authorLink:r["authorLink"],editLink:r["editLink"],getFaceList:function(){this.$router.push({name:"list",query:{title:this.search}})},goBack:function(){document.title="体型分享 - JX3BOX",this.$router.push({name:"list"})},showClientLabel:function(t){return this.client_map[t]},showBodyTypeLabel:function(t){return d["a"][t]},carouselChange:function(t){this.carouselActive=t},handlePreviewImage:function(t){var e=this;setTimeout((function(){var n=e.$refs.previewImage[t].$children[0];n&&n.reset(),n&&(n.index=t)}),0)},getData:function(){var t=this;this.id&&(this.loading=!0,Object(s["e"])(this.id).then((function(e){t.post=t.$store.state.faceSingle=e.data.data,document.title=t.post.title,t.getAccessoryList(),t.getRandomFaceList(),t.getRandomList(),t.getSliders()})).catch((function(e){t.loading=!1})),Object(c["a"])("body",this.id).then((function(e){t.stat=e.data})),Object(c["b"])("body",this.id))},downloadPageQuery:function(t){this.downloadParams.pageIndex=t,this.getAccessoryList()},getAccessoryList:function(){var t=this;Object(s["b"])(this.id,this.downloadParams).then((function(e){var n=e.data.data;t.has_buy=n.has_buy,n.has_buy&&(t.downFileList=n.list,t.downloadParams.total=n.page.total)})).finally((function(){t.loading=!1}))},getDownUrl:function(t){Object(s["d"])(this.id,t).then((function(t){var e;window.location.href=Object(r["resolveImagePath"])(null===(e=t.data.data)||void 0===e?void 0:e.url)}))},facePay:function(){var t=this;u["a"].isLogin()?this.$confirm("确认购买此体型？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.post,n={postType:"pvxbody",PostId:e.id,priceType:e.price_type,priceCount:e.price_count,accessUserId:e.user_id,payUserId:u["a"].getInfo().uid};t.payBtnLoading=!0,Object(s["l"])(n).then((function(e){var n=e.data.data.id,a=setInterval(Object(s["i"])(n).then((function(e){t.getPayFaceStatus(e.data.data.pay_status,a)}),1e3))})).catch((function(e){var n,a;40019==(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.code)&&t.$confirm("余额不足，是否前往充值？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.open("/vip/cny","_blank")})).catch((function(){}))})).finally((function(){t.payBtnLoading=!1}))})).catch((function(){})):u["a"].toLogin()},getPayFaceStatus:function(t,e){1==t?(this.payBtnLoading=!1,clearInterval(e),this.getData(),this.$notify.success({title:"成功",message:"购买成功"})):2==t&&(this.payBtnLoading=!1,clearInterval(e),this.$notify.error({title:"失败",message:"支付失败"}))},getRandomFaceList:function(){var t=this,e=this.post.user_id;Object(s["f"])({user_id:e,limit:8}).then((function(e){e.data.data.list&&e.data.data.list.length>0&&(t.randomList=e.data.data.list)}))},getRandomList:function(){var t=this,e=this.post,n=e.body_type,a=e.client,i=e.display_name;Object(s["g"])({body_type:n,client:a,limit:8}).then((function(e){var n=e.data.data,a=n.pvxbody,s=n.faceList;t.body=Object(o["a"])(Object(o["a"])({},a),{},{author_name:i}),t.faceList=s||[]}))},showPic:function(t){return Object(r["resolveImagePath"])(t)},starSet:function(){var t=this;this.$confirm("确认"+(this.isStar?"取消精选":"精选")+"该捏脸？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(e,n,a){"confirm"===e?(n.confirmButtonLoading=!0,t.isStar?Object(s["a"])(t.id).then((function(){t.$store.state.faceSingle.star=0,a(),t.$notify({title:"成功",message:"取消精选成功",type:"success"})})).finally((function(){n.confirmButtonLoading=!1})):Object(s["m"])(t.id).then((function(){t.$store.state.faceSingle.star=1,a(),t.$notify({title:"成功",message:"精选成功",type:"success"})})).finally((function(){n.confirmButtonLoading=!1}))):(n.confirmButtonLoading=!1,a())}})},statusSet:function(){var t=this;this.$confirm("确认"+(1==this.status?"下架":"上架")+"该捏脸？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(e,n,a){"confirm"===e?(n.confirmButtonLoading=!0,1==t.status?Object(s["j"])(t.id,t.isEditor).then((function(){t.$store.state.faceSingle.status=2,a(),t.$notify({title:"成功",message:"下架成功",type:"success"})})).finally((function(){n.confirmButtonLoading=!1})):Object(s["k"])(t.id,t.isEditor).then((function(){t.$store.state.faceSingle.status=1,a(),t.$notify({title:"成功",message:"上架成功",type:"success"})})).finally((function(){n.confirmButtonLoading=!1}))):(n.confirmButtonLoading=!1,a())}})},getSliders:function(){var t=this;Object(s["h"])("slider",this.post.client,10,this.post.id).then((function(e){var n;if(null!==(n=e.data.data)&&void 0!==n&&n.list){var a=e.data.data.list.sort((function(t,e){return m()(e.created_at).isAfter(m()(t.created_at))?1:-1}));t.topic_info=a[0]}}))},resolveImageArr:function(t){return t.map((function(t){return Object(r["resolveImagePath"])(t)}))}}},E=P,$=(n("6d90"),Object(O["a"])(E,a,i,!1,null,null,null));e["default"]=$.exports},b43d:function(t,e,n){t.exports=n.p+"img/body_null.bb04768a.png"},ba8b:function(t,e,n){},cb31:function(t,e,n){"use strict";var a=n("5530"),i=function(){var t=this,e=t._self._c;return e("router-link",{directives:[{name:"reporter",rawName:"v-reporter",value:{data:Object(a["a"])({href:"/face/"+t.item.id},t.reporter),caller:"face_index"},expression:"{ data: { href: '/face/' + item.id, ...reporter }, caller: 'face_index' }"}],class:["m-face-item",{noName:t.noName}],attrs:{to:"/".concat(t.item.id),target:"_blank"}},[e("div",{staticClass:"m-img"},[e("img",{staticClass:"u-pic",attrs:{src:t.showThumb(t.imgLink),loading:"lazy"}}),t.item.star?e("i",{staticClass:"u-mark u-mark--star"},[t._v("编辑推荐")]):t._e(),~~t.item.price_type&&t.item.price_count?e("i",{staticClass:"u-mark u-mark--pay"},[t._v("付费")]):t._e()]),e("div",{staticClass:"m-op"},[e("div",{staticClass:"u-title"},[t._v(t._s(t.item.title))]),e("a",{staticClass:"u-author",attrs:{href:t.authorLink(t.item.user_id)},on:{click:function(e){return e.stopPropagation(),t.onAuthorClick.apply(null,arguments)}}},[t._v(" 作者："+t._s(t.item.original?t.author:t.item.author_name||"匿名")+" ")])])])},o=[],s=n("65c2"),r=n("85e4"),c={name:"faceItem",props:["item","reporter","noName"],data:function(){return{markmap:{newbie:"热门",advanced:"推荐",recommended:"精选"}}},computed:{author:function(){return this.item.display_name||"匿名"},imgLink:function(){var t;return(null===(t=this.item.images)||void 0===t?void 0:t[0])||s["__imgPath"]+"image/face/null2.png"}},methods:{showThumb:function(t){return Object(r["getThumbnail"])(t,360)},authorLink:r["authorLink"],onAuthorClick:function(){this.item.original||window.open(this.item.author_link,"_blank")}}},l=c,u=(n("9929"),n("2877")),d=Object(u["a"])(l,i,o,!1,null,null,null);e["a"]=d.exports},ea82:function(t,e,n){},efec:function(t,e,n){"use strict";var a=n("1a2d"),i=n("cb2d"),o=n("51eb"),s=n("b622"),r=s("toPrimitive"),c=Date.prototype;a(c,r)||i(c,r,o)}}]);
//# sourceMappingURL=chunk-4e0ee261.1aa70211.js.map