(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87f6392a"],{"13dd":function(t,e,a){"use strict";a("959e")},"15ea":function(t,e,a){"use strict";a("8820")},"28cc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-homeland-furniture"},[a("div",{staticClass:"m-navigation"},[a("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("è¿”å›žåˆ—è¡¨")]),a("div",{staticClass:"u-links"},[t.other_id?a("a",{staticClass:"u-link u-item",attrs:{href:t.getLink("item",t.item_id),target:"_blank"}},[a("i",{staticClass:"el-icon-collection-tag"}),t._v("ç‰©å“ä¿¡æ¯")]):t._e(),t.achieve_id?a("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achieve_id),target:"_blank"}},[a("i",{staticClass:"el-icon-trophy"}),t._v(" æˆå°±ä¿¡æ¯ ")]):t._e()])],1),a("div",{staticClass:"m-info-box"},[a("div",{staticClass:"u-img"},[a("img",{attrs:{src:t.formatImg(t.data.Path),alt:t.data.szName}})]),a("div",{staticClass:"u-info"},[a("div",{staticClass:"u-info-title",class:"quality_"+t.data.Quality},[t._v(" "+t._s(t.data.szName)+" "),t.data.bInteract?a("i",{staticClass:"u-interact"}):t._e()]),a("div",{staticClass:"u-attrs"},[t.data.Attribute1?a("span",{staticClass:"u-attr"},[a("span",{staticClass:"u-label blue"},[t._v("è§‚èµ")]),t._v(t._s(t.data.Attribute1))]):t._e(),t.data.Attribute2?a("span",{staticClass:"u-attr"},[a("span",{staticClass:"u-label pink"},[t._v("å®žç”¨")]),t._v(t._s(t.data.Attribute2))]):t._e(),t.data.Attribute3?a("span",{staticClass:"u-attr"},[a("span",{staticClass:"u-label yellow"},[t._v("åšå›º")]),t._v(t._s(t.data.Attribute3))]):t._e(),t.data.Attribute4?a("span",{staticClass:"u-attr"},[a("span",{staticClass:"u-label green"},[t._v("é£Žæ°´")]),t._v(t._s(t.data.Attribute4))]):t._e(),t.data.Attribute5?a("span",{staticClass:"u-attr"},[a("span",{staticClass:"u-label purple"},[t._v("è¶£å‘³")]),t._v(t._s(t.data.Attribute5))]):t._e()]),a("div",{staticClass:"u-metas"},[a("span",{staticClass:"u-meta"},[a("span",{staticClass:"u-label"},[t._v("æ¥æºé€”å¾„ï¼š")]),t._v(t._s(t.data.szSource))]),a("span",{staticClass:"u-meta"},[a("span",{staticClass:"u-label"},[t._v("å›­å®…ç­‰çº§ï¼š")]),t._v(t._s(t.data.LevelLimit)+"çº§")]),a("span",{staticClass:"u-meta"},[a("span",{staticClass:"u-label"},[t._v("æ‘†æ”¾ä¸Šé™ï¼š")]),t._v(t._s(t.data.MaxAmountPerLand))]),t.data.szScaleRange?a("span",{staticClass:"u-meta u-meta-scale"},[a("span",{staticClass:"u-label"},[t._v("ç¼©æ”¾å¤§å°ï¼š")]),a("span",{staticClass:"u-value"},t._l(t.scaleRange(t.data.szScaleRange),(function(e){return a("b",{key:e},[t._v(t._s(e))])})),0)]):t._e(),t.color_list.length?a("span",{staticClass:"u-meta u-meta-dyes"},[a("span",{staticClass:"u-label"},[t._v("æŸ“è‰²é€‰é¡¹ï¼š")]),t._v(" "),a("span",{staticClass:"u-value"},t._l(t.color_list,(function(t){return a("i",{key:t,staticClass:"u-dye",style:{backgroundColor:"rgb("+t+")"}})})),0)]):t._e()]),a("div",{staticClass:"m-buttons"},[a("Fav",{staticClass:"u-collect",attrs:{"post-type":"furniture","post-id":t.id}})],1)])]),t.has_extend?a("div",{staticClass:"m-extend"},[a("div",{staticClass:"m-extend-header"},[a("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),a("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),a("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),t._v(" "),a("span",{staticClass:"u-txt"},[t._v("å®¶å…·ä¿¡æ¯")])]),t.data.szTip?a("div",{staticClass:"m-extend-content m-extend-desc"},[t._m(0),a("div",{staticClass:"u-txt",domProps:{innerHTML:t._s(t.description_filter(t.data.szTip))}})]):t._e(),t.setData?a("div",{staticClass:"m-extend-content m-extend-relation"},[a("div",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-star-on"}),t._v(t._s(t.setData.szName)),a("el-rate",{staticClass:"u-star",attrs:{disabled:""},model:{value:t.setData.nStars,callback:function(e){t.$set(t.setData,"nStars",e)},expression:"setData.nStars"}})],1),a("furnitureSet",{attrs:{data:t.setData}})],1):t._e(),"ç”Ÿæ´»æŠ€èƒ½"==t.data.szSource&&t.data.__manufactureID?a("div",{staticClass:"m-extend-content m-extend-materials"},[t._m(1),a("furnitureMaterials",{attrs:{id:t.other_id}})],1):t._e()]):t._e(),t.other_id?a("div",{staticClass:"m-furniture-wiki"},[a("Wiki",{attrs:{source_type:"item",source_id:t.item_id,type:t.type,id:t.id,title:"å®¶å…·æ”»ç•¥"}})],1):t._e(),a("div",{staticClass:"m-furniture-comment"},[a("Comment",{attrs:{id:t.id,category:t.type,order:"desc"}})],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-star-on"}),t._v("å®¶å…·ä»‹ç»")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-star-on"}),t._v("åˆæˆææ–™")])}],n=(a("2ca0"),a("ac1f"),a("5319"),a("d3b7"),a("498a"),a("466d"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-furniture-set"},t._l(t.furnitures,(function(e,i){return a("router-link",{key:i,staticClass:"u-item",class:t.quality(e.Quality),attrs:{slot:"reference",to:"/"+e.dwID},slot:"reference"},[a("img",{staticClass:"u-pic",attrs:{src:t.formatImg(e.Path)}}),a("span",{staticClass:"u-name"},[t._v(t._s(e.szName))])])})),1)}),r=[],o={name:"Set",props:["data"],inject:["__imgRoot"],data:function(){return{}},computed:{furnitures:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.furnitures)||[]},client:function(){return this.$store.state.client}},methods:{quality:function(t){return t?"quality_"+t:""},formatImg:function(t){if(t){var e=t.toLowerCase().match(/.*[\/,\\]homeland(.*?).tga/),a=e[1].replace(/\\/g,"/");return"default"==e[1]?this.__imgRoot+"homeland/".concat(this.client)+"/default/default.png":this.__imgRoot+"homeland/".concat(this.client)+a+".png"}}},created:function(){}},c=o,l=(a("15ea"),a("2877")),u=Object(l["a"])(c,n,r,!1,null,"61a2890a",null),d=u.exports,p=a("bd8e"),f=a("23d8"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-furniture-materials"},t._l(t.list,(function(e,i){return a("a",{key:i,staticClass:"u-material",attrs:{target:"_blank",href:t.itemLink(e.ID)}},[a("img",{staticClass:"u-material-img",attrs:{src:t.iconLink(e.IconID)}}),a("span",{staticClass:"u-material-name"},[t._v(t._s(e.Name))]),a("span",{staticClass:"u-material-count"},[t._v(t._s(e._count))])])})),0)},_=[],m=a("5530"),h=(a("a15b"),a("d81d"),a("662b")),b=a("85e4"),g={name:"furnitureMaterials",props:["id"],components:{},data:function(){return{list:[],loading:!1}},computed:{client:function(){return this.$store.state.client}},watch:{id:{immediate:!0,handler:function(t){t&&this.loadData()}}},methods:{loadData:function(){var t=this;this.loading=!0,Object(h["d"])(this.id).then((function(e){(null===e||void 0===e?void 0:e.data)&&t.getDetail(e.data)})).finally((function(){t.loading=!1}))},getDetail:function(t){var e=this,a=[],i=[];for(var s in t)s.startsWith("RequireItemCount")&&t[s]&&a.push(t[s]),s.startsWith("RequireItemIndex")&&t[s]&&i.push(t[s]);var n={ids:i.join(","),per:10,client:this.client};Object(h["e"])(n).then((function(t){var i,s;e.list=null===t||void 0===t||null===(i=t.data)||void 0===i||null===(s=i.list)||void 0===s?void 0:s.map((function(t,e){return Object(m["a"])(Object(m["a"])(Object(m["a"])({},t),t.item_info[0]),{},{_count:a[e]})}))}))},iconLink:b["iconLink"],itemLink:function(t){return Object(b["getLink"])("item","5_"+t)}},created:function(){}},C=g,k=(a("13dd"),Object(l["a"])(C,v,_,!1,null,"774c225c",null)),w=k.exports,y=a("9616"),O={name:"FurnitureSingle",props:[],inject:["__imgRoot"],components:{Wiki:p["a"],Comment:f["a"],furnitureSet:d,furnitureMaterials:w},data:function(){return{type:"furniture",loading:!1,data:"",setData:"",colorData:""}},computed:{id:function(){return this.$route.params.id},other_id:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.__manufactureID},item_id:function(){var t;return"10_"+(null===(t=this.data)||void 0===t?void 0:t.__manufactureID)},achieve_id:function(){var t;return null===(t=this.setData)||void 0===t?void 0:t.dwAchievementID},represent_id:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.nRepresentID},set_id:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.SetID},has_extend:function(){return this.data.szTip||this.setData||"ç”Ÿæ´»æŠ€èƒ½"==this.data.szSource&&this.data.__manufactureID},color_list:function(){var t=[];for(var e in this.colorData)e.startsWith("szDetailIndex")&&this.colorData[e]&&t.push(this.colorData[e].replace(/;/g,","));return t}},watch:{id:function(){this.getData()}},methods:{getData:function(){var t=this;this.loading=!0,Object(h["c"])(this.id).then((function(e){t.data=e.data,Object(y["b"])(t.type,t.id)})).then((function(){t.represent_id&&t.getColorData(),t.set_id&&t.getSetData()})).finally((function(){t.loading=!1}))},getColorData:function(){var t=this;Object(h["b"])(this.represent_id).then((function(e){t.colorData=e.data}))},getSetData:function(){var t=this;Object(h["f"])(this.set_id).then((function(e){t.setData=e.data}))},getLink:b["getLink"],description_filter:function(t){var e=/text="(.*?)(\\\\\\n)?"/.exec(t);return e&&e.length>1&&(t=e[1].trim()),t&&(t=t.replace(/\\n/g,"<br>")),t},formatImg:function(t){if(t){var e=t.toLowerCase().match(/.*[\/,\\]homeland(.*?).tga/),a=e[1].replace(/\\/g,"/");return"default"==e[1]?this.__imgRoot+"homeland/std/default/default.png":this.__imgRoot+"homeland/std"+a+".png"}},scaleRange:function(t){return null===t||void 0===t?void 0:t.split(";")},goBack:function(){this.$router.push({name:"list"})}},created:function(){this.getData()}},j=O,x=(a("3fa1"),Object(l["a"])(j,i,s,!1,null,null,null));e["default"]=x.exports},"2ba9":function(t,e,a){},"3fa1":function(t,e,a){"use strict";a("ff26")},"466d":function(t,e,a){"use strict";var i=a("c65b"),s=a("d784"),n=a("825a"),r=a("50c4"),o=a("577e"),c=a("1d80"),l=a("dc4a"),u=a("8aa5"),d=a("14c3");s("match",(function(t,e,a){return[function(e){var a=c(this),s=void 0==e?void 0:l(e,t);return s?i(s,e,a):new RegExp(e)[t](o(a))},function(t){var i=n(this),s=o(t),c=a(e,i,s);if(c.done)return c.value;if(!i.global)return d(i,s);var l=i.unicode;i.lastIndex=0;var p,f=[],v=0;while(null!==(p=d(i,s))){var _=o(p[0]);f[v]=_,""===_&&(i.lastIndex=u(s,r(i.lastIndex),l)),v++}return 0===v?null:f}]}))},"498a":function(t,e,a){"use strict";var i=a("23e7"),s=a("58a8").trim,n=a("c8d2");i({target:"String",proto:!0,forced:n("trim")},{trim:function(){return s(this)}})},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5fdf":function(t,e,a){},"662b":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return u}));var i=a("41cb"),s=Object(i["e"])();function n(t){return s.get("/house/furniture",{params:t})}function r(t){return s.get("/house/furniture/".concat(t))}function o(t){return s.get("/house/furniture/set/".concat(t))}function c(t){return s.get("/house/furniture/color/".concat(t))}function l(t){return s.get("/manufacture/furniture",{params:{id:t}})}function u(t){return s.get("/other",{params:t})}},8820:function(t,e,a){},"959e":function(t,e,a){},a15b:function(t,e,a){"use strict";var i=a("23e7"),s=a("e330"),n=a("44ad"),r=a("fc6a"),o=a("a640"),c=s([].join),l=n!=Object,u=o("join",",");i({target:"Array",proto:!0,forced:l||!u},{join:function(t){return c(r(this),void 0===t?",":t)}})},acda:function(t,e,a){"use strict";a("5fdf")},ad91:function(t,e,a){"use strict";a("2ba9")},bd8e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-wiki"},[t.wiki_post&&t.wiki_post.post?a("div",{staticClass:"m-wiki-post-panel"},[a("WikiPanel",{attrs:{"wiki-post":t.wiki_post}},[a("template",{slot:"head-title"},[a("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.531",height:"31.531",viewBox:"0 0 31.531 31.531","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z"}}),a("path",{attrs:{d:"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z"}}),a("path",{attrs:{d:"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z"}})]),a("span",{staticClass:"u-txt"},[t._v(t._s(t.title))])]),a("template",{slot:"head-actions"},[a("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publish_url}},[a("i",{staticClass:"el-icon-edit"}),a("span",[t._v("å®Œå–„"+t._s(t.title))])])]),a("template",{slot:"body"},[t.compatible?a("div",{staticClass:"m-wiki-compatible"},[a("i",{staticClass:"el-icon-warning-outline"}),t._v(" æš‚æ— æ€€æ—§æœæ”»ç•¥ï¼Œä»¥ä¸‹ä¸ºæ­£å¼æœæ”»ç•¥ï¼Œä»…ä½œå‚è€ƒï¼Œ"),a("a",{staticClass:"s-link",attrs:{href:t.publish_url}},[t._v("å‚ä¸Žä¿®è®¢")]),t._v("ã€‚ ")]):t._e(),a("Article",{attrs:{content:t.wiki_post.post.content}}),a("div",{staticClass:"m-wiki-signature"},[a("i",{staticClass:"el-icon-edit"}),t._v(" æœ¬æ¬¡ä¿®è®¢ç”± "),a("b",[t._v(t._s(t.user_name))]),t._v(" æäº¤äºŽ"+t._s(t.updated_at)+" ")]),a("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:t.type,adminBoxcoinEnable:!1,userBoxcoinEnable:!1}})],1)],2),a("WikiRevisions",{attrs:{type:t.source_type,"source-id":t.source_id,isGame:!0}})],1):t._e(),t.is_empty?a("div",{staticClass:"m-wiki-post-empty"},[a("i",{staticClass:"el-icon-s-opportunity"}),a("span",[t._v("æš‚æ— æ”»ç•¥ï¼Œæˆ‘è¦")]),a("a",{staticClass:"s-link",attrs:{href:t.publish_url}},[t._v("å®Œå–„æ”»ç•¥")])]):t._e()])},s=[],n=(a("99af"),a("a974")),r=a("662c"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("WikiPanel",{staticClass:"c-wiki-revisions",attrs:{scene:"detail"}},[a("template",{slot:"head-title"},[a("i",{staticClass:"el-icon-time"}),a("span",[t._v("åŽ†å²ç‰ˆæœ¬")])]),a("template",{slot:"body"},[a("div",{staticClass:"m-revisions-panel"},[t.versions&&t.versions.length?t._e():a("div",{staticClass:"u-empty"},[null===t.versions?a("span",[t._v("ðŸŽ‰ æ•°æ®åŠ è½½ä¸­...")]):t._e(),!1===t.versions?a("span",[t._v("âš ï¸ æ•°æ®åŠ è½½å¼‚å¸¸")]):t._e(),t.versions&&!t.versions.length?a("span",[t._v("ðŸ’§ æš‚æ— æ•°æ®")]):t._e()]),t.versions&&t.versions.length?a("table",{staticClass:"m-histories"},[a("tr",[a("th",[t._v("ç‰ˆæœ¬")]),a("th",[t._v("æ›´æ–°æ—¶é—´")]),a("th",[t._v("è´¡çŒ®è€…")]),a("th",[t._v("ä¿®è®¢è¯´æ˜Ž")])]),t._l(t.versions,(function(e,i){return a("tr",{key:i,staticClass:"history"},[a("td",[a("a",{attrs:{href:t.link(t.type,e.source_id+"/"+e.id)},domProps:{textContent:t._s("v"+(t.versions.length-i))},on:{click:function(a){return t.redirectRevision(e,a)}}})]),a("td",{domProps:{textContent:t._s(t.ts2str(e.updated))}}),a("td",[a("a",{attrs:{href:e.user_id?t.author_url(e.user_id):null},domProps:{textContent:t._s(e.user_nickname)}})]),a("td",{domProps:{textContent:t._s(e.remark)}})])}))],2):t._e()])])],2)},c=[],l=(a("caad"),a("2532"),a("fb6a"),a("ac1f"),a("5319"),a("4328")),u=a.n(l),d=a("41cb");let p={newest(t,e,a=1,i="std"){if(e)return Object(d["b"])()({method:"GET",url:"/api/wiki/post",params:{type:t,source_id:e,supply:a,client:i}})},newests(t){return Object(d["b"])()({method:"GET",url:"/api/wiki/posts/newest",params:{type:t}})},versions(t,e){if(e)return Object(d["b"])()({method:"GET",url:"/api/wiki/post/versions",params:{type:t,source_id:e}})},view(t,e={}){return t?Object(d["b"])()({method:"GET",url:"/api/wiki/post/"+t,params:e}):null},save(t){return Object(d["b"])()({method:"POST",url:"/api/wiki/post",data:u.a.stringify({post:t})})},myList(t){return Object(d["b"])()({method:"GET",url:"/api/my/wiki/posts",params:t})},myRemove(t){return t?Object(d["b"])()({method:"PUT",url:`/api/my/wiki/post/${t}/remove`}):null}};var f=a("85e4"),v=a("65c2"),_={name:"WikiRevisions",props:["type","sourceId","isGame"],data:function(){return{versions:null}},computed:{baseUrl:function(){return location.href.includes("classic")||location.href.includes("origin")?v["__OriginRoot"]:v["__Root"]},prefix:function(){return this.isGame?this.baseUrl.slice(0,-1):""}},methods:{link:function(t,e){return this.prefix+Object(f["getLink"])(t,e)},author_url:function(t){return this.prefix+Object(f["authorLink"])(t)},ts2str:f["ts2str"],redirectRevision:function(t,e){!this.isGame&&this.$router&&(e.preventDefault(),this.$router.replace({path:"/view/".concat(t.source_id,"/").concat(t.id)}))}},components:{WikiPanel:r["a"]},watch:{sourceId:{immediate:!0,handler:function(){var t=this;this.sourceId&&p.versions(this.type,this.sourceId).then((function(e){e=e.data,t.versions=200===e.code&&e.data.versions}),(function(){t.versions=!1}))}}}},m=_,h=(a("ad91"),a("2877")),b=Object(h["a"])(m,o,c,!1,null,null,null),g=b.exports,C={name:"Wiki",components:{WikiPanel:r["a"],WikiRevisions:g,Article:n["a"]},props:["title","source_type","source_id","type","id"],data:function(){return{wiki_post:null,compatible:!1}},computed:{post_content:function(){var t;return null===(t=this.wiki_post)||void 0===t?void 0:t.post},is_empty:function(){var t;return!(null!==(t=this.wiki_post)&&void 0!==t&&t.post)},isRevision:function(){return!!this.$route.params.post_id},client:function(){return this.$store.state.client},params:function(){return{type:this.source_type,source_id:this.id,supply:1,client:this.client}},user_name:function(){var t,e;return null===(t=this.wiki_post)||void 0===t||null===(e=t.post)||void 0===e?void 0:e.user_nickname},updated_at:function(){var t,e;return Object(f["ts2str"])(null===(t=this.wiki_post)||void 0===t||null===(e=t.post)||void 0===e?void 0:e.updated)},publish_url:function(){return Object(f["publishLink"])("".concat(this.source_type,"/").concat(this.source_id))}},methods:{loadData:function(){var t=this;"std"==this.client?p.newest(this.source_type,this.source_id,1,"std").then((function(e){var a;t.wiki_post=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data,console.log("èŽ·å–æ­£å¼æœæ”»ç•¥")})):p.newest(this.source_type,this.source_id,1,"origin").then((function(e){var a;t.wiki_post=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data,console.log("èŽ·å–æ€€æ—§æœæ”»ç•¥")})).then((function(){t.post_content||p.newest(t.source_type,t.source_id,1,"std").then((function(e){var a;t.wiki_post=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data,t.compatible=!0,console.log("å…¼å®¹ï¼šèŽ·å–æ­£å¼æœæ”»ç•¥")}))}))}},watch:{source_id:{immediate:!0,handler:function(t){t&&this.loadData()}}},mounted:function(){}},k=C,w=(a("acda"),Object(h["a"])(k,i,s,!1,null,null,null));e["a"]=w.exports},c8d2:function(t,e,a){var i=a("5e77").PROPER,s=a("d039"),n=a("5899"),r="â€‹Â…á Ž";t.exports=function(t){return s((function(){return!!n[t]()||r[t]()!==r||i&&n[t].name!==t}))}},dbb4:function(t,e,a){var i=a("23e7"),s=a("83ab"),n=a("56ef"),r=a("fc6a"),o=a("06cf"),c=a("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,a,i=r(t),s=o.f,l=n(i),u={},d=0;while(l.length>d)a=s(i,e=l[d++]),void 0!==a&&c(u,e,a);return u}})},e439:function(t,e,a){var i=a("23e7"),s=a("d039"),n=a("fc6a"),r=a("06cf").f,o=a("83ab"),c=s((function(){r(1)})),l=!o||c;i({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(n(t),e)}})},ff26:function(t,e,a){}}]);
//# sourceMappingURL=chunk-87f6392a.6944f071.js.map