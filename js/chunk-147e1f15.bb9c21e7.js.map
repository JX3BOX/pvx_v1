{"version":3,"sources":["webpack:///./src/views/face/single.vue?ec34","webpack:///./src/views/face/single.vue","webpack:///src/views/face/single.vue","webpack:///./src/views/face/single.vue?082d","webpack:///./src/views/face/single.vue?e65c","webpack:///./src/service/face.js"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","attrs","on","goBack","_v","model","searcheTitle","callback","$$v","slot","getFaceList","post","banner","staticStyle","_e","_s","title","author_link","author_name","updated_at","class","client","star","showClientLabel","body_type_info","remark","previewSrcList","length","_l","item","i","key","$event","showOriginImage","price_type","price_count","has_buy","downFileList","id","describe","created_at","getDownUrl","uuid","downPageQueryInfo","pageSize","total","pageIndex","getAccessoryList","facedata","post_type","author_id","staticRenderFns","components","Comment","data","stat","client_map","std","origin","all","body_type_arr","type","computed","meta","edit_link","watch","created","methods","params","getData","getOneFaceInfo","then","document","finally","getStat","postStat","window","console","component","$next","get","postId"],"mappings":"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","file":"js/chunk-147e1f15.bb9c21e7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single.vue?vue&type=style&index=0&id=1d5fee2e&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"v-face-single\"},[_c('div',{staticClass:\"m-navigation\"},[_c('el-button',{staticClass:\"u-goback\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-arrow-left\",\"plain\":\"\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回列表\")]),_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入搜索内容\"},model:{value:(_vm.searcheTitle),callback:function ($$v) {_vm.searcheTitle=$$v},expression:\"searcheTitle\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"关键词\")]),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getFaceList},slot:\"append\"})],1)],1),(_vm.post.banner)?_c('div',{staticClass:\"f-s-banner\"},[_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.post.banner}})],1):_vm._e(),_c('div',{staticClass:\"m-header\"},[_c('h2',{staticClass:\"u-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"u-info\"},[_c('div',{staticClass:\"u-author u-info-margin\"},[_vm._v(\" By \"),_c('a',{staticClass:\"u-name\",attrs:{\"href\":_vm.author_link,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.author_name))]),_c('time',{staticClass:\"u-time\"},[_vm._v(_vm._s(_vm.updated_at))])]),_c('div',{staticClass:\"u-info-client\"},[_c('span',{class:_vm.client},[(_vm.post.star)?_c('i',{staticClass:\"u-client\"},[_vm._v(\"STAR\")]):_vm._e(),_c('i',{staticClass:\"u-client\",class:_vm.client || 'std'},[_vm._v(_vm._s(_vm.showClientLabel(_vm.client)))]),(_vm.body_type_info)?_c('i',{staticClass:\"u-client\",class:_vm.body_type_info.class},[_vm._v(_vm._s(_vm.body_type_info.name))]):_vm._e()])])]),(_vm.remark)?_c('div',{staticClass:\"u-desc\"},[_vm._v(_vm._s(_vm.remark))]):_vm._e(),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"JX3BOX\")])],1),(_vm.previewSrcList && _vm.previewSrcList.length)?_c('div',{staticClass:\"m-single-pics\"},[_c('el-carousel',{staticClass:\"m-carousel\",attrs:{\"interval\":4000,\"type\":\"card\",\"arrow\":\"always\"}},_vm._l((_vm.previewSrcList),function(item,i){return _c('el-carousel-item',{key:i},[_c('div',{staticClass:\"m-face-pic\",on:{\"click\":function($event){return _vm.showOriginImage(i)}}},[_c('el-image',{staticClass:\"u-pic\",attrs:{\"fit\":\"contain\",\"src\":item,\"preview-src-list\":_vm.previewSrcList}})],1)])}),1)],1):_vm._e(),_c('div',{staticClass:\"m-face-tips\"},[_c('div',{staticClass:\"m-face-pay\"},[_c('div',{staticClass:\"m-face-pay-info\"},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"作品类型：\")]),(_vm.price_type==0)?_c('span',[_vm._v(\"免费\")]):_vm._e(),(_vm.price_type!=0)?_c('span',[_vm._v(\"收费\")]):_vm._e(),(_vm.price_type!=0)?_c('span',{staticClass:\"m-face-pay-type\"},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"收费类型：\")]),(_vm.price_type == 1)?_c('span',[_vm._v(_vm._s(_vm.price_count)+\" 盒币\")]):_vm._e(),(_vm.price_type == 2)?_c('span',[_vm._v(_vm._s(_vm.price_count)+\" 金箔\")]):_vm._e()],1):_vm._e()],1),(_vm.price_type!=0 && !_vm.has_buy)?_c('div',{staticClass:\"m-face-pay-btn\"},[_c('el-button',{attrs:{\"type\":\"warning\",\"round\":\"\",\"size\":\"small\"}},[_vm._v(\"购买\")])],1):_vm._e()]),_c('div',[_vm._v(\"如数据中包含付费元素，将不可用于新建角色导入，如用于新建角色请点击最下方导出\")])]),_c('div',{staticClass:\"m-face-down\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"下载列表\")]),_c('div',{staticClass:\"m-face-files\"},[(_vm.downFileList.length==0)?_c('div',[_vm._v(\" 暂无数据。 \")]):_vm._e(),(_vm.downFileList.length>0)?_c('ul',{staticClass:\"m-face-box-list\"},_vm._l((_vm.downFileList),function(item){return _c('li',{key:item.id},[_c('i',{staticClass:\"el-icon-document\"}),_c('span',[_vm._v(\" \"+_vm._s(item.describe?item.describe:'暂无描述')+\" \")]),_c('div',{staticClass:\"u-desc\"},[_c('span',[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(\" 创建于 \"+_vm._s(item.created_at)+\" \")])]),_c('div',{staticClass:\"el-button-group u-action\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-download\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){return _vm.getDownUrl(item.uuid)}}},[_vm._v(\"下载\")])],1)])}),0):_vm._e()]),_c('el-pagination',{attrs:{\"small\":\"\",\"layout\":\"prev, pager, next\",\"hide-on-single-page\":_vm.downPageQueryInfo.pageSize > _vm.downPageQueryInfo.total,\"page-size\":_vm.downPageQueryInfo.pageSize,\"current-page\":_vm.downPageQueryInfo.pageIndex,\"total\":_vm.downPageQueryInfo.total},on:{\"current-change\":_vm.getAccessoryList}})],1),_c('div',{staticClass:\"m-single-data\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"独家数据分析\")]),(_vm.facedata)?_c('facedata',{attrs:{\"data\":_vm.facedata}}):_vm._e()],1),_c('Thx',{staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":_vm.post_type,\"postTitle\":_vm.title,\"userId\":_vm.author_id,\"adminBoxcoinEnable\":true,\"userBoxcoinEnable\":true}}),_c('div',[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"讨论\")]),_c('Comment',{attrs:{\"id\":_vm.id,\"category\":_vm.post_type}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"v-face-single\" v-loading=\"loading\">\n        <div class=\"m-navigation\">\n            <el-button class=\"u-goback\" size=\"medium\" icon=\"el-icon-arrow-left\" @click=\"goBack\" plain>返回列表</el-button>\n            <el-input placeholder=\"请输入搜索内容\" v-model=\"searcheTitle\" class=\"input-with-select\">\n                <span slot=\"prepend\">关键词</span>\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getFaceList\"></el-button>\n            </el-input>\n        </div>\n        <!-- 海报banner -->\n        <div class=\"f-s-banner\" v-if=\"post.banner\"><el-image style=\"width:100%;height:100%\" :src=\"post.banner\"></el-image></div>\n        <!-- 基本信息 -->\n        <div class=\"m-header\">\n            <!-- <img :src=\"'https://console.cnyixun.com/upload/avatar/2021/3/5/1893535.jpg?x-oss-process=style/avatar_m'\" class=\"u-avatar\" /> -->\n            <h2 class=\"u-title\">{{ title }}</h2>\n            <div class=\"u-info\">\n                <div class=\"u-author u-info-margin\">\n                    By\n                    <a class=\"u-name\" :href=\"author_link\" target=\"_blank\">{{ author_name }}</a>\n                    <time class=\"u-time\">{{ updated_at }}</time>\n                </div>\n                <div class=\"u-info-client\">\n                    <!-- <span class=\"u-client\" :class=\"client\">{{ showClientLabel(client) }}</span> -->\n                    <span :class=\"client\">\n                        <i class=\"u-client\" v-if=\"post.star\">STAR</i>\n                        <i class=\"u-client\" :class=\"client || 'std'\">{{ showClientLabel(client) }}</i>\n                        <i class=\"u-client\" :class=\"body_type_info.class\" v-if=\"body_type_info\">{{body_type_info.name}}</i>\n                    </span>\n                    <!-- :href=\"edit_link\" v-if=\"canEdit\" -->\n<!--                    <a class=\"u-info-margin\" >\n                        <i class=\"u-icon-edit el-icon-edit-outline\"></i>\n                        <span>编辑</span>\n                    </a> -->\n                </div>\n\n            </div>\n            <div class=\"u-desc\" v-if=\"remark\">{{ remark }}</div>\n            <el-divider content-position=\"left\">JX3BOX</el-divider>\n        </div>\n\n        <div class=\"m-single-pics\" v-if=\"previewSrcList && previewSrcList.length\">\n            <el-carousel class=\"m-carousel\" :interval=\"4000\" type=\"card\" arrow=\"always\">\n                <el-carousel-item v-for=\"(item, i) in previewSrcList\" :key=\"i\">\n                    <div class=\"m-face-pic\" @click=\"showOriginImage(i)\"><el-image fit=\"contain\" :src=\"item\" class=\"u-pic\" :preview-src-list=\"previewSrcList\"></el-image></div>\n                </el-carousel-item>\n            </el-carousel>\n        </div>\n        <!-- 购买区及下载区 -->\n        <div class=\"m-face-tips\">\n            <div class=\"m-face-pay\">\n                <div class=\"m-face-pay-info\">\n                    <el-button type=\"text\">作品类型：</el-button>\n                    <span v-if=\"price_type==0\">免费</span>\n                    <span v-if=\"price_type!=0\">收费</span>\n                    <span v-if=\"price_type!=0\" class=\"m-face-pay-type\">\n                        <el-button type=\"text\">收费类型：</el-button>\n                        <span v-if=\"price_type == 1\">{{ price_count }} 盒币</span>\n                        <span v-if=\"price_type == 2\">{{ price_count }} 金箔</span>\n                    </span>\n                </div>\n                <div class=\"m-face-pay-btn\" v-if=\"price_type!=0 && !has_buy\"><el-button type=\"warning\" round size=\"small\">购买</el-button></div>\n            </div>\n            <div>如数据中包含付费元素，将不可用于新建角色导入，如用于新建角色请点击最下方导出</div>\n        </div>\n        <div class=\"m-face-down\">\n            <el-divider content-position=\"left\">下载列表</el-divider>\n            <div class=\"m-face-files\">\n                <div v-if=\"downFileList.length==0\">\n                    暂无数据。\n                </div>\n                <ul  class=\"m-face-box-list\" v-if=\"downFileList.length>0\">\n                    <li v-for=\"item in downFileList\" :key=\"item.id\">\n                        <i  class=\"el-icon-document\"></i>\n                        <span>\n                            {{item.describe?item.describe:'暂无描述'}}\n                        </span>\n                        <div  class=\"u-desc\">\n                            <span >\n                                <i  class=\"el-icon-date\"></i>\n                                创建于 {{item.created_at}}\n                            </span>\n                        </div>\n                        <div  class=\"el-button-group u-action\">\n                            <el-button  icon=\"el-icon-download\" size=\"small\" round @click=\"getDownUrl(item.uuid)\">下载</el-button>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <el-pagination\n                small\n                layout=\"prev, pager, next\"\n                :hide-on-single-page=\"downPageQueryInfo.pageSize > downPageQueryInfo.total\"\n                :page-size=\"downPageQueryInfo.pageSize\"\n                :current-page=\"downPageQueryInfo.pageIndex\"\n                :total=\"downPageQueryInfo.total\"\n                @current-change=\"getAccessoryList\"\n            ></el-pagination>\n        </div>\n       <div class=\"m-single-data\">\n            <el-divider content-position=\"left\">独家数据分析</el-divider>\n            <facedata v-if=\"facedata\" :data=\"facedata\" />\n        </div>\n        <!-- 点赞 -->\n       <Thx class=\"m-thx\" :postId=\"id\" :postType=\"post_type\" :postTitle=\"title\" :userId=\"author_id\" :adminBoxcoinEnable=\"true\" :userBoxcoinEnable=\"true\" />\n        <!-- 评论 -->\n        <div>\n            <el-divider content-position=\"left\">讨论</el-divider>\n            <Comment :id=\"id\" :category=\"post_type\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport { resolveImagePath } from '@jx3box/jx3box-common/js/utils';\nimport { getOneFaceInfo, getAccessoryList,getDownUrl} from '@/service/face.js';\nimport { getStat, postStat } from '@jx3box/jx3box-common/js/stat';\nimport facedata from '@jx3box/jx3box-facedat/src/Facedat.vue';\nimport Comment from '@jx3box/jx3box-comment-ui/src/Comment.vue';\nimport { __Links } from '@jx3box/jx3box-common/data/jx3box.json';\nimport { showDate } from '@jx3box/jx3box-common/js/moment';\nimport { editLink, authorLink } from '@jx3box/jx3box-common/js/utils.js';\nimport User from '@jx3box/jx3box-common/js/user';\nexport default {\n    name: 'single',\n    components: { facedata, Comment },\n    data: function() {\n        return {\n            loading: false,\n            searcheTitle: '', //搜索值\n            post: {},\n            stat: {},\n            has_buy: false, //是否购买\n            client_map: {\n                std: '重制',\n                origin: '缘起',\n                all: '双端'\n            },\n            body_type_info:null,\n            body_type_arr: [\n                {\n                    name: '成男',\n                    class: 'u-man',\n                    type:1\n                },\n                {\n                    name: '成女',\n                    class: 'u-woman',\n                    type:2\n                },\n                {\n                    name: '萝莉',\n                    class: 'u-girl',\n                    type:6\n                },\n                {\n                    name: '正太',\n                    class: 'u-boy',\n                    type:5\n                }\n            ],\n            downFileList: [],\n            downPageQueryInfo: {\n                pageIndex: 1,\n                pageSize: 15,\n                total: 0\n            }\n        };\n    },\n    computed: {\n        id: function() {\n            return this.$route.params.id;\n        },\n        author_name: function() {\n            return this.post?.author_name || '匿名';\n        },\n        updated_at: function() {\n            return this.post?.updated_at || '';\n        },\n        author_link: function() {\n            return this.post?.author_link || '';\n        },\n        client: function() {\n            return this.post?.client || '';\n        },\n        remark: function() {\n            return this.post?.remark || '';\n        },\n        facedata: function() {\n            return this.post?.post_meta?.data || '';\n        },\n        meta: function() {\n            return this.post?.post_meta || '';\n        },\n        title() {\n            return this.post?.title || '无标题';\n        },\n        author_id() {\n            return this.post?.user_id || '';\n        },\n        edit_link: function () {\n            return editLink(this.post?.post_type, this.post?.ID);\n        },\n        post_type: function() {\n            return this.post?.post_type || 'face';\n        },\n        price_type: function() {\n            return this.post?.price_type || '';\n        },\n        price_count() {\n            return this.post?.price_count || '0';\n        },\n        previewSrcList: function() {\n            return this.post?.images || [];\n        },\n        // canEdit: function () {\n        //     return this.post?.post_author == User.getInfo().uid || User.isEditor();\n        // },\n    },\n    watch: {},\n    created: function() {\n        this.getData();\n    },\n    methods: {\n        getFaceList() {\n            this.$router.push({name:'list',params:{title:this.searcheTitle}})\n        },\n        getData() {\n            if (this.id) {\n                this.loading = true;\n                getOneFaceInfo(this.id)\n                    .then(res => {\n                        this.post = this.$store.state.post = res.data.data;\n                        document.title = this.post.title;\n                        for(let i=0;i<this.body_type_arr.length;i++){\n                            if(this.body_type_arr[i].type==this.post.body_type){\n                                this.body_type_info=this.body_type_arr[i]\n                            }\n                        }\n                        this.getAccessoryList();\n                    })\n                    .finally(() => {\n                        this.loading = false;\n                    });\n\n                getStat('face', this.id).then(res => {\n                    this.stat = res.data;\n                });\n                postStat('face', this.id);\n            }\n        },\n        getAccessoryList() {\n            getAccessoryList(this.id, this.downPageQueryInfo).then(res => {\n                // console.log(res)\n                let data = res.data.data;\n                this.has_buy = data.has_buy;\n                if(data.has_buy){\n                    this.downFileList = data.list;\n                    this.downPageQueryInfo.total = data.page.total;\n                }\n\n            });\n        },\n        getDownUrl(uuid){\n          getDownUrl(this.id,uuid).then(res=>{\n              window.location.href=res.data.data.url\n          })\n        },\n        goBack() {\n            this.$router.push({ name: 'list' });\n        },\n        showClientLabel: function(val) {\n            return this.client_map[val];\n        },\n        showOriginImage: function(i) {\n            console.log(i);\n        }\n    }\n};\n</script>\n\n<style lang=\"less\">\n@import '~@/assets/css/face/single.less';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./single.vue?vue&type=template&id=1d5fee2e&\"\nimport script from \"./single.vue?vue&type=script&lang=js&\"\nexport * from \"./single.vue?vue&type=script&lang=js&\"\nimport style0 from \"./single.vue?vue&type=style&index=0&id=1d5fee2e&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $next } from \"@jx3box/jx3box-common/js/https\";\n\n/**\n * 获取捏脸列表\n * @param {*} params 参数\n */\nfunction getFaceList(params) {\n    return $next().get(\"/api/face\", { params });\n}\n/**\n * 获取一个捏脸\n * @param {Object} id\n */\nfunction getOneFaceInfo(id){\n    return $next().get(`/api/face/${id}`);\n}\n/**\n * 获取附件列表\n * @param {Object} postId\n */\nfunction getAccessoryList(postId,params){\n    return $next().get(`/api/charge_attachment/face/${postId}`,{\n        params: params,\n    });\n}\n/**\n * 获取下载地址\n * @param {Object} postId\n * @param {Object} uuid\n */\nfunction getDownUrl(postId,uuid){\n    return $next().get(`/api/charge_attachment/download/face/${postId}/${uuid}`);\n}\nexport {\n    getFaceList,getOneFaceInfo,getAccessoryList,getDownUrl\n}\n"],"sourceRoot":""}