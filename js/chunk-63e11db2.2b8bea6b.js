(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63e11db2"],{1093:function(e){e.exports=JSON.parse('{"std":{"nMajorVersion":1,"nVersion":5},"origin":{"nMajorVersion":2,"nVersion":2}}')},"1a3a":function(e){e.exports=JSON.parse('{"CHEEK_Y":0,"CHEEK_Z":0,"EYEBOW_DIRC":0,"EYEBOW_OUT":0,"EYEBOW_POS":0,"EYECROW_Y":0,"EYE_DIRC":0,"EYE_DIST":0,"EYE_OPEN":0,"EYE_POS":0,"EYE_SIZE":0,"FACE_SCALE":0,"FACE_Y":0,"FACE_Z":0,"JAW_END":0,"JAW_LENGTH":0,"JAW_POS":0,"JAW_ROT":0,"JAW_WIDTH":0,"LOW_FACE":0,"LOW_LID_POS":0,"LOW_LIP":0,"LOW_LIP_OUT":0,"LOW_LIP_POS":0,"MOUTH_END":0,"MOUTH_END_L":0,"MOUTH_END_R":0,"MOUTH_OPEN":0,"MOUTH_OUT":0,"MOUTH_POS":0,"MOUTH_ROT":0,"MOUTH_SIZE":0,"NOSEBOW_BEND":0,"NOSEBOW_WIDTH":0,"NOSETOP_POS_Y":0,"NOSETOP_POS_Z":0,"NOSETOP_UP":0,"NOSETOP_WIDTH":0,"NOSE_HEIGHT":0,"NOSE_SIZE":0,"OUT":0,"PUPIL_DIRC":0,"PUPIL_SIZE":0,"RIDGE_Y":0,"UP_FACE":0,"UP_LID_POS":0,"UP_LIP":0,"UP_LIP_OUT":0,"UP_LIP_POS":0}')},"1b7b":function(e){e.exports=JSON.parse('{"b":"https://console.cnyixun.com/","a":"https://icon.jx3box.com/"}')},"1c81":function(e){e.exports=JSON.parse('{"eye":["OUT","EYE_POS","EYE_SIZE","EYE_DIRC","EYE_DIST","EYE_OPEN","EYEBOW_OUT","EYEBOW_DIRC","EYEBOW_POS","PUPIL_SIZE","PUPIL_DIRC","UP_LID_POS","LOW_LID_POS","EYECROW_Y","RIDGE_Y"],"mouth":["MOUTH_POS","MOUTH_SIZE","MOUTH_ROT","MOUTH_OPEN","MOUTH_OUT","MOUTH_END","UP_LIP","LOW_LIP","UP_LIP_OUT","LOW_LIP_OUT","UP_LIP_POS","LOW_LIP_POS","MOUTH_END_L","MOUTH_END_R"],"nose":["NOSE_SIZE","NOSE_HEIGHT","NOSETOP_POS_Z","NOSETOP_POS_Y","NOSETOP_WIDTH","NOSETOP_UP","NOSEBOW_WIDTH","NOSEBOW_BEND"],"face":["CHEEK_Y","CHEEK_Z","FACE_Y","FACE_Z","UP_FACE","LOW_FACE","FACE_SCALE","JAW_WIDTH","JAW_POS","JAW_LENGTH","JAW_END","JAW_ROT"],"decal":["BASE","IRIS_RIGHT","IRIS_LEFT","EYE_SHADOW","EYE_SHADOW1","EYE_SHADOW2","EYE_SHADOW3","EYE_SHADOW_FLASH1","EYE_SHADOW_FLASH2","EYE_SHADOW_FLASH3","EYE_LINE","BROW","BLUSHER_MOUSTACHE","LIP_GLOSS","LIP_FLASH","LIP_OVERLAP","EYE_LIGHT","DECAL"]}')},3835:function(e,a,t){"use strict";function n(e){if(Array.isArray(e))return e}t.d(a,"a",(function(){return o}));t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0"),t("14d9");function i(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,s,c,o=[],l=!0,r=!1;try{if(s=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==a);l=!0);}catch(e){r=!0,i=e}finally{try{if(!l&&null!=t["return"]&&(c=t["return"](),Object(c)!==c))return}finally{if(r)throw i}}return o}}var s=t("06c5");t("d9e2");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,a){return n(e)||i(e,a)||Object(s["a"])(e,a)||c()}},4222:function(e){e.exports=JSON.parse("{}")},"4b16":function(e,a,t){"use strict";t("cb23")},"4fadc":function(e,a,t){"use strict";var n=t("23e7"),i=t("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"5eab":function(e,a,t){},6965:function(e){e.exports=JSON.parse("{}")},"6a48":function(e,a,t){},7135:function(e){e.exports=JSON.parse('{"1":{"0":{"min":-128,"max":116},"1":{"min":-15,"max":33},"2":{"min":-128,"max":126},"3":{"min":-112,"max":67},"4":{"min":-107,"max":126},"5":{"min":-128,"max":126},"6":{"min":-119,"max":57},"7":{"min":-36,"max":126},"8":{"min":-128,"max":126},"9":{"min":-39,"max":21},"10":{"min":-105,"max":38},"11":{"min":-69,"max":126},"12":{"min":-92,"max":105},"13":{"min":-128,"max":20},"14":{"min":-128,"max":20},"15":{"min":-66,"max":33},"16":{"min":-67,"max":126},"17":{"min":-128,"max":127},"18":{"min":-128,"max":126},"19":{"min":-76,"max":55},"20":{"min":-23,"max":13},"21":{"min":-27,"max":55},"22":{"min":-10,"max":10},"23":{"min":-20,"max":20},"24":{"min":-78,"max":10},"25":{"min":-32,"max":56},"26":{"min":-69,"max":10},"27":{"min":-39,"max":97},"28":{"min":-36,"max":21},"29":{"min":-6,"max":25},"30":{"min":-32,"max":25},"31":{"min":-29,"max":89},"32":{"min":-22,"max":22},"33":{"min":-22,"max":22},"34":{"min":-128,"max":10},"35":{"min":-46,"max":15},"36":{"min":-25,"max":18},"37":{"min":-42,"max":32},"38":{"min":-5,"max":40},"39":{"min":-28,"max":32},"40":{"min":-85,"max":126},"41":{"min":-61,"max":90},"42":{"min":-78,"max":41},"43":{"min":-96,"max":18},"44":{"min":-53,"max":15},"45":{"min":-10,"max":95},"46":{"min":-28,"max":87},"47":{"min":-128,"max":65},"48":{"min":-63,"max":49}},"2":{"0":{"min":-70,"max":32},"1":{"min":-51,"max":45},"2":{"min":-93,"max":67},"3":{"min":-105,"max":97},"4":{"min":-128,"max":126},"5":{"min":-59,"max":126},"6":{"min":-72,"max":25},"7":{"min":-74,"max":125},"8":{"min":-128,"max":93},"9":{"min":-47,"max":26},"10":{"min":-29,"max":84},"11":{"min":-53,"max":48},"12":{"min":-124,"max":91},"13":{"min":-118,"max":20},"14":{"min":-128,"max":50},"15":{"min":-92,"max":46},"16":{"min":-51,"max":103},"17":{"min":-123,"max":126},"18":{"min":-128,"max":126},"19":{"min":-6,"max":56},"20":{"min":-10,"max":59},"21":{"min":-65,"max":27},"22":{"min":-10,"max":10},"23":{"min":-29,"max":46},"24":{"min":-44,"max":71},"25":{"min":-54,"max":23},"26":{"min":-69,"max":40},"27":{"min":-54,"max":40},"28":{"min":-89,"max":22},"29":{"min":-61,"max":22},"30":{"min":-96,"max":48},"31":{"min":-88,"max":82},"32":{"min":-19,"max":19},"33":{"min":-19,"max":19},"34":{"min":-66,"max":40},"35":{"min":-54,"max":11},"36":{"min":-16,"max":36},"37":{"min":-51,"max":24},"38":{"min":-17,"max":21},"39":{"min":-16,"max":44},"40":{"min":-10,"max":18},"41":{"min":-25,"max":60},"42":{"min":-39,"max":40},"43":{"min":-29,"max":126},"44":{"min":-29,"max":18},"45":{"min":-53,"max":45},"46":{"min":-44,"max":41},"47":{"min":-86,"max":56},"48":{"min":-39,"max":20}},"5":{"0":{"min":-128,"max":82},"1":{"min":-15,"max":34},"2":{"min":-80,"max":70},"3":{"min":-95,"max":71},"4":{"min":-105,"max":127},"5":{"min":-128,"max":127},"6":{"min":-50,"max":65},"7":{"min":-47,"max":126},"8":{"min":-84,"max":46},"9":{"min":-40,"max":38},"10":{"min":-115,"max":61},"11":{"min":-65,"max":67},"12":{"min":-128,"max":109},"13":{"min":-128,"max":10},"14":{"min":-128,"max":33},"15":{"min":-42,"max":36},"16":{"min":-67,"max":126},"17":{"min":-128,"max":127},"18":{"min":-128,"max":126},"19":{"min":-61,"max":72},"20":{"min":-72,"max":27},"21":{"min":-50,"max":74},"22":{"min":-10,"max":10},"23":{"min":-17,"max":7},"24":{"min":-50,"max":6},"25":{"min":-40,"max":61},"26":{"min":-51,"max":74},"27":{"min":-31,"max":97},"28":{"min":-36,"max":23},"29":{"min":-5,"max":60},"30":{"min":-38,"max":48},"31":{"min":-10,"max":89},"32":{"min":-22,"max":33},"33":{"min":-22,"max":33},"34":{"min":-85,"max":10},"35":{"min":-63,"max":33},"36":{"min":-10,"max":38},"37":{"min":-91,"max":38},"38":{"min":-10,"max":25},"39":{"min":-28,"max":32},"40":{"min":-85,"max":59},"41":{"min":-128,"max":127},"42":{"min":-128,"max":44},"43":{"min":-66,"max":49},"44":{"min":-43,"max":15},"45":{"min":-36,"max":95},"46":{"min":-28,"max":71},"47":{"min":-128,"max":46},"48":{"min":-63,"max":101}},"6":{"0":{"min":-116,"max":36},"1":{"min":-32,"max":33},"2":{"min":-80,"max":65},"3":{"min":-62,"max":22},"4":{"min":-128,"max":126},"5":{"min":-44,"max":127},"6":{"min":-53,"max":18},"7":{"min":-43,"max":39},"8":{"min":-24,"max":76},"9":{"min":-46,"max":26},"10":{"min":-51,"max":48},"11":{"min":-43,"max":52},"12":{"min":-128,"max":51},"13":{"min":-29,"max":37},"14":{"min":-80,"max":33},"15":{"min":-92,"max":18},"16":{"min":-24,"max":126},"17":{"min":-128,"max":25},"18":{"min":-40,"max":126},"19":{"min":-53,"max":24},"20":{"min":-17,"max":59},"21":{"min":-66,"max":18},"22":{"min":-10,"max":10},"23":{"min":-29,"max":32},"24":{"min":-29,"max":42},"25":{"min":-38,"max":22},"26":{"min":-48,"max":33},"27":{"min":-62,"max":23},"28":{"min":-28,"max":33},"29":{"min":-29,"max":32},"30":{"min":-53,"max":14},"31":{"min":-73,"max":40},"32":{"min":-33,"max":33},"33":{"min":-33,"max":33},"34":{"min":-85,"max":20},"35":{"min":-78,"max":6},"36":{"min":-16,"max":23},"37":{"min":-53,"max":38},"38":{"min":-4,"max":27},"39":{"min":-25,"max":28},"40":{"min":-3,"max":5},"41":{"min":-63,"max":83},"42":{"min":-48,"max":27},"43":{"min":-62,"max":91},"44":{"min":-43,"max":18},"45":{"min":-36,"max":61},"46":{"min":-25,"max":56},"47":{"min":-74,"max":46},"48":{"min":-57,"max":112}}}')},"73a2":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e._self._c;return a("div",{staticClass:"m-facedata"},[a("div",{staticClass:"m-face-parse",class:{on:e.done}},[a("h1",{staticClass:"m-face-parse-title"},[e._v("捏脸数据解析器")]),a("Upload",{attrs:{type:"face"},on:{success:e.handleSuccess}}),a("Facedat",{directives:[{name:"show",rawName:"v-show",value:e.done,expression:"done"}],staticClass:"m-face-parse-preview",attrs:{data:e.json,lock:!1}})],1)])},i=[],s=t("e0bb"),c=t("808d"),o=(t("65c2"),{name:"FacedataParse",props:[],data:function(){return{data:"",done:!1}},computed:{json:function(){return this.data&&this.data.json}},methods:{handleSuccess:function(e){this.data=e,null!==e&&void 0!==e&&e.json?this.done=!0:this.done=!1}},mounted:function(){},components:{Facedat:s["a"],Upload:c["a"]}}),l=o,r=(t("f44f"),t("2877")),m=Object(r["a"])(l,n,i,!1,null,null,null);a["default"]=m.exports},"808d":function(e,a,t){"use strict";var n=function(){var e=this,a=e._self._c;return a("div",{staticClass:"c-facedat-upload"},[e.support?a("div",{staticClass:"u-upload"},[e.done?[a("div",{staticClass:"u-result"},[a("el-button",{staticClass:"u-reset",attrs:{icon:"el-icon-refresh-left"},on:{click:e.resetData}},[e._v("清空重置")]),a("el-alert",{attrs:{title:"当前文件为："+e.filename,type:"success","show-icon":""}})],1)]:[a("input",{staticClass:"u-input",attrs:{type:"file",id:"face_file",accept:".dat,.jx3dat,.ini"},on:{change:e.uploadData}}),a("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:e.selectData}},[e._v(e._s(e.btnText))]),"face"===e.type?a("a",{staticClass:"u-help",attrs:{href:"/tool/746",target:"_blank"}},[a("i",{staticClass:"el-icon-collection"}),e._v(" 游戏脸型导入导出指南 ")]):e._e()]],2):a("el-alert",{staticClass:"u-notsupport",attrs:{title:"浏览器不支持",type:"warning",description:"你的浏览器太老旧不支持本地读取,请更换chrome或其它现代浏览器","show-icon":""}})],1)},i=[],s=(t("b0c0"),t("e9c4"),t("99af"),t("d3b7"),t("25f0"),t("bda6")),c=t("162f"),o=t("fb5f"),l={name:"Upload",props:{type:{type:String,default:""}},components:{},data:function(){return{support:!0,file:"",json:"",object:"",done:!1,types:o.bodyMap}},computed:{btnText:function(){var e="上传脸型/体型数据";return"face"===this.type&&(e="上传脸型数据"),"body"===this.type&&(e="上传体型数据"),e},filename:function(){return this.file&&this.file.name}},methods:{selectData:function(e){var a=document.getElementById("face_file");a.dispatchEvent(new MouseEvent("click"))},uploadData:function(e){var a=e.target.files[0];this.file=a,this.parseData(a)},parseData:function(e){if(e){var a=this,t=new FileReader;t.onload=function(e){console.log("读取成功...开始执行分析...");try{if(!a.type){var t=Object(s["b"])(e.target.result);t.tBody?a.object=Object(c["load"])(e.target.result):a.object=t}if("face"===a.type&&(a.object=Object(s["b"])(e.target.result),a.object.tBody))return a.$notify.error({title:"错误",message:"请导入脸型数据"});"body"===a.type&&(a.object=Object(c["load"])(e.target.result))}catch(i){return console.log(i),a.$notify.error({title:"错误",message:"无法读取数据"}),void a.$emit("fail",{file:a.file})}if(a.object)try{var n;a.json=JSON.stringify(a.object),a.$notify({title:"成功",message:"".concat((null===(n=a.types[a.object.nRoleType.toString()])||void 0===n?void 0:n.label)||"").concat("face"===a.type?"脸型":"body"===a.type?"体型":"","数据读取成功"),type:"success"}),a.done=!0,a.$emit("success",{file:a.file,json:a.json,object:a.object})}catch(e){a.$notify.error({title:"错误",message:"无法读取数据"}),a.$emit("fail",{file:a.file})}},t.onerror=function(e){a.$notify.error({title:"错误",message:"文件读取异常"})},t.readAsArrayBuffer(e)}},resetData:function(){this.done=!1,this.file="",this.json="",this.object="",this.$emit("success",{file:"",json:"",object:""})}},filters:{},created:function(){},mounted:function(){this.support=!!window.FileReader}},r=l,m=(t("4b16"),t("2877")),d=Object(m["a"])(r,n,i,!1,null,null,null);a["a"]=d.exports},a009:function(e){e.exports=JSON.parse('{"OUT":{"type":34,"desc":"眼睛凸出"},"EYE_POS":{"type":35,"desc":"眼睛位置"},"EYE_SIZE":{"type":36,"desc":"眼睛大小"},"EYE_DIRC":{"type":37,"desc":"眼睛倾斜"},"EYE_DIST":{"type":38,"desc":"眼睛间距"},"EYE_OPEN":{"type":39,"desc":"眼睛开合"},"EYEBOW_OUT":{"type":40,"desc":"眉骨凸出"},"EYEBOW_DIRC":{"type":41,"desc":"眉毛倾斜"},"EYEBOW_POS":{"type":42,"desc":"眉毛高度"},"PUPIL_SIZE":{"type":43,"desc":"瞳孔大小"},"PUPIL_DIRC":{"type":44,"desc":"瞳孔位置"},"UP_LID_POS":{"type":45,"desc":"上眼睑高度"},"LOW_LID_POS":{"type":46,"desc":"下眼睑高度"},"EYECROW_Y":{"type":47,"desc":"外眼角倾斜"},"RIDGE_Y":{"type":48,"desc":"内眼角倾斜"},"MOUTH_POS":{"desc":"嘴巴位置","type":20},"MOUTH_SIZE":{"desc":"嘴巴大小","type":21},"MOUTH_ROT":{"desc":"下颚倾斜","type":22},"MOUTH_OPEN":{"desc":"嘴唇开合","type":23},"MOUTH_OUT":{"desc":"嘴巴凸出","type":24},"MOUTH_END":{"desc":"嘴角位置","type":25},"UP_LIP":{"desc":"上唇厚度","type":26},"LOW_LIP":{"desc":"下唇厚度","type":27},"UP_LIP_OUT":{"desc":"上唇凸出","type":28},"LOW_LIP_OUT":{"desc":"下唇凸出","type":29},"UP_LIP_POS":{"desc":"上唇位置","type":30},"LOW_LIP_POS":{"desc":"下唇位置","type":31},"MOUTH_END_L":{"desc":"左嘴角高度","type":32},"MOUTH_END_R":{"desc":"右嘴角高度","type":33},"NOSE_SIZE":{"desc":"鼻子大小","type":12},"NOSE_HEIGHT":{"desc":"鼻子高度","type":13},"NOSETOP_POS_Z":{"desc":"鼻头高度","type":14},"NOSETOP_POS_Y":{"desc":"鼻头位置","type":15},"NOSETOP_WIDTH":{"desc":"鼻头宽度","type":16},"NOSETOP_UP":{"desc":"鼻尖弯度","type":17},"NOSEBOW_WIDTH":{"desc":"鼻梁宽度","type":18},"NOSEBOW_BEND":{"desc":"鼻梁高度","type":19},"CHEEK_Y":{"desc":"颧骨位置","type":0},"CHEEK_Z":{"desc":"颧骨凸出","type":1},"FACE_Y":{"desc":"脸颊宽度","type":2},"FACE_Z":{"desc":"脸颊高度","type":3},"UP_FACE":{"desc":"上脸宽度","type":4},"LOW_FACE":{"desc":"下脸宽度","type":5},"FACE_SCALE":{"desc":"脸蛋丰满","type":6},"JAW_WIDTH":{"desc":"下巴宽度","type":7},"JAW_POS":{"desc":"下巴位置","type":8},"JAW_LENGTH":{"desc":"下巴长度","type":9},"JAW_END":{"desc":"下巴尖宽度","type":10},"JAW_ROT":{"desc":"下巴凸出","type":11},"BASE":{"desc":"面部皮肤","type":0},"IRIS_RIGHT":{"desc":"右瞳","type":1},"IRIS_LEFT":{"desc":"左瞳","type":2},"EYE_SHADOW":{"desc":"眼影","type":3},"EYE_SHADOW1":{"desc":"眼影·底","type":13},"EYE_SHADOW2":{"desc":"眼影·叠","type":14},"EYE_SHADOW3":{"desc":"眼影·晕","type":15},"EYE_SHADOW4":{"desc":"测试眼影4","type":16},"EYE_SHADOW_FLASH1":{"desc":"闪点·底","type":17},"EYE_SHADOW_FLASH2":{"desc":"闪点·叠","type":18},"EYE_SHADOW_FLASH3":{"desc":"闪点·晕","type":19},"EYE_SHADOW_FLASH4":{"desc":"测试闪点4","type":20},"EYE_LINE":{"desc":"眼线","type":4},"BROW":{"desc":"眉毛","type":5},"BLUSHER_MOUSTACHE":{"desc":"腮红和胡须","type":6},"LIP_GLOSS":{"desc":"唇形","type":7},"LIP_FLASH":{"desc":"闪粉","type":10},"LIP_LIGHT":{"desc":"叠涂","type":11},"LIP_OVERLAP":{"desc":"叠涂","type":12},"EYE_LIGHT":{"desc":"眼神光","type":8},"DECAL":{"desc":"贴花","type":9}}')},b9cd:function(e){e.exports=JSON.parse('{"std":["BASE","IRIS_RIGHT","IRIS_LEFT","EYE_SHADOW","EYE_SHADOW1","EYE_SHADOW2","EYE_SHADOW3","EYE_SHADOW_FLASH1","EYE_SHADOW_FLASH2","EYE_SHADOW_FLASH3","EYE_LINE","BROW","BLUSHER_MOUSTACHE","LIP_GLOSS","LIP_FLASH","LIP_OVERLAP","EYE_LIGHT","DECAL"],"origin":["BASE","IRIS_RIGHT","IRIS_LEFT","EYE_SHADOW","EYE_LINE","BROW","BLUSHER_MOUSTACHE","LIP_GLOSS","EYE_LIGHT","DECAL"]}')},cb23:function(e,a,t){},cd27:function(e,a,t){"use strict";t("5eab")},cd54:function(e){e.exports=JSON.parse('{"std":["nColorID","nShowID","bUse","fValue1","fValue2","fValue3"],"origin":["nColorID","nShowID"]}')},dff1:function(e){e.exports=JSON.parse('{"EYE_SHADOW_FLASH2":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_SHADOW1":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"LIP_LIGHT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"BLUSHER_MOUSTACHE":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_LINE":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW_FLASH1":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"DECAL":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"BROW":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_LIGHT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"LIP_FLASH":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_SHADOW4":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"IRIS_RIGHT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"IRIS_LEFT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW2":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"BASE":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW_FLASH3":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"LIP_GLOSS":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW_FLASH4":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_SHADOW3":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"LIP_OVERLAP":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1}}')},e0bb:function(e,a,t){"use strict";var n=function(){var e=this,a=e._self._c;return e.ready?a("div",{staticClass:"c-facedat"},[a("el-tabs",{staticClass:"c-facedat-preivew",attrs:{type:e.tab_type},model:{value:e.active,callback:function(a){e.active=a},expression:"active"}},[a("el-tab-pane",{attrs:{label:"眼部轮廓",name:"eye"}},[a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["eye"],(function(t,n){return a("li",{key:t+n},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),a("el-tab-pane",{attrs:{label:"嘴部轮廓",name:"mouth"}},[a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["mouth"],(function(t,n){return a("li",{key:t+n},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),a("el-tab-pane",{attrs:{label:"鼻子轮廓",name:"nose"}},[a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["nose"],(function(t,n){return a("li",{key:t+n},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),a("el-tab-pane",{attrs:{label:"脸部轮廓",name:"face"}},[a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["face"],(function(t,n){return a("li",{key:t+n},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),a("el-tab-pane",{attrs:{label:"贴花",name:"decal"}},[a("div",{staticClass:"m-facedat-decals",attrs:{id:"decals"}},[e._l(e.group["decal"],(function(t,n){return a("div",{key:t+n,staticClass:"c-facedat-group"},[e.cleandata["tDecal"][t]?[a("ul",{staticClass:"u-decals"},[a("li",{directives:[{name:"show",rawName:"v-show",value:!e.clean||e.checkdecal_prop(t),expression:"!clean || checkdecal_prop(key)"}]},[a("div",{staticClass:"u-title"},[e._v(e._s(e.dict[t]["desc"]))]),a("img",{staticClass:"u-pic",attrs:{src:e.getDecalIcon(t,e.cleandata["tDecal"][t]["nShowID"])}}),a("span",{staticClass:"u-dname"},[e._v(e._s(e.getDecalName(t,e.cleandata["tDecal"][t]["nShowID"])))]),e.getDecalIsFlip(t,e.cleandata["tDecal"][t]["nShowID"])?a("span",{staticClass:"u-dflip"},[e._v("(翻转)")]):e._e(),a("span",{staticClass:"u-dcolor"},[e._v("(颜色:"+e._s(e.cleandata["tDecal"][t]["nColorID"])+")")]),e.showDecalFree(t,e.cleandata["tDecal"][t]["nShowID"])?a("span",{staticClass:"u-free"},[a("i",{staticClass:"el-icon-success"}),e._v(" 新建角色可用 ")]):e._e(),e.showDecalPrice(t,e.cleandata["tDecal"][t]["nShowID"])?a("span",{staticClass:"u-price"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "+e._s(e.showDecalPrice(t,e.cleandata["tDecal"][t]["nShowID"]))+" 通宝 ")]):e._e()])])]:e._e()],2)})),a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-decals"},[a("div",{staticClass:"u-title"},[e._v("装饰物")]),a("img",{staticClass:"u-pic",attrs:{src:e.getDecorationIcon(e.cleandata["nDecorationID"])}}),a("span",{staticClass:"u-dname"},[e._v(e._s(e.getDecorationName(e.cleandata["nDecorationID"])))]),e.showDecorationPrice(e.cleandata["nDecorationID"])?a("span",{staticClass:"u-price"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "+e._s(e.showDecorationPrice(e.cleandata["nDecorationID"]))+" 通宝 ")]):e._e()])]),a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-decals"},[a("div",{staticClass:"u-title"},[e._v("总计")]),a("span",{staticClass:"u-total u-price"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "),a("b",[e._v(e._s(e.total_coin))]),e._v(" 通宝")])])])],2)])],1),a("div",{staticClass:"c-facedat-setting"},[a("el-form",{ref:"form",staticClass:"c-facedat-setting-form",attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"高级"}},[a("el-checkbox",{model:{value:e.clean,callback:function(a){e.clean=a},expression:"clean"}},[e._v("清洗模式")]),a("span",{staticClass:"u-warning"},[a("i",{staticClass:"el-icon-warning-outline"}),e._v(" 仅保留创建新角色时可用项，如提示非法数据也请尝试开启该模式 ")])],1)],1)],1),a("div",{staticClass:"c-facedat-btns"},[a("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-receiving"},on:{click:function(a){return e.buildData("std")}}},[e._v("导出正式服")]),a("el-button",{staticClass:"u-btn",attrs:{type:"warning",icon:"el-icon-receiving"},on:{click:function(a){return e.buildData("origin")}}},[e._v("导出怀旧服")])],1)],1):e._e()},i=[],s=t("3835"),c=(t("caad"),t("2532"),t("fb6a"),t("4fadc"),t("b64b"),t("e9c4"),t("2ef0")),o=t.n(c),l=t("bc3a"),r=t.n(l),m=t("1b7b");function d(e){let a={tBone:{},tDecal:{},nRoleType:~~e.misc[0].value};e.decal.forEach(e=>{a.tDecal[e.name]={nShowID:~~e.value}});let t=["eye","mouth","nose","face"];return t.forEach(t=>{e[t].forEach(e=>{a.tBone[e.name]=~~e.value})}),a}var u=d,_=t("1c81"),f=t("a009"),p=t("b9cd"),E=(t("4222"),t("6965"),t("cd54")),x=t("7135"),O=t("1a3a"),D=t("dff1"),S=t("1093"),I=t("d4f4"),y=t("21a6"),h=t("bda6"),b={name:"Facedat",props:["data","lock","tab_type"],data:function(){return{active:"eye",body_type:"",facedata:"",group:_,dict:f,bone_range:x,decal_group:p,clean:!1,version:"std",decalMap:"",decorationMap:""}},computed:{ready:function(){return!!(this.facedata&&this.decalMap&&this.decorationMap)},cleandata:function(){if(this.clean&&this.facedata){var e=o.a.cloneDeep(this.facedata);for(var a in e.nDecorationID=0,e.tDecal){var t=this.showDecalFree(a,null===e||void 0===e?void 0:e.tDecal[a]["nShowID"]);t||(e.tDecal[a]["nShowID"]=D[a]["nShowID"])}return e}return this.facedata},client:function(){var e,a=null===(e=this.facedata)||void 0===e?void 0:e.nMajorVersion;return 1!=a&&a?"origin":"std"},output_std:function(){var e=this.amendVersion("std");return e.tBone=this.amendBone(e.tBone),this.clean&&(e.tDecal=o.a.cloneDeep(D)),e},output_origin:function(){var e=this.amendVersion("origin");for(var a in e.tBone=this.amendBone(e.tBone),e.tDecal)if(p.origin.includes(a))for(var t in e.tDecal[a]["nColorID"]=D[a]["nColorID"],e.tDecal[a]["nShowID"]=D[a]["nShowID"],e.tDecal[a])E.origin.includes(t)||delete e.tDecal[a][t];else delete e.tDecal[a];return e},output:function(){var e={},a="origin"==this.version?this.output_origin:this.output_std;try{e="return "+Object(I["format"])(a,{eol:"",spaces:0}).slice(6)}catch(t){console.log("导出转换失败"),console.log(t)}return e},total_coin:function(){for(var e=0,a=0,t=Object.entries(this.group["decal"]);a<t.length;a++){var n=Object(s["a"])(t[a],2),i=(n[0],n[1]);this.cleandata["tDecal"][i]&&(e+=this.showDecalPrice(i,this.cleandata["tDecal"][i]["nShowID"]))}return this.cleandata["nDecorationID"]&&(e+=this.showDecorationPrice(this.cleandata["nDecorationID"])),e}},watch:{data:{deep:!0,handler:function(e){this.render()}},cleandata:{deep:!0,handler:function(){this.$forceUpdate()}},client:{immediate:!0,handler:function(e){this.fetchDecal(),this.fetchDecoration()}}},methods:{render:function(){if(!this.data)return this.body_type="",void(this.facedata="");try{var e=JSON.parse(this.data);e.status?(this.body_type=e.misc[0]["value"],this.facedata=u(e)):(this.body_type=e.nRoleType,this.facedata=e)}catch(a){this.facedata="",console.log(a),this.$notify.error({title:"错误",message:"脸型数据无法解析"})}},getDecalName:function(e,a){return o.a.get(this.decalMap[this.body_type][f[e]["type"]][a],"name")||"无"},getDecalIcon:function(e,a){var t=o.a.get(this.decalMap[this.body_type][f[e]["type"]][a],"iconid");return t?m["a"]+"icon/"+t+".png":m["a"]+"icon/undefined.png"},getDecalIsFlip:function(e,a){return o.a.get(this.decalMap[this.body_type][f[e]["type"]][a],"IsFlip")||!1},showDecalFree:function(e,a){var t,n,i,s,c;return~~(null===(t=this.decalMap)||void 0===t||null===(n=t[this.body_type])||void 0===n||null===(i=n[null===(c=f[e])||void 0===c?void 0:c.type])||void 0===i||null===(s=i[a])||void 0===s?void 0:s.CanUseInCreate)},showDecalPrice:function(e,a){var t,n,i,s,c;return~~(null===(t=this.decalMap)||void 0===t||null===(n=t[this.body_type])||void 0===n||null===(i=n[null===(c=f[e])||void 0===c?void 0:c.type])||void 0===i||null===(s=i[a])||void 0===s?void 0:s.CoinPrice)},checkdecal_prop:function(e){return p.origin.includes(e)},getDecorationName:function(e){return o.a.get(this.decorationMap[this.body_type][e],"Name")||"无"},getDecorationIcon:function(e){var a=o.a.get(this.decorationMap[this.body_type][e],"IconID");return a?m["a"]+"icon/"+a+".png":m["a"]+"icon/undefined.png"},showDecorationPrice:function(e){return~~(o.a.get(this.decorationMap[this.body_type][e],"CoinPrice")||"0")},buildData:function(e){this.version=e;var a=Object(h["a"])(this.output),t=new Blob([a],{type:"application/dat;charset=utf-8"});Object(y["saveAs"])(t,Date.now()+".dat")},amendVersion:function(e){var a=o.a.cloneDeep(this.cleandata);return a.nDecorationID="origin"===e?0:a.nDecorationID,a.nMajorVersion=S[e]["nMajorVersion"],a.nVersion=S[e]["nVersion"],a},amendBone:function(e){var a=o.a.cloneDeep(O),t=Object.assign(a,e);return t},amendDecal:function(e){o.a.cloneDeep(D);for(var a in D)e[a]?e[a]=Object.assign(D[a],e[a]):e[a]=o.a.cloneDeep(D[a]);return e},fetchWithLocalStorage:function(e,a,t){var n=JSON.parse(sessionStorage.getItem(a));n?t&&t(n):r.a.get(e).then((function(e){sessionStorage.setItem(a,JSON.stringify(e.data)),t&&t(e.data)}))},fetchDecal:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"std";try{var t="".concat(m["b"],"std"===a?"data/face/decal_std.json":"data/face/decal_origin.json"),n="decal_".concat(a);this.fetchWithLocalStorage(t,n,(function(a){e.decalMap=a}))}catch(i){this.decalMap="",console.log(i)}},fetchDecoration:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"std";try{var t="".concat(m["b"],"std"===a?"data/face/decoration_std.json":"data/face/decoration_origin.json"),n="decoration_".concat(a);this.fetchWithLocalStorage(t,n,(function(a){e.decorationMap=a}))}catch(i){this.decorationMap="",console.log(i)}}},mounted:function(){this.render()}},v=b,C=(t("cd27"),t("2877")),L=Object(C["a"])(v,n,i,!1,null,null,null);a["a"]=L.exports},f44f:function(e,a,t){"use strict";t("6a48")}}]);
//# sourceMappingURL=chunk-63e11db2.2b8bea6b.js.map