(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6531e5e1"],{"097b6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-pet-single"},[n("div",{staticClass:"m-pet-navigation"},[n("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),n("div",{staticClass:"m-pet-links"},[n("a",{staticClass:"u-link u-item",attrs:{href:t.getLink("item",t.item_id)}},[n("i",{staticClass:"el-icon-collection-tag"}),t._v("物品信息")]),n("em",[t._v(" | ")]),n("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achievement_id)}},[n("i",{staticClass:"el-icon-trophy"}),t._v("成就信息")])])],1),n("div",{staticClass:"m-pet-content flex"},[n("petCard",{attrs:{petObject:t.pet,lucky:t.luckyList}}),n("div",{staticClass:"m-pet-info"},[n("h1",{staticClass:"u-title"},[n("span",{staticClass:"u-name"},[t._v(t._s(t.pet.Name))]),n("span",{staticClass:"u-type"},[t._v(t._s(t.getPetType(t.pet.Class))+" · "+t._s(t.getPetSource(t.pet.Source)))]),n("i",{staticClass:"u-stars"},t._l(t.pet.Star,(function(t){return n("i",{key:t,staticClass:"el-icon-star-on"})})),0)]),n("div",{staticClass:"m-pet-skills"},t._l(t.petWiki.skills,(function(e,i){return n("div",{key:i,staticClass:"u-skill"},[n("el-popover",{key:i,attrs:{trigger:"hover","popper-class":"m-pet-skill","visible-arrow":!1,placement:"top"}},[n("div",{staticClass:"u-skill-pop"},[n("div",{staticClass:"u-skill-name"},[t._v(t._s(e.Name))]),n("div",{staticClass:"u-skill-desc"},[t._v(t._s(e.Desc))])]),n("img",{staticClass:"u-skill-icon",attrs:{slot:"reference",src:t._f("iconLink")(e.IconID),alt:e.Name},slot:"reference"})])],1)})),0),n("div",{staticClass:"u-metas"},[n("div",{staticClass:"u-meta u-score"},[n("span",{staticClass:"u-meta-label"},[t._v("宠物分数：")]),t._v(t._s(t.pet.Score))]),n("div",{staticClass:"u-meta u-desc"},[n("span",{staticClass:"u-meta-label"},[t._v("宠物说明：")]),t._l(t.getPetDesc(t.pet.Desc),(function(e){return[n("div",{key:e.text,domProps:{innerHTML:t._s(e.text)}})]}))],2),n("div",{staticClass:"u-meta u-source"},[n("span",{staticClass:"u-meta-label"},[t._v("获取线索：")]),t._l(t.getPetDesc(t.pet.OutputDes),(function(e){return[n("span",{key:e.text},[t._v(t._s(t._f("cleanResourceText")(e.text)))])]}))],2),t.shopInfo.RewardsPrice||t.shopInfo.CoinPrice?n("div",{staticClass:"u-meta u-shop"},[n("span",{staticClass:"u-meta-label"},[t._v("商城价格：")]),n("span",{staticClass:"u-price"},[n("el-tag",{staticClass:"u-price-item u-rewards"},[t._v("积分"),n("b",[t._v(t._s(t.shopInfo.RewardsPrice))]),n("i",{staticClass:"u-icon-rewards"})]),n("el-tag",{staticClass:"u-price-item u-coin"},[t._v("通宝"),n("b",[t._v(t._s(t.shopInfo.CoinPrice))]),n("i",{staticClass:"u-icon-coin"})])],1)]):t._e()])])],1),n("div",{staticClass:"m-pet-wiki"},[n("detail",{attrs:{id:t.petWiki.achievement_id,title:"宠物攻略"}})],1)])},s=[],a=(n("7db0"),n("d3b7"),n("b0c0"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("5319"),n("fb6a"),n("99af"),n("2ca0"),n("9b7f")),c=n("41cb"),r=function(t,e){return Object(c["c"])().get("api/wiki/post?type=".concat(t,"&source_id=").concat(e,"&supply=1"))},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-pet-card"},[n("img",{staticClass:"u-image",attrs:{src:t.getImgSrc(t.petObject.BgPath)}}),n("img",{staticClass:"u-frame",attrs:{src:t.getFrameSrc(t.petObject.Quality)}}),n("div",{staticClass:"u-stars"},[n("i",{staticClass:"u-star",class:"u-star-"+t.petObject.Star})]),t.getLucky(t.petObject.Index)?n("i",{staticClass:"u-lucky"}):t._e(),n("div",{staticClass:"u-score flex"},[t._v(" "+t._s(t.petObject.Score||"？")+" ")]),n("span",{staticClass:"u-name"},[t._v(t._s(t.petObject.Name))])])},u=[],l=(n("466d"),n("65c2")),p={props:{petObject:{},lucky:{}},data:function(){return{}},methods:{getImgSrc:function(t){if(t){var e=t.match(/.*[\/,\\](.*?).tga/);return l["__iconPath"]+"pvx/pet/images/"+e[1]+".png"}},getFrameSrc:function(t){var e="";if(t){switch(t){case 2:e="/greenborder.png";break;case 3:e="/blueborder.png";break;case 4:e="/purpleborder.png";break;case 5:e="/purpleborder.png";break}return l["__iconPath"]+"pvx/pet/frame"+e}},getLucky:function(t){if(t)return-1!=this.lucky.indexOf(t.toString())}}},f=p,d=(n("2d4f"),n("2877")),v=Object(d["a"])(f,o,u,!1,null,null,null),m=v.exports,g=n("c599"),h=n("60f8"),b=n("4649"),_=n("85e4"),k={name:"PetSingle",props:[],components:{petCard:m,Detail:g["a"]},data:function(){return{pet:{},petWiki:{},shopInfo:"",postPet:"",luckyList:[]}},computed:{id:function(){return this.$route.params.id},item_id:function(){return 1},achievement_id:function(){return this.petWiki.achievement_id},source_id:function(t){var e=t.pet;return(null===e||void 0===e?void 0:e.ItemTabType)+"_"+(null===e||void 0===e?void 0:e.ItemTabIndex)},client:function(){return this.$store.state.client}},watch:{},methods:{getPetInfo:function(){var t=this;Object(a["a"])(this.id).then((function(e){t.pet=e.data,t.getPetWiki(),t.getShopInfo()}))},getPetWiki:function(){var t=this;r("item",this.source_id).then((function(e){var n,i,s;t.petWiki=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.data)||void 0===i||null===(s=i.source)||void 0===s?void 0:s.pet}))},getShopInfo:function(){var t=this,e={item_type:this.pet.ItemTabType,item_id:this.pet.ItemTabIndex};Object(a["d"])(e).then((function(e){t.shopInfo=(null===e||void 0===e?void 0:e.data)||""}))},getPetType:function(t){var e=h.find((function(e){return e.class===t}));return(null===e||void 0===e?void 0:e.name)||""},getPetSource:function(t){var e=b.find((function(e){return~~t===~~e.source}));return(null===e||void 0===e?void 0:e.name)||""},getPetDesc:function(t){var e,n=new RegExp("<text>text=([\\s\\S]*?)font=([0-9]+)[\\s\\S]*?<\\/text>","gimy"),i=[];while(e=n.exec(t))i.push(e);for(var s=[],a=0,c=i;a<c.length;a++){var r=c[a];s.push({font:~~r[2],text:r[1].slice(1,-2).replace(/[\\n]/g,"")})}return s},goBack:function(){this.$router.push({name:"list"})},goItem:function(){var t=this.pet,e=t.ItemTabType,n=t.ItemTabIndex,i=Object(_["getLink"])("item","".concat(e,"_").concat(n));window.open(i,"_blank")},getPetLucky:function(){var t=this;Object(a["b"])().then((function(e){var n=e.data.std,i=new Date,s=i.getMonth()+1+""+i.getDate();t.luckyList=n[s]}))},getLink:_["getLink"]},filters:{iconLink:_["iconLink"],cleanResourceText:function(t){return t&&t.startsWith("获取线索：")?t.replace("获取线索：",""):t}},created:function(){this.getPetLucky()},mounted:function(){this.getPetInfo()}},C=k,y=(n("d889"),Object(d["a"])(C,i,s,!1,null,null,null));e["default"]=y.exports},"25f0":function(t,e,n){"use strict";var i=n("e330"),s=n("5e77").PROPER,a=n("6eeb"),c=n("825a"),r=n("3a9b"),o=n("577e"),u=n("d039"),l=n("ad6d"),p="toString",f=RegExp.prototype,d=f[p],v=i(l),m=u((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),g=s&&d.name!=p;(m||g)&&a(RegExp.prototype,p,(function(){var t=c(this),e=o(t.source),n=t.flags,i=o(void 0===n&&r(f,t)&&!("flags"in f)?v(t):n);return"/"+e+"/"+i}),{unsafe:!0})},"2d4f":function(t,e,n){"use strict";n("ea20")},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"466d":function(t,e,n){"use strict";var i=n("c65b"),s=n("d784"),a=n("825a"),c=n("50c4"),r=n("577e"),o=n("1d80"),u=n("dc4a"),l=n("8aa5"),p=n("14c3");s("match",(function(t,e,n){return[function(e){var n=o(this),s=void 0==e?void 0:u(e,t);return s?i(s,e,n):new RegExp(e)[t](r(n))},function(t){var i=a(this),s=r(t),o=n(e,i,s);if(o.done)return o.value;if(!i.global)return p(i,s);var u=i.unicode;i.lastIndex=0;var f,d=[],v=0;while(null!==(f=p(i,s))){var m=r(f[0]);d[v]=m,""===m&&(i.lastIndex=l(s,c(i.lastIndex),u)),v++}return 0===v?null:d}]}))},"4d63":function(t,e,n){var i=n("83ab"),s=n("da84"),a=n("e330"),c=n("94ca"),r=n("7156"),o=n("9112"),u=n("9bf2").f,l=n("241c").f,p=n("3a9b"),f=n("44e7"),d=n("577e"),v=n("ad6d"),m=n("9f7f"),g=n("6eeb"),h=n("d039"),b=n("1a2d"),_=n("69f3").enforce,k=n("2626"),C=n("b622"),y=n("fce3"),x=n("107c"),I=C("match"),w=s.RegExp,P=w.prototype,S=s.SyntaxError,O=a(v),j=a(P.exec),E=a("".charAt),R=a("".replace),T=a("".indexOf),L=a("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,W=/a/g,N=/a/g,A=new w(W)!==W,$=m.MISSED_STICKY,J=m.UNSUPPORTED_Y,B=i&&(!A||$||y||x||h((function(){return N[I]=!1,w(W)!=W||w(N)==N||"/a/i"!=w(W,"i")}))),M=function(t){for(var e,n=t.length,i=0,s="",a=!1;i<=n;i++)e=E(t,i),"\\"!==e?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),s+=e):s+="[\\s\\S]":s+=e+E(t,++i);return s},F=function(t){for(var e,n=t.length,i=0,s="",a=[],c={},r=!1,o=!1,u=0,l="";i<=n;i++){if(e=E(t,i),"\\"===e)e+=E(t,++i);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:j(D,L(t,i+1))&&(i+=2,o=!0),s+=e,u++;continue;case">"===e&&o:if(""===l||b(c,l))throw new S("Invalid capture group name");c[l]=!0,a[a.length]=[l,u],o=!1,l="";continue}o?l+=e:s+=e}return[s,a]};if(c("RegExp",B)){for(var U=function(t,e){var n,i,s,a,c,u,l=p(P,this),v=f(t),m=void 0===e,g=[],h=t;if(!l&&v&&m&&t.constructor===U)return t;if((v||p(P,t))&&(t=t.source,m&&(e="flags"in h?h.flags:O(h))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),h=t,y&&"dotAll"in W&&(i=!!e&&T(e,"s")>-1,i&&(e=R(e,/s/g,""))),n=e,$&&"sticky"in W&&(s=!!e&&T(e,"y")>-1,s&&J&&(e=R(e,/y/g,""))),x&&(a=F(t),t=a[0],g=a[1]),c=r(w(t,e),l?this:P,U),(i||s||g.length)&&(u=_(c),i&&(u.dotAll=!0,u.raw=U(M(t),n)),s&&(u.sticky=!0),g.length&&(u.groups=g)),t!==h)try{o(c,"source",""===h?"(?:)":h)}catch(b){}return c},Y=function(t){t in U||u(U,t,{configurable:!0,get:function(){return w[t]},set:function(e){w[t]=e}})},q=l(w),z=0;q.length>z;)Y(q[z++]);P.constructor=U,U.prototype=P,g(s,"RegExp",U)}k("RegExp")},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":3,"type":2,"name":"走兽"},{"class":2,"type":3,"name":"禽鸟"},{"class":4,"type":4,"name":"机关"}]')},"9b7f":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return p}));var i=n("41cb"),s=n("65c2"),a=n("bc3a"),c=n.n(a),r=Object(i["e"])();function o(t){return r.get("/pets",{params:t})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";return r.get("/pet/".concat(t),{params:{client:e}})}function l(t){var e=t.item_type,n=t.item_id,i=t.client,s=void 0===i?"std":i;return r.get("/shop",{params:{client:s,itemType:e,itemId:n}})}function p(){return c.a.get(s["__iconPath"]+"pvx/pet/output/pet_lucky.json")}},c607:function(t,e,n){var i=n("da84"),s=n("83ab"),a=n("fce3"),c=n("c6b6"),r=n("9bf2").f,o=n("69f3").get,u=RegExp.prototype,l=i.TypeError;s&&a&&r(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===c(this))return!!o(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},d889:function(t,e,n){"use strict";n("dd66")},dd66:function(t,e,n){},ea20:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6531e5e1.aa9bd8bc.js.map