(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88f94c82"],{"0703":function(t,e,a){"use strict";a("99af"),a("b0c0");var i,n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-author-header"},[e("div",{staticClass:"m-info"},[e("Avatar",{staticClass:"u-avatar",attrs:{uid:t.uid,url:t.avatar,size:t.avatarSize,frame:t.avatar_frame}}),e("div",{staticClass:"m-author-info"},[e("span",{staticClass:"u-name"},[e("span",[t._v(t._s(t.data.display_name))]),e("span",{staticClass:"u-uid"},[t._v("(UID : "+t._s(t.data.ID)+")")])]),e("div",{staticClass:"u-tips"},[e("el-tooltip",{attrs:{content:"当前经验 ".concat(t.data.experience||0),placement:"top"}},[e("span",{staticClass:"u-level",class:"lv-"+t.level,style:{backgroundColor:t.showLevelColor(t.level)}},[t._v("Lv."+t._s(t.level))])]),t.isPRO?e("el-tooltip",{attrs:{content:t.vipTypeTitle,placement:"top"}},[e("a",{staticClass:"u-vip",attrs:{href:"/vip/premium?from=user_homepage",target:"_blank"}},[e("i",{staticClass:"u-icon vip"},[t._v(t._s(t.vipType))])])]):t._e(),t.isSuperAuthor?e("el-tooltip",{attrs:{content:"签约作者",placement:"top"}},[e("span",{staticClass:"u-superauthor"},[e("i",{staticClass:"u-icon superauthor"},[t._v("签约作者")])])]):t._e()],1)])],1),e("div",{staticClass:"m-mark"},[e("span",{staticClass:"u-img"},[e("img",{attrs:{src:"".concat(t.img,"/decoration/images/").concat(t.userDefinedStyle.name,"/homebanner.png")}})])])])},s=[],o=a("ade3"),c=a("c7eb"),r=a("1da1"),l=(a("b64b"),a("e9c4"),a("f0d2")),u=a("65c2"),m=a("c9d2"),d="decoration_json_face",f="decoration_me_face",_=(i={name:"Author",props:["uid"],watch:{},data:function(){return{img:u["__imgPath"],avatarSize:"l",data:{},userDefinedStyle:{}}}},Object(o["a"])(i,"watch",{uid:{immediate:!0,handler:function(t){t&&this.loadData()}}}),Object(o["a"])(i,"computed",{avatar:function(){return this.data.user_avatar||""},avatar_frame:function(){return this.data.user_avatar_frame||""},isPRO:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.is_pro},isSuperAuthor:function(){var t;return!(null===(t=this.data)||void 0===t||!t.sign)},vipType:function(){return this.isPRO?"PRO":"PRE"},vipTypeTitle:function(){return this.isPRO?"专业版会员用户":"高级版会员用户"},level:function(){var t;return m["a"].getLevel((null===(t=this.data)||void 0===t?void 0:t.experience)||0)}}),Object(o["a"])(i,"methods",{loadData:function(){var t=this;Object(l["l"])(this.uid).then((function(e){t.data=e.data.data})),this.getDecorationStyle()},getDecorationStyle:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,i;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=sessionStorage.getItem(f+t.uid),!a){e.next=6;break}return i=JSON.parse(a),t.userDefinedStyle=i||{},console.log(t.userDefinedStyle),e.abrupt("return");case 6:return e.next=8,Object(l["d"])({using:1,user_id:t.uid,type:"homebg"}).then((function(e){var a=e.data.data[0];if(a){var i=sessionStorage.getItem(d);if(i){var n=JSON.parse(i)[a.val];t.userDefinedStyle=n}else Object(l["e"])().then((function(e){var i=e.data,n=JSON.parse(JSON.stringify(i[a.val]));sessionStorage.setItem(f+t.uid,JSON.stringify(n)),sessionStorage.setItem(d,JSON.stringify(i)),t.userDefinedStyle=n}))}}));case 8:case"end":return e.stop()}}),e)})))()},showLevelColor:function(t){return u["__userLevelColor"][t]}}),i),p=_,h=(a("7ffb"),a("2877")),v=Object(h["a"])(p,n,s,!1,null,null,null);e["a"]=v.exports},"0cfc":function(t,e,a){"use strict";var i=a("5530"),n=(a("99af"),a("9911"),function(){var t=this,e=t._self._c;return e("a",{directives:[{name:"reporter",rawName:"v-reporter",value:{data:Object(i["a"])({href:"/body/"+t.item.id},t.reporter),caller:"body_index"},expression:"{\n        data: {\n            href: '/body/' + item.id,\n            ...reporter,\n        },\n        caller: 'body_index',\n    }"}],class:["m-body-item m-face-item",{onlyPic:t.onlyPic,noName:t.noName}],attrs:{href:"".concat(t.link,"/").concat(t.item.id),target:"_blank"}},[e("div",{staticClass:"m-img"},[e("el-image",{staticClass:"u-pic",attrs:{src:t.showThumb(t.imgLink),fit:"cover"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticClass:"u-pic",attrs:{src:a("b43d")}})])]),e("div",{staticClass:"m-mark-left"},[t.item.star?e("i",{staticClass:"u-mark u-mark--star"},[t._v("编辑推荐")]):t._e(),t.item.is_unlimited?e("i",{staticClass:"u-mark u-mark--new"},[t._v("可新建")]):t._e()]),~~t.item.price_type&&t.item.price_count?e("i",{staticClass:"u-mark u-mark--pay"},[t._v("付费")]):t._e()],1),e("div",{staticClass:"m-op"},[e("div",{staticClass:"u-title"},[t._v(t._s(t.item.title))]),e("div",{staticClass:"m-author",on:{click:function(e){return e.stopPropagation(),t.onAuthorClick.apply(null,arguments)}}},[e("img",{staticClass:"u-avatar",attrs:{src:t.showAvatar(t.item.user_avatar),alt:t.author}}),e("span",{staticClass:"u-name"},[t._v(" "+t._s(t.item.author_name||"匿名")+" ")])])])])}),s=[],o=a("85e4"),c={name:"item",props:["item","reporter","onlyPic","noName"],data:function(){return{markmap:{newbie:"热门",advanced:"推荐",recommended:"精选"}}},computed:{author:function(){return this.item.display_name||"匿名"},imgLink:function(){var t;return null===(t=this.item.images)||void 0===t?void 0:t[0]},link:function(){return location.origin+"/body"}},methods:{showThumb:function(t){return Object(o["getThumbnail"])(t,360)},showAvatar:o["showAvatar"],onAuthorClick:function(){this.item.original||window.open(this.item.author_link,"_blank")}}},r=c,l=(a("268b"),a("2877")),u=Object(l["a"])(r,n,s,!1,null,null,null);e["a"]=u.exports},"0ecf":function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,n,s){var o=n.prototype;s.utc=function(t){var e={date:t,utc:!0,args:arguments};return new n(e)},o.utc=function(e){var a=s(this.toDate(),{locale:this.$L,utc:!0});return e?a.add(this.utcOffset(),t):a},o.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=o.parse;o.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),c.call(this,t)};var r=o.init;o.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var l=o.utcOffset;o.utcOffset=function(i,n){var s=this.$utils().u;if(s(i))return this.$u?0:s(this.$offset)?l.call(this):this.$offset;if("string"==typeof i&&(i=function(t){void 0===t&&(t="");var i=t.match(e);if(!i)return null;var n=(""+i[0]).match(a)||["-",0,0],s=n[0],o=60*+n[1]+ +n[2];return 0===o?0:"+"===s?o:-o}(i),null===i))return this;var o=Math.abs(i)<=16?60*i:i,c=this;if(n)return c.$offset=o,c.$u=0===i,c;if(0!==i){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(c=this.local().add(o+r,t)).$offset=o,c.$x.$localOffset=r}else c=this.utc();return c};var u=o.format;o.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,e)},o.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var m=o.toDate;o.toDate=function(t){return"s"===t&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var d=o.diff;o.diff=function(t,e,a){if(t&&this.$u===t.$u)return d.call(this,t,e,a);var i=this.local(),n=s(t).local();return d.call(i,n,e,a)}}}))},1093:function(t){t.exports=JSON.parse('{"std":{"nMajorVersion":1,"nVersion":5},"origin":{"nMajorVersion":2,"nVersion":2}}')},1953:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){"use strict";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(a,i,n){var s,o=function(t,a,i){void 0===i&&(i={});var n=new Date(t),s=function(t,a){void 0===a&&(a={});var i=a.timeZoneName||"short",n=t+"|"+i,s=e[n];return s||(s=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:i}),e[n]=s),s}(a,i);return s.formatToParts(n)},c=function(e,a){for(var i=o(e,a),s=[],c=0;c<i.length;c+=1){var r=i[c],l=r.type,u=r.value,m=t[l];m>=0&&(s[m]=parseInt(u,10))}var d=s[3],f=24===d?0:d,_=s[0]+"-"+s[1]+"-"+s[2]+" "+f+":"+s[4]+":"+s[5]+":000",p=+e;return(n.utc(_).valueOf()-(p-=p%1e3))/6e4},r=i.prototype;r.tz=function(t,e){void 0===t&&(t=s);var a=this.utcOffset(),i=this.toDate(),o=i.toLocaleString("en-US",{timeZone:t}),c=Math.round((i-new Date(o))/1e3/60),r=n(o,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-c,!0);if(e){var l=r.utcOffset();r=r.add(a-l,"minute")}return r.$x.$timezone=t,r},r.offsetName=function(t){var e=this.$x.$timezone||n.tz.guess(),a=o(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return a&&a.value};var l=r.startOf;r.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return l.call(this,t,e);var a=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return l.call(a,t,e).tz(this.$x.$timezone,!0)},n.tz=function(t,e,a){var i=a&&e,o=a||e||s,r=c(+n(),o);if("string"!=typeof t)return n(t).tz(o);var l=function(t,e,a){var i=t-60*e*1e3,n=c(i,a);if(e===n)return[i,e];var s=c(i-=60*(n-e)*1e3,a);return n===s?[i,n]:[t-60*Math.min(n,s)*1e3,Math.max(n,s)]}(n.utc(t,i).valueOf(),r,o),u=l[0],m=l[1],d=n(u).utcOffset(m);return d.$x.$timezone=o,d},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(t){s=t}}}))},"1a3a":function(t){t.exports=JSON.parse('{"CHEEK_Y":0,"CHEEK_Z":0,"EYEBOW_DIRC":0,"EYEBOW_OUT":0,"EYEBOW_POS":0,"EYECROW_Y":0,"EYE_DIRC":0,"EYE_DIST":0,"EYE_OPEN":0,"EYE_POS":0,"EYE_SIZE":0,"FACE_SCALE":0,"FACE_Y":0,"FACE_Z":0,"JAW_END":0,"JAW_LENGTH":0,"JAW_POS":0,"JAW_ROT":0,"JAW_WIDTH":0,"LOW_FACE":0,"LOW_LID_POS":0,"LOW_LIP":0,"LOW_LIP_OUT":0,"LOW_LIP_POS":0,"MOUTH_END":0,"MOUTH_END_L":0,"MOUTH_END_R":0,"MOUTH_OPEN":0,"MOUTH_OUT":0,"MOUTH_POS":0,"MOUTH_ROT":0,"MOUTH_SIZE":0,"NOSEBOW_BEND":0,"NOSEBOW_WIDTH":0,"NOSETOP_POS_Y":0,"NOSETOP_POS_Z":0,"NOSETOP_UP":0,"NOSETOP_WIDTH":0,"NOSE_HEIGHT":0,"NOSE_SIZE":0,"OUT":0,"PUPIL_DIRC":0,"PUPIL_SIZE":0,"RIDGE_Y":0,"UP_FACE":0,"UP_LID_POS":0,"UP_LIP":0,"UP_LIP_OUT":0,"UP_LIP_POS":0}')},"1b7b":function(t){t.exports=JSON.parse('{"b":"https://console.cnyixun.com/","a":"https://icon.jx3box.com/"}')},"1c81":function(t){t.exports=JSON.parse('{"eye":["OUT","EYE_POS","EYE_SIZE","EYE_DIRC","EYE_DIST","EYE_OPEN","EYEBOW_OUT","EYEBOW_DIRC","EYEBOW_POS","PUPIL_SIZE","PUPIL_DIRC","UP_LID_POS","LOW_LID_POS","EYECROW_Y","RIDGE_Y"],"mouth":["MOUTH_POS","MOUTH_SIZE","MOUTH_ROT","MOUTH_OPEN","MOUTH_OUT","MOUTH_END","UP_LIP","LOW_LIP","UP_LIP_OUT","LOW_LIP_OUT","UP_LIP_POS","LOW_LIP_POS","MOUTH_END_L","MOUTH_END_R"],"nose":["NOSE_SIZE","NOSE_HEIGHT","NOSETOP_POS_Z","NOSETOP_POS_Y","NOSETOP_WIDTH","NOSETOP_UP","NOSEBOW_WIDTH","NOSEBOW_BEND"],"face":["CHEEK_Y","CHEEK_Z","FACE_Y","FACE_Z","UP_FACE","LOW_FACE","FACE_SCALE","JAW_WIDTH","JAW_POS","JAW_LENGTH","JAW_END","JAW_ROT"],"decal":["BASE","IRIS_RIGHT","IRIS_LEFT","EYE_SHADOW","EYE_SHADOW1","EYE_SHADOW2","EYE_SHADOW3","EYE_SHADOW_FLASH1","EYE_SHADOW_FLASH2","EYE_SHADOW_FLASH3","EYE_LINE","BROW","BLUSHER_MOUSTACHE","LIP_GLOSS","LIP_FLASH","LIP_OVERLAP","EYE_LIGHT","DECAL"]}')},"24cf":function(t,e,a){"use strict";var i=a("5a0c"),n=a.n(i),s=a("0ecf"),o=a.n(s),c=a("1953"),r=a.n(c),l=a("83dc"),u=a.n(l),m=a("5e77d"),d=a.n(m);n.a.extend(o.a),n.a.extend(r.a),n.a.extend(d.a),n.a.extend(u.a);var f="Asia/Shanghai";n.a.tz.setDefault(f),e["a"]=n.a},"268b":function(t,e,a){"use strict";a("3143")},3143:function(t,e,a){},4222:function(t){t.exports=JSON.parse("{}")},"51eb":function(t,e,a){"use strict";var i=a("825a"),n=a("485a"),s=TypeError;t.exports=function(t){if(i(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new s("Incorrect hint");return n(this,t)}},"5b4e":function(t,e,a){},"5e77d":function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){"use strict";var t="day";return function(e,a,i){var n=function(e){return e.add(4-e.isoWeekday(),t)},s=a.prototype;s.isoWeekYear=function(){return n(this).year()},s.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var a,s,o,c,r=n(this),l=(a=this.isoWeekYear(),s=this.$u,o=(s?i.utc:i)().year(a).startOf("year"),c=4-o.isoWeekday(),o.isoWeekday()>4&&(c+=7),o.add(c,t));return r.diff(l,"week")+1},s.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var o=s.startOf;s.startOf=function(t,e){var a=this.$utils(),i=!!a.u(e)||e;return"isoweek"===a.p(t)?i?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(t,e)}}}))},6965:function(t){t.exports=JSON.parse("{}")},7135:function(t){t.exports=JSON.parse('{"1":{"0":{"min":-128,"max":116},"1":{"min":-15,"max":33},"2":{"min":-128,"max":126},"3":{"min":-112,"max":67},"4":{"min":-107,"max":126},"5":{"min":-128,"max":126},"6":{"min":-119,"max":57},"7":{"min":-36,"max":126},"8":{"min":-128,"max":126},"9":{"min":-39,"max":21},"10":{"min":-105,"max":38},"11":{"min":-69,"max":126},"12":{"min":-92,"max":105},"13":{"min":-128,"max":20},"14":{"min":-128,"max":20},"15":{"min":-66,"max":33},"16":{"min":-67,"max":126},"17":{"min":-128,"max":127},"18":{"min":-128,"max":126},"19":{"min":-76,"max":55},"20":{"min":-23,"max":13},"21":{"min":-27,"max":55},"22":{"min":-10,"max":10},"23":{"min":-20,"max":20},"24":{"min":-78,"max":10},"25":{"min":-32,"max":56},"26":{"min":-69,"max":10},"27":{"min":-39,"max":97},"28":{"min":-36,"max":21},"29":{"min":-6,"max":25},"30":{"min":-32,"max":25},"31":{"min":-29,"max":89},"32":{"min":-22,"max":22},"33":{"min":-22,"max":22},"34":{"min":-128,"max":10},"35":{"min":-46,"max":15},"36":{"min":-25,"max":18},"37":{"min":-42,"max":32},"38":{"min":-5,"max":40},"39":{"min":-28,"max":32},"40":{"min":-85,"max":126},"41":{"min":-61,"max":90},"42":{"min":-78,"max":41},"43":{"min":-96,"max":18},"44":{"min":-53,"max":15},"45":{"min":-10,"max":95},"46":{"min":-28,"max":87},"47":{"min":-128,"max":65},"48":{"min":-63,"max":49}},"2":{"0":{"min":-70,"max":32},"1":{"min":-51,"max":45},"2":{"min":-93,"max":67},"3":{"min":-105,"max":97},"4":{"min":-128,"max":126},"5":{"min":-59,"max":126},"6":{"min":-72,"max":25},"7":{"min":-74,"max":125},"8":{"min":-128,"max":93},"9":{"min":-47,"max":26},"10":{"min":-29,"max":84},"11":{"min":-53,"max":48},"12":{"min":-124,"max":91},"13":{"min":-118,"max":20},"14":{"min":-128,"max":50},"15":{"min":-92,"max":46},"16":{"min":-51,"max":103},"17":{"min":-123,"max":126},"18":{"min":-128,"max":126},"19":{"min":-6,"max":56},"20":{"min":-10,"max":59},"21":{"min":-65,"max":27},"22":{"min":-10,"max":10},"23":{"min":-29,"max":46},"24":{"min":-44,"max":71},"25":{"min":-54,"max":23},"26":{"min":-69,"max":40},"27":{"min":-54,"max":40},"28":{"min":-89,"max":22},"29":{"min":-61,"max":22},"30":{"min":-96,"max":48},"31":{"min":-88,"max":82},"32":{"min":-19,"max":19},"33":{"min":-19,"max":19},"34":{"min":-66,"max":40},"35":{"min":-54,"max":11},"36":{"min":-16,"max":36},"37":{"min":-51,"max":24},"38":{"min":-17,"max":21},"39":{"min":-16,"max":44},"40":{"min":-10,"max":18},"41":{"min":-25,"max":60},"42":{"min":-39,"max":40},"43":{"min":-29,"max":126},"44":{"min":-29,"max":18},"45":{"min":-53,"max":45},"46":{"min":-44,"max":41},"47":{"min":-86,"max":56},"48":{"min":-39,"max":20}},"5":{"0":{"min":-128,"max":82},"1":{"min":-15,"max":34},"2":{"min":-80,"max":70},"3":{"min":-95,"max":71},"4":{"min":-105,"max":127},"5":{"min":-128,"max":127},"6":{"min":-50,"max":65},"7":{"min":-47,"max":126},"8":{"min":-84,"max":46},"9":{"min":-40,"max":38},"10":{"min":-115,"max":61},"11":{"min":-65,"max":67},"12":{"min":-128,"max":109},"13":{"min":-128,"max":10},"14":{"min":-128,"max":33},"15":{"min":-42,"max":36},"16":{"min":-67,"max":126},"17":{"min":-128,"max":127},"18":{"min":-128,"max":126},"19":{"min":-61,"max":72},"20":{"min":-72,"max":27},"21":{"min":-50,"max":74},"22":{"min":-10,"max":10},"23":{"min":-17,"max":7},"24":{"min":-50,"max":6},"25":{"min":-40,"max":61},"26":{"min":-51,"max":74},"27":{"min":-31,"max":97},"28":{"min":-36,"max":23},"29":{"min":-5,"max":60},"30":{"min":-38,"max":48},"31":{"min":-10,"max":89},"32":{"min":-22,"max":33},"33":{"min":-22,"max":33},"34":{"min":-85,"max":10},"35":{"min":-63,"max":33},"36":{"min":-10,"max":38},"37":{"min":-91,"max":38},"38":{"min":-10,"max":25},"39":{"min":-28,"max":32},"40":{"min":-85,"max":59},"41":{"min":-128,"max":127},"42":{"min":-128,"max":44},"43":{"min":-66,"max":49},"44":{"min":-43,"max":15},"45":{"min":-36,"max":95},"46":{"min":-28,"max":71},"47":{"min":-128,"max":46},"48":{"min":-63,"max":101}},"6":{"0":{"min":-116,"max":36},"1":{"min":-32,"max":33},"2":{"min":-80,"max":65},"3":{"min":-62,"max":22},"4":{"min":-128,"max":126},"5":{"min":-44,"max":127},"6":{"min":-53,"max":18},"7":{"min":-43,"max":39},"8":{"min":-24,"max":76},"9":{"min":-46,"max":26},"10":{"min":-51,"max":48},"11":{"min":-43,"max":52},"12":{"min":-128,"max":51},"13":{"min":-29,"max":37},"14":{"min":-80,"max":33},"15":{"min":-92,"max":18},"16":{"min":-24,"max":126},"17":{"min":-128,"max":25},"18":{"min":-40,"max":126},"19":{"min":-53,"max":24},"20":{"min":-17,"max":59},"21":{"min":-66,"max":18},"22":{"min":-10,"max":10},"23":{"min":-29,"max":32},"24":{"min":-29,"max":42},"25":{"min":-38,"max":22},"26":{"min":-48,"max":33},"27":{"min":-62,"max":23},"28":{"min":-28,"max":33},"29":{"min":-29,"max":32},"30":{"min":-53,"max":14},"31":{"min":-73,"max":40},"32":{"min":-33,"max":33},"33":{"min":-33,"max":33},"34":{"min":-85,"max":20},"35":{"min":-78,"max":6},"36":{"min":-16,"max":23},"37":{"min":-53,"max":38},"38":{"min":-4,"max":27},"39":{"min":-25,"max":28},"40":{"min":-3,"max":5},"41":{"min":-63,"max":83},"42":{"min":-48,"max":27},"43":{"min":-62,"max":91},"44":{"min":-43,"max":18},"45":{"min":-36,"max":61},"46":{"min":-25,"max":56},"47":{"min":-74,"max":46},"48":{"min":-57,"max":112}}}')},"75c1":function(t,e,a){"use strict";a("a6d7")},"7ffb":function(t,e,a){"use strict";a("c886")},8172:function(t,e,a){"use strict";var i=a("e065"),n=a("57b9");i("toPrimitive"),n()},"84c2":function(t){t.exports=JSON.parse('{"a":{"1":"成男","2":"成女","5":"正太","6":"萝莉"}}')},"8b31":function(t,e,a){},a009:function(t){t.exports=JSON.parse('{"OUT":{"type":34,"desc":"眼睛凸出"},"EYE_POS":{"type":35,"desc":"眼睛位置"},"EYE_SIZE":{"type":36,"desc":"眼睛大小"},"EYE_DIRC":{"type":37,"desc":"眼睛倾斜"},"EYE_DIST":{"type":38,"desc":"眼睛间距"},"EYE_OPEN":{"type":39,"desc":"眼睛开合"},"EYEBOW_OUT":{"type":40,"desc":"眉骨凸出"},"EYEBOW_DIRC":{"type":41,"desc":"眉毛倾斜"},"EYEBOW_POS":{"type":42,"desc":"眉毛高度"},"PUPIL_SIZE":{"type":43,"desc":"瞳孔大小"},"PUPIL_DIRC":{"type":44,"desc":"瞳孔位置"},"UP_LID_POS":{"type":45,"desc":"上眼睑高度"},"LOW_LID_POS":{"type":46,"desc":"下眼睑高度"},"EYECROW_Y":{"type":47,"desc":"外眼角倾斜"},"RIDGE_Y":{"type":48,"desc":"内眼角倾斜"},"MOUTH_POS":{"desc":"嘴巴位置","type":20},"MOUTH_SIZE":{"desc":"嘴巴大小","type":21},"MOUTH_ROT":{"desc":"下颚倾斜","type":22},"MOUTH_OPEN":{"desc":"嘴唇开合","type":23},"MOUTH_OUT":{"desc":"嘴巴凸出","type":24},"MOUTH_END":{"desc":"嘴角位置","type":25},"UP_LIP":{"desc":"上唇厚度","type":26},"LOW_LIP":{"desc":"下唇厚度","type":27},"UP_LIP_OUT":{"desc":"上唇凸出","type":28},"LOW_LIP_OUT":{"desc":"下唇凸出","type":29},"UP_LIP_POS":{"desc":"上唇位置","type":30},"LOW_LIP_POS":{"desc":"下唇位置","type":31},"MOUTH_END_L":{"desc":"左嘴角高度","type":32},"MOUTH_END_R":{"desc":"右嘴角高度","type":33},"NOSE_SIZE":{"desc":"鼻子大小","type":12},"NOSE_HEIGHT":{"desc":"鼻子高度","type":13},"NOSETOP_POS_Z":{"desc":"鼻头高度","type":14},"NOSETOP_POS_Y":{"desc":"鼻头位置","type":15},"NOSETOP_WIDTH":{"desc":"鼻头宽度","type":16},"NOSETOP_UP":{"desc":"鼻尖弯度","type":17},"NOSEBOW_WIDTH":{"desc":"鼻梁宽度","type":18},"NOSEBOW_BEND":{"desc":"鼻梁高度","type":19},"CHEEK_Y":{"desc":"颧骨位置","type":0},"CHEEK_Z":{"desc":"颧骨凸出","type":1},"FACE_Y":{"desc":"脸颊宽度","type":2},"FACE_Z":{"desc":"脸颊高度","type":3},"UP_FACE":{"desc":"上脸宽度","type":4},"LOW_FACE":{"desc":"下脸宽度","type":5},"FACE_SCALE":{"desc":"脸蛋丰满","type":6},"JAW_WIDTH":{"desc":"下巴宽度","type":7},"JAW_POS":{"desc":"下巴位置","type":8},"JAW_LENGTH":{"desc":"下巴长度","type":9},"JAW_END":{"desc":"下巴尖宽度","type":10},"JAW_ROT":{"desc":"下巴凸出","type":11},"BASE":{"desc":"面部皮肤","type":0},"IRIS_RIGHT":{"desc":"右瞳","type":1},"IRIS_LEFT":{"desc":"左瞳","type":2},"EYE_SHADOW":{"desc":"眼影","type":3},"EYE_SHADOW1":{"desc":"眼影·底","type":13},"EYE_SHADOW2":{"desc":"眼影·叠","type":14},"EYE_SHADOW3":{"desc":"眼影·晕","type":15},"EYE_SHADOW4":{"desc":"测试眼影4","type":16},"EYE_SHADOW_FLASH1":{"desc":"闪点·底","type":17},"EYE_SHADOW_FLASH2":{"desc":"闪点·叠","type":18},"EYE_SHADOW_FLASH3":{"desc":"闪点·晕","type":19},"EYE_SHADOW_FLASH4":{"desc":"测试闪点4","type":20},"EYE_LINE":{"desc":"眼线","type":4},"BROW":{"desc":"眉毛","type":5},"BLUSHER_MOUSTACHE":{"desc":"腮红和胡须","type":6},"LIP_GLOSS":{"desc":"唇形","type":7},"LIP_FLASH":{"desc":"闪粉","type":10},"LIP_LIGHT":{"desc":"叠涂","type":11},"LIP_OVERLAP":{"desc":"叠涂","type":12},"EYE_LIGHT":{"desc":"眼神光","type":8},"DECAL":{"desc":"贴花","type":9}}')},a0b6:function(t,e,a){t.exports=a.p+"img/box.44b43359.svg"},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("e330"),s=a("44ad"),o=a("fc6a"),c=a("a640"),r=n([].join),l=s!==Object,u=l||!c("join",",");i({target:"Array",proto:!0,forced:u},{join:function(t){return r(o(this),void 0===t?",":t)}})},a478:function(t,e,a){"use strict";a.r(e);a("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"p-face-single"},[e("div",{staticClass:"m-navigation"},[e("el-button",{staticClass:"u-goback",attrs:{size:"medium",plain:""},on:{click:t.goBack}},[t._v("返回列表")]),e("div",{staticClass:"u-right-btn"},[t.isSinglePage&&t.isEditor?e("div",{staticClass:"u-op m-face-btn-box"},[e("div",{staticClass:"m-face-btn-box"},[e("el-button",{staticClass:"u-btn",class:t.isStar?"off":"on",attrs:{type:"danger",icon:t.isStar?"el-icon-star-on":"el-icon-star-off",size:"medium"},on:{click:t.starSet}},[t._v(" "+t._s(t.starText)+" ")]),e("el-button",{staticClass:"u-btn",class:1!==t.status?"top":"bottom",attrs:{type:"danger",icon:1!==t.status?"el-icon-top":"el-icon-bottom",size:"medium"},on:{click:t.statusSet}},[t._v(" "+t._s(t.statusText)+" ")])],1)]):t._e(),e("div",{staticClass:"m-face-btn-box"},[e("a",{attrs:{href:t.publish_link}},[e("el-button",{staticClass:"u-publish u-btn",attrs:{type:"primary",size:"medium",icon:"el-icon-edit"}},[t._v("发布")])],1)])])],1),e("div",{staticClass:"m-header"},[e("div",{staticClass:"m-header-info"},[e("h2",[t._v(t._s(t.post.title||"无标题"))]),e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-avatar",attrs:{src:t.showAvatar(t.post.user_avatar),alt:t.post.user_avatar_frame}}),t.post.original?e("a",{staticClass:"u-name",attrs:{href:t.authorLink(t.post.user_id),target:"_blank"}},[t._v(t._s(t.post.display_name))]):t.post.author_link?e("a",{staticClass:"u-name",attrs:{href:t.post.author_link,target:"_blank"}},[t._v(t._s(t.post.author_name))]):e("span",{staticClass:"u-name"},[t._v(t._s(t.post.author_name))]),e("time",{staticClass:"u-time"},[t._v(t._s(t.post.updated_at))]),t.canEdit?e("a",{staticClass:"u-edit",attrs:{href:t.editLink("face",t.post.id),target:"_blank"}},[e("i",{staticClass:"el-icon-edit-outline u-edit-icon"}),t._v(" 编辑 ")]):t._e()]),e("div",{staticClass:"u-meta"},[t.post.star?e("i",{staticClass:"u-mark"},[t._v("★ 编辑推荐")]):t._e(),t.post.is_fr?e("i",{staticClass:"u-fr"},[t._v("首发")]):t._e(),t.post.original?e("i",{staticClass:"u-original"},[t._v("原创")]):t._e(),e("i",{staticClass:"u-client",class:t.post.client||"std"},[t._v(t._s(t.showClientLabel(t.post.client)))]),t.post.body_type?e("i",{staticClass:"u-bodytype",class:"u-bodytype-"+t.post.body_type},[t._v(t._s(t.showBodyTypeLabel(t.post.body_type)))]):t._e()])]),t.topicText?e("a",{staticClass:"m-topic",attrs:{href:t.tvLink,target:"_blank"}},[t._v(t._s(t.topicText))]):t._e()]),e("div",{staticClass:"m-face-content"},[t.previewSrcList&&t.previewSrcList.length>0?e("div",{staticClass:"m-single-pics m-single-content-box"},[e("div",{staticClass:"u-bg-wrap"},[e("div",{staticClass:"u-bg",style:{backgroundImage:"url(".concat(t.showPic(t.activePic),")")}})]),e("el-carousel",{staticClass:"m-carousel",attrs:{interval:4e3,type:"card",arrow:"always"},on:{change:t.carouselChange}},t._l(t.previewSrcList,(function(a,i){return e("el-carousel-item",{key:i},[e("div",{staticClass:"m-face-pic"},[e("el-image",{ref:"previewImage",refInFor:!0,staticClass:"u-pic",attrs:{fit:"contain",src:t.showPic(a),"preview-src-list":t.resolveImageArr(t.previewSrcList)},on:{"!click":function(e){return t.handlePreviewImage(i)}}})],1)])})),1)],1):t._e(),t.post.price_type&&0!=t.post.price_type&&!t.has_buy?e("div",{staticClass:"m-face-pay"},[e("div",{staticClass:"m-face-pay-info"},[e("span",{staticClass:"u-text"},[t._v("该脸型数据售价：")]),e("el-tag",{attrs:{effect:"dark",color:"#ffad31",round:""}},[1==t.post.price_type?e("span",[t._v(t._s(t.post.price_count)+" 盒币")]):t._e(),2==t.post.price_type?e("span",[t._v(t._s(t.post.price_count)+" 金箔")]):t._e()]),e("el-button",{staticClass:"u-btn",attrs:{type:"primary",size:"small",icon:"el-icon-shopping-cart-2",loading:t.payBtnLoading},on:{click:t.facePay}},[t._v(" 购买 ")])],1),e("img",{staticClass:"u-box-img",attrs:{src:a("a0b6"),alt:""}})]):t._e()]),t.post.remark?e("div",{staticClass:"m-desc"},[e("h3",[t._v("说明")]),t.post.remark?e("div",{staticClass:"u-desc"},[t._v(t._s(t.post.remark))]):t._e()]):t._e(),t.has_buy&&t.facedata?e("div",{staticClass:"m-single-data"},[e("h3",[t._v("独家数据分析")]),t.facedata?e("facedata",{staticClass:"m-single-content-box",attrs:{data:t.facedata,type:"face"}}):t._e()],1):t._e(),t.has_buy&&t.downFileList&&t.downFileList.length>0?e("div",{staticClass:"m-face-files m-single-content-box"},[e("h3",[t._v("原始文件列表")]),e("div",{staticClass:"m-single-content-box"},[e("ul",{staticClass:"m-face-files-list"},t._l(t.downFileList,(function(a){return e("li",{key:a.id},[e("div",[e("span",{staticClass:"u-label"},[t._v("名称: "),e("em",[t._v(t._s(a.name))])]),e("span",{staticClass:"u-label"},[t._v("版本 : "),e("em",[t._v(t._s(a.created_at))])]),a.describe?e("span",{staticClass:"u-label"},[t._v("备注 ： "),e("em",[t._v(t._s(a.describe))])]):t._e()]),e("el-button",{staticClass:"u-action",attrs:{icon:"el-icon-download",size:"mini",type:"primary",round:""},on:{click:function(e){return t.getDownUrl(a.uuid)}}},[t._v("下载")])],1)})),0)])]):t._e(),e("div",{staticClass:"m-random-list"},[e("h3",[t._v("作者其他作品")]),t.randomList.length?e("div",{staticClass:"u-list m-single-content-box"},t._l(t.randomList,(function(t){return e("faceItem",{key:t.id,attrs:{item:t,noName:!0}})})),1):e("span",{staticClass:"u-list-null m-single-content-box"},[t._v("· 作者没有更多作品了 ·")])]),e("authorItem",{attrs:{uid:t.post.user_id}}),e("Thx",{staticClass:"m-thx m-single-content-box",attrs:{postId:t.id,postType:"face",postTitle:t.post.title||"无标题",userId:t.post.user_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,client:t.post.client}}),e("div",{staticClass:"m-single-content-box"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("讨论")]),e("Comment",{attrs:{id:t.id,category:"face"}})],1)],1)},n=[],s=(a("b64b"),a("caad"),a("14d9"),a("ac1f"),a("841c"),a("d3b7"),a("4e82"),a("d81d"),a("f0d2")),o=a("85e4"),c=a("9616"),r=a("e0bb"),l=a("23d8"),u=a("c9d2"),m=a("84c2"),d=a("65c2"),f=a("24cf"),_=(a("0cfc"),a("cb31")),p=a("0703"),h=["single"],v={name:"single",components:{facedata:r["a"],Comment:l["a"],faceItem:_["a"],authorItem:p["a"]},data:function(){return{loading:!1,search:"",post:{},stat:{},has_buy:!1,client_map:d["__clients"],downFileList:[],downloadParams:{pageIndex:1,pageSize:10,total:0},payBtnLoading:!1,randomList:[],carouselActive:0,isEditor:u["a"].isEditor(),topic_info:null,face:{},pvxbodyList:[]}},computed:{publish_link:function(){return Object(o["publishLink"])("face")},id:function(){return~~this.$route.params.id},isAuthor:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.user_id)==u["a"].getInfo().uid||!1},facedata:function(){var t,e=(null===(t=this.post)||void 0===t?void 0:t.data)||"";return e.indexOf("\\")>-1?JSON.parse(e):e},previewSrcList:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.images)||[]},canEdit:function(){var t;return u["a"].isEditor()||(null===(t=this.post)||void 0===t?void 0:t.user_id)==u["a"].getInfo().uid},activePic:function(){return this.previewSrcList[this.carouselActive]},isSinglePage:function(){return h.includes(this.$route.name)},status:function(){var t;return(null===(t=this.$store.state.faceSingle)||void 0===t?void 0:t.status)||1},statusText:function(){return 1!==this.status?"上架":"下架"},isStar:function(){var t;return(null===(t=this.$store.state.faceSingle)||void 0===t?void 0:t.star)||0},starText:function(){return this.isStar?"取消精选":"精选"},topicText:function(){return this.topic_info?"".concat(f["a"].tz(this.topic_info.created_at).format("YYYY年MM月DD日"),"荣登头条"):""},tvLink:function(){return d["__Root"]+"index/tv"}},created:function(){this.getData()},methods:{imgLink:function(t){return(null===t||void 0===t?void 0:t[0])||d["__imgPath"]+"image/face/null2.png"},showAvatar:function(t){return Object(o["showAvatar"])(t,"l")},showThumbnail:function(t){return Object(o["resolveImagePath"])(t)},authorLink:o["authorLink"],editLink:o["editLink"],getFaceList:function(){this.$router.push({name:"list",query:{title:this.search}})},goBack:function(){document.title="捏脸分享 - JX3BOX",this.$router.push({name:"list"})},showClientLabel:function(t){return this.client_map[t]},showBodyTypeLabel:function(t){return m["a"][t]},carouselChange:function(t){this.carouselActive=t},handlePreviewImage:function(t){var e=this;setTimeout((function(){var a=e.$refs.previewImage[t].$children[0];a&&a.reset(),a&&(a.index=t)}),0)},getData:function(){var t=this;this.id&&(this.loading=!0,Object(s["h"])(this.id).then((function(e){t.post=t.$store.state.faceSingle=e.data.data,document.title=t.post.title,t.getAccessoryList(),t.getRandomFaceList(),t.getRandomList(),t.getSliders()})).catch((function(e){t.loading=!1})),Object(c["a"])("face",this.id).then((function(e){t.stat=e.data})),Object(c["b"])("face",this.id))},downloadPageQuery:function(t){this.downloadParams.pageIndex=t,this.getAccessoryList()},getAccessoryList:function(){var t=this;Object(s["c"])(this.id,this.downloadParams).then((function(e){var a=e.data.data;t.has_buy=a.has_buy,a.has_buy&&(t.downFileList=a.list,t.downloadParams.total=a.page.total)})).finally((function(){t.loading=!1}))},getDownUrl:function(t){Object(s["f"])(this.id,t).then((function(t){var e;window.location.href=Object(o["resolveImagePath"])(null===(e=t.data.data)||void 0===e?void 0:e.url)}))},facePay:function(){var t=this;u["a"].isLogin()?this.$confirm("确认购买此捏脸？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.post,a={postType:"face",PostId:e.id,priceType:e.price_type,priceCount:e.price_count,accessUserId:e.user_id,payUserId:u["a"].getInfo().uid};t.payBtnLoading=!0,Object(s["p"])(a).then((function(e){var a=e.data.data.id,i=setInterval(Object(s["m"])(a).then((function(e){t.getPayFaceStatus(e.data.data.pay_status,i)}),1e3))})).catch((function(e){var a,i;40019==(null===(a=e.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.code)&&t.$confirm("余额不足，是否前往充值？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.open("/vip/cny","_blank")})).catch((function(){}))})).finally((function(){t.payBtnLoading=!1}))})).catch((function(){})):u["a"].toLogin()},getPayFaceStatus:function(t,e){1==t?(this.payBtnLoading=!1,clearInterval(e),this.getData(),this.$notify.success({title:"成功",message:"购买成功"})):2==t&&(this.payBtnLoading=!1,clearInterval(e),this.$notify.error({title:"失败",message:"支付失败"}))},getRandomFaceList:function(){var t=this,e=this.post.user_id;Object(s["i"])({user_id:e,limit:8}).then((function(e){e.data.data.list&&e.data.data.list.length>0&&(t.randomList=e.data.data.list)}))},getRandomList:function(){var t=this,e=this.post,a=e.body_type,i=e.client,n=e.user_id;Object(s["j"])({body_type:a,client:i,user_id:n,limit:8}).then((function(e){var a=e.data.data,i=a.face,n=a.pvxbodyList;t.face=i,t.pvxbodyList=n||[]}))},showPic:function(t){return Object(o["resolveImagePath"])(t)},starSet:function(){var t=this;this.$confirm("确认"+(this.isStar?"取消精选":"精选")+"该捏脸？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(e,a,i){"confirm"===e?(a.confirmButtonLoading=!0,t.isStar?Object(s["a"])(t.id).then((function(){t.$store.state.faceSingle.star=0,i(),t.$notify({title:"成功",message:"取消精选成功",type:"success"})})).finally((function(){a.confirmButtonLoading=!1})):Object(s["r"])(t.id).then((function(){t.$store.state.faceSingle.star=1,i(),t.$notify({title:"成功",message:"精选成功",type:"success"})})).finally((function(){a.confirmButtonLoading=!1}))):(a.confirmButtonLoading=!1,i())}})},statusSet:function(){var t=this;this.$confirm("确认"+(1==this.status?"下架":"上架")+"该捏脸？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(e,a,i){"confirm"===e?(a.confirmButtonLoading=!0,1==t.status?Object(s["n"])(t.id,t.isEditor).then((function(){t.$store.state.faceSingle.status=2,i(),t.$notify({title:"成功",message:"下架成功",type:"success"})})).finally((function(){a.confirmButtonLoading=!1})):Object(s["o"])(t.id,t.isEditor).then((function(){t.$store.state.faceSingle.status=1,i(),t.$notify({title:"成功",message:"上架成功",type:"success"})})).finally((function(){a.confirmButtonLoading=!1}))):(a.confirmButtonLoading=!1,i())}})},getSliders:function(){var t=this;Object(s["k"])("slider",this.post.client,10,this.post.id).then((function(e){var a;if(null!==(a=e.data.data)&&void 0!==a&&a.list){var i=e.data.data.list.sort((function(t,e){return f["a"].tz(e.created_at).isAfter(f["a"].tz(t.created_at))?1:-1}));t.topic_info=i[0]}}))},resolveImageArr:function(t){return t.map((function(t){return Object(o["resolveImagePath"])(t)}))}}},y=v,g=(a("e34d"),a("2877")),b=Object(g["a"])(y,i,n,!1,null,null,null);e["default"]=b.exports},a6d7:function(t,e,a){},ade3:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var i=a("53ca");a("8172"),a("efec"),a("a4d3"),a("e01a"),a("d3b7"),a("d9e2"),a("a9e3");function n(t,e){if("object"!==Object(i["a"])(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==Object(i["a"])(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t){var e=n(t,"string");return"symbol"===Object(i["a"])(e)?e:String(e)}function o(t,e,a){return e=s(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},b43d:function(t,e,a){t.exports=a.p+"img/body_null.bb04768a.png"},b9cd:function(t){t.exports=JSON.parse('{"std":["BASE","IRIS_RIGHT","IRIS_LEFT","EYE_SHADOW","EYE_SHADOW1","EYE_SHADOW2","EYE_SHADOW3","EYE_SHADOW_FLASH1","EYE_SHADOW_FLASH2","EYE_SHADOW_FLASH3","EYE_LINE","BROW","BLUSHER_MOUSTACHE","LIP_GLOSS","LIP_FLASH","LIP_OVERLAP","EYE_LIGHT","DECAL"],"origin":["BASE","IRIS_RIGHT","IRIS_LEFT","EYE_SHADOW","EYE_LINE","BROW","BLUSHER_MOUSTACHE","LIP_GLOSS","EYE_LIGHT","DECAL"]}')},c886:function(t,e,a){},cb31:function(t,e,a){"use strict";var i=a("5530"),n=(a("99af"),a("9911"),function(){var t=this,e=t._self._c;return e("a",{directives:[{name:"reporter",rawName:"v-reporter",value:{data:Object(i["a"])({href:"/face/"+t.item.id},t.reporter),caller:"face_index"},expression:"{ data: { href: '/face/' + item.id, ...reporter }, caller: 'face_index' }"}],class:["m-face-item",{noName:t.noName}],attrs:{href:"".concat(t.link,"/").concat(t.item.id),target:"_blank"}},[e("div",{staticClass:"m-img"},[e("img",{staticClass:"u-pic",attrs:{src:t.showThumb(t.imgLink),loading:"lazy"}}),e("div",{staticClass:"m-mark-left"},[t.item.star?e("i",{staticClass:"u-mark u-mark--star"},[t._v("编辑推荐")]):t._e(),t.item.is_unlimited?e("i",{staticClass:"u-mark u-mark--new"},[t._v("可新建")]):t._e()]),~~t.item.price_type&&t.item.price_count?e("i",{staticClass:"u-mark u-mark--pay"},[t._v("付费")]):t._e()]),e("div",{staticClass:"m-op"},[e("div",{staticClass:"u-title"},[t._v(t._s(t.item.title))]),e("div",{staticClass:"m-author",on:{click:function(e){return e.stopPropagation(),t.onAuthorClick.apply(null,arguments)}}},[e("img",{staticClass:"u-avatar",attrs:{src:t.showAvatar(t.item.user_avatar),alt:t.author}}),e("span",{staticClass:"u-name"},[t._v(" "+t._s(t.item.author_name||"匿名")+" ")])])])])}),s=[],o=(a("caad"),a("2532"),a("65c2")),c=a("85e4"),r={name:"faceItem",props:["item","reporter","noName"],data:function(){return{markmap:{newbie:"热门",advanced:"推荐",recommended:"精选"}}},computed:{author:function(){return this.item.display_name||"匿名"},imgLink:function(){var t;return(null===(t=this.item.images)||void 0===t?void 0:t[0])||o["__imgPath"]+"image/face/null2.png"},client:function(){return location.href.includes("origin")?"origin":"std"},link:function(){return location.origin+"/face"}},methods:{showThumb:function(t){return Object(c["getThumbnail"])(t,360)},showAvatar:c["showAvatar"],onAuthorClick:function(){this.item.original||window.open(this.item.author_link,"_blank")}}},l=r,u=(a("75c1"),a("2877")),m=Object(u["a"])(l,n,s,!1,null,null,null);e["a"]=m.exports},cc70:function(t,e,a){"use strict";a("8b31")},cd54:function(t){t.exports=JSON.parse('{"std":["nColorID","nShowID","bUse","fValue1","fValue2","fValue3"],"origin":["nColorID","nShowID"]}')},dff1:function(t){t.exports=JSON.parse('{"EYE_SHADOW_FLASH2":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_SHADOW1":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"LIP_LIGHT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"BLUSHER_MOUSTACHE":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_LINE":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW_FLASH1":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"DECAL":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"BROW":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_LIGHT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"LIP_FLASH":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_SHADOW4":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"IRIS_RIGHT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"IRIS_LEFT":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW2":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"BASE":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW_FLASH3":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"LIP_GLOSS":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":1,"fValue2":1},"EYE_SHADOW_FLASH4":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"EYE_SHADOW3":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1},"LIP_OVERLAP":{"fValue1":0,"nColorID":0,"bUse":false,"fValue3":1,"nShowID":0,"fValue2":1}}')},e0bb:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return t.ready?e("div",{staticClass:"c-facedat"},[e("el-tabs",{staticClass:"c-facedat-preivew",attrs:{type:t.tab_type},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("el-tab-pane",{attrs:{label:"眼部轮廓",name:"eye"}},[e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-list"},t._l(t.group["eye"],(function(a,i){return e("li",{key:a+i},[e("label",[t._v(t._s(t.dict[a]["desc"]))]),e("span",[t._v(t._s(t.facedata["tBone"][a]))]),e("el-slider",{staticClass:"u-range",attrs:{min:t.bone_range[t.body_type][t.dict[a]["type"]]["min"],max:t.bone_range[t.body_type][t.dict[a]["type"]]["max"],disabled:t.lock},model:{value:t.facedata["tBone"][a],callback:function(e){t.$set(t.facedata["tBone"],a,e)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),e("el-tab-pane",{attrs:{label:"嘴部轮廓",name:"mouth"}},[e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-list"},t._l(t.group["mouth"],(function(a,i){return e("li",{key:a+i},[e("label",[t._v(t._s(t.dict[a]["desc"]))]),e("span",[t._v(t._s(t.facedata["tBone"][a]))]),e("el-slider",{staticClass:"u-range",attrs:{min:t.bone_range[t.body_type][t.dict[a]["type"]]["min"],max:t.bone_range[t.body_type][t.dict[a]["type"]]["max"],disabled:t.lock},model:{value:t.facedata["tBone"][a],callback:function(e){t.$set(t.facedata["tBone"],a,e)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),e("el-tab-pane",{attrs:{label:"鼻子轮廓",name:"nose"}},[e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-list"},t._l(t.group["nose"],(function(a,i){return e("li",{key:a+i},[e("label",[t._v(t._s(t.dict[a]["desc"]))]),e("span",[t._v(t._s(t.facedata["tBone"][a]))]),e("el-slider",{staticClass:"u-range",attrs:{min:t.bone_range[t.body_type][t.dict[a]["type"]]["min"],max:t.bone_range[t.body_type][t.dict[a]["type"]]["max"],disabled:t.lock},model:{value:t.facedata["tBone"][a],callback:function(e){t.$set(t.facedata["tBone"],a,e)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),e("el-tab-pane",{attrs:{label:"脸部轮廓",name:"face"}},[e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-list"},t._l(t.group["face"],(function(a,i){return e("li",{key:a+i},[e("label",[t._v(t._s(t.dict[a]["desc"]))]),e("span",[t._v(t._s(t.facedata["tBone"][a]))]),e("el-slider",{staticClass:"u-range",attrs:{min:t.bone_range[t.body_type][t.dict[a]["type"]]["min"],max:t.bone_range[t.body_type][t.dict[a]["type"]]["max"],disabled:t.lock},model:{value:t.facedata["tBone"][a],callback:function(e){t.$set(t.facedata["tBone"],a,e)},expression:"facedata['tBone'][key]"}})],1)})),0)])]),e("el-tab-pane",{attrs:{label:"贴花",name:"decal"}},[e("div",{staticClass:"m-facedat-decals",attrs:{id:"decals"}},[t._l(t.group["decal"],(function(a,i){return e("div",{key:a+i,staticClass:"c-facedat-group"},[t.cleandata["tDecal"][a]?[e("ul",{staticClass:"u-decals"},[e("li",{directives:[{name:"show",rawName:"v-show",value:!t.clean||t.checkdecal_prop(a),expression:"!clean || checkdecal_prop(key)"}]},[e("div",{staticClass:"u-title"},[t._v(" "+t._s(t.dict[a]["desc"])+" ")]),e("img",{staticClass:"u-pic",attrs:{src:t.decalDb.getDecalIcon(a,t.cleandata["tDecal"][a]["nShowID"])}}),e("span",{staticClass:"u-dname"},[t._v(t._s(t.decalDb.getDecalName(a,t.cleandata["tDecal"][a]["nShowID"])))]),t.decalDb.getDecalIsFlip(a,t.cleandata["tDecal"][a]["nShowID"])?e("span",{staticClass:"u-dflip"},[t._v("(翻转)")]):t._e(),e("span",{staticClass:"u-dcolor"},[t._v("(颜色:"+t._s(t.cleandata["tDecal"][a]["nColorID"])+")")]),t.decalDb.getDecalIsFree(a,t.cleandata["tDecal"][a]["nShowID"])?e("span",{staticClass:"u-free"},[e("i",{staticClass:"el-icon-success"}),t._v(" 新建角色可用 ")]):t._e(),t.decalDb.getDecalPrice(a,t.cleandata["tDecal"][a]["nShowID"])?e("span",{staticClass:"u-price"},[e("i",{staticClass:"el-icon-coin"}),t._v(" "+t._s(t.decalDb.getDecalPrice(a,t.cleandata["tDecal"][a]["nShowID"]))+" 通宝 ")]):t._e()])])]:t._e()],2)})),e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-decals"},[e("div",{staticClass:"u-title"},[t._v("装饰物")]),e("img",{staticClass:"u-pic",attrs:{src:t.decalDb.getDecorationIcon(t.cleandata["nDecorationID"])}}),e("span",{staticClass:"u-dname"},[t._v(t._s(t.decalDb.getDecorationName(t.cleandata["nDecorationID"])))]),t.decalDb.showDecorationPrice(t.cleandata["nDecorationID"])?e("span",{staticClass:"u-price"},[e("i",{staticClass:"el-icon-coin"}),t._v(" "+t._s(t.decalDb.showDecorationPrice(t.cleandata["nDecorationID"]))+" 通宝 ")]):t._e()])]),e("div",{staticClass:"c-facedat-group"},[e("ul",{staticClass:"u-decals"},[e("div",{staticClass:"u-title"},[t._v("总计")]),e("span",{staticClass:"u-total u-price"},[e("i",{staticClass:"el-icon-coin"}),e("b",[t._v(t._s(t.decalDb.getTotalPrice(t.cleandata)))]),t._v(" 通宝")])])])],2)])],1),e("div",{staticClass:"c-facedat-setting"},[e("el-form",{ref:"form",staticClass:"c-facedat-setting-form",attrs:{"label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"高级"}},[e("el-checkbox",{model:{value:t.clean,callback:function(e){t.clean=e},expression:"clean"}},[t._v("清洗模式")]),e("span",{staticClass:"u-warning"},[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" 仅保留创建新角色时可用项，如提示非法数据也请尝试开启该模式 ")])],1)],1)],1),e("div",{staticClass:"c-facedat-btns"},[e("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-receiving"},on:{click:function(e){return t.buildData("std")}}},[t._v("导出正式服")]),e("el-button",{staticClass:"u-btn",attrs:{type:"warning",icon:"el-icon-receiving"},on:{click:function(e){return t.buildData("origin")}}},[t._v("导出怀旧服")])],1)],1):t._e()},n=[],s=(a("caad"),a("2532"),a("fb6a"),a("b64b"),a("2ef0")),o=a.n(s),c=a("bc3a"),r=a.n(c),l=a("1b7b");function u(t){let e={tBone:{},tDecal:{},nRoleType:~~t.misc[0].value};t.decal.forEach(t=>{e.tDecal[t.name]={nShowID:~~t.value}});let a=["eye","mouth","nose","face"];return a.forEach(a=>{t[a].forEach(t=>{e.tBone[t.name]=~~t.value})}),e}var m=u,d=a("1c81"),f=a("a009"),_=a("b9cd"),p=(a("4222"),a("6965"),a("cd54")),h=a("7135"),v=a("1a3a"),y=a("dff1"),g=a("1093");class b{_fetchWithCache(t,e,a){try{const e=sessionStorage.getItem(t);if(e)return void a(JSON.parse(e))}catch{}try{r.a.get(e).then(e=>{try{sessionStorage.setItem(t,JSON.stringify(e.data))}catch{}a(e.data)})}catch{a("")}}ready(){return this.decal&&this.decoration}setBodyType(t){this.bodyType=t}getDecalName(t,e){return o.a.get(this.decal[this.bodyType][f[t]["type"]][e],"name")||"无"}getDecalIcon(t,e){let a=o.a.get(this.decal,[this.bodyType,f[t]["type"],e,"iconid"]);return l["a"]+"icon/"+(a||"undefined")+".png"}getDecalIsFlip(t,e){return o.a.get(this.decal[this.bodyType][f[t]["type"]][e],"IsFlip")||!1}getDecalIsFree(t,e){return~~o.a.get(this.decal,[this.bodyType,o.a.get(f,[t,"type"]),e,"CanUseInCreate"],-1)}getDecalPrice(t,e){return~~o.a.get(this.decal,[this.bodyType,o.a.get(f,[t,"type"]),e,"CoinPrice"],0)}getDecorationName(t){return o.a.get(this.decoration[this.bodyType][t],"Name")||"无"}getDecorationIcon(t){let e=o.a.get(this.decoration,[this.bodyType,t,"IconID"]);return l["a"]+"icon/"+(e||"undefined")+".png"}showDecorationPrice(t){return~~(o.a.get(this.decoration[this.bodyType][t],"CoinPrice")||"0")}getTotalPrice(t){let e=0;for(let a in t["tDecal"])t["tDecal"][a]&&(e+=this.getDecalPrice(a,t["tDecal"][a]["nShowID"]));return t["nDecorationID"]&&(e+=this.showDecorationPrice(this.cleandata["nDecorationID"])),e}canUseInCreate(t){if(t["nDecorationID"])return!1;for(let e in t["tDecal"])if(t["tDecal"][e]&&0===this.getDecalIsFree(e,t["tDecal"][e]["nShowID"]))return!1;return!0}constructor(t="std"){this.client=t,this.decal={},this.decoration={},this.bodyType=0,this._fetchWithCache("decal_"+t,`${l["b"]}data/face/decal_${t}.json`,t=>this.decal=t),this._fetchWithCache("decoration_"+t,`${l["b"]}data/face/decoration_${t}.json`,t=>this.decoration=t)}}var O=a("d4f4"),x=a("21a6"),D=a("1218"),E={name:"Facedat",props:["data","lock","tab_type"],data:function(){return{active:"eye",body_type:"",facedata:"",group:d,dict:f,bone_range:h,decal_group:_,clean:!1,version:"std",decalDb:null,decalMap:"",decorationMap:""}},computed:{ready:function(){return!(!this.facedata||!this.decalDb.ready())},cleandata:function(){if(this.clean&&this.facedata){var t=o.a.cloneDeep(this.facedata);for(var e in t.nDecorationID=0,t.tDecal){var a=this.decalDb.getDecalIsFree(e,null===t||void 0===t?void 0:t.tDecal[e]["nShowID"]);a||(t.tDecal[e]["nShowID"]=y[e]["nShowID"])}return t}return this.facedata},client:function(){var t,e=null===(t=this.facedata)||void 0===t?void 0:t.nMajorVersion;return 1!=e&&e?"origin":"std"},output_std:function(){var t=this.amendVersion("std");return t.tBone=this.amendBone(t.tBone),this.clean&&(t.tDecal=o.a.cloneDeep(y)),t},output_origin:function(){var t=this.amendVersion("origin");for(var e in t.tBone=this.amendBone(t.tBone),t.tDecal)if(_.origin.includes(e))for(var a in t.tDecal[e]["nColorID"]=y[e]["nColorID"],t.tDecal[e]["nShowID"]=y[e]["nShowID"],t.tDecal[e])p.origin.includes(a)||delete t.tDecal[e][a];else delete t.tDecal[e];return t},output:function(){var t={},e="origin"==this.version?this.output_origin:this.output_std;try{t="return "+Object(O["format"])(e,{eol:"",spaces:0}).slice(6)}catch(a){console.log("导出转换失败"),console.log(a)}return t}},watch:{data:{deep:!0,handler:function(t){this.render()}},cleandata:{deep:!0,handler:function(){this.$forceUpdate()}},client:{immediate:!0,handler:function(t){this.decalDb=new b(this.client)}}},methods:{render:function(){if(!this.data)return this.body_type="",void(this.facedata="");try{var t=JSON.parse(this.data);this.body_type=t.status?t.misc[0]["value"]:t.nRoleType,this.decalDb.setBodyType(this.body_type),this.facedata=t.status?m(t):t}catch(e){this.facedata="",console.log(e),this.$notify.error({title:"错误",message:"脸型数据无法解析"})}},buildData:function(t){this.version=t;var e=D["a"](this.output),a=new Blob([e],{type:"application/dat;charset=utf-8"});Object(x["saveAs"])(a,Date.now()+".dat")},amendVersion:function(t){var e=o.a.cloneDeep(this.cleandata);return e.nDecorationID="origin"===t?0:e.nDecorationID,e.nMajorVersion=g[t]["nMajorVersion"],e.nVersion=g[t]["nVersion"],e},amendBone:function(t){var e=o.a.cloneDeep(v),a=Object.assign(e,t);return a},amendDecal:function(t){o.a.cloneDeep(y);for(var e in y)t[e]?t[e]=Object.assign(y[e],t[e]):t[e]=o.a.cloneDeep(y[e]);return t},checkdecal_prop:function(t){return _.origin.includes(t)}},mounted:function(){this.render()}},S=E,I=(a("cc70"),a("2877")),C=Object(I["a"])(S,i,n,!1,null,null,null);e["a"]=C.exports},e34d:function(t,e,a){"use strict";a("5b4e")},efec:function(t,e,a){"use strict";var i=a("1a2d"),n=a("cb2d"),s=a("51eb"),o=a("b622"),c=o("toPrimitive"),r=Date.prototype;i(r,c)||n(r,c,s)}}]);
//# sourceMappingURL=chunk-88f94c82.86be232f.js.map